-- This file has been generated by Dungeon Editor 2.2.4

--- level 1 ---

newMap{
	name = "Port Ciago",
	width = 32,
	height = 32,
	levelCoord = {0,-1,0},
	ambientTrack = "beach",
	tiles = {
		"beach_ground",
		"beach_ground_water",
		"beach_wall",
		"forest_ground",
		"forest_trees",
	}
}

loadLayer("ceiling_elevation", {
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
})

loadLayer("heightmap", {
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-1,-1,-2,-2,-2,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-2,-1,-2,-2,-2,-2,-2,-2,-2,-2,-3,
	-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,
	-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,
	-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,-2,-2,-2,-1,-1,-2,-2,-2,-1,-2,-2,-1,-2,
	-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,0,-1,-2,-2,-2,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,
	-3,-3,-3,-3,-3,-3,-2,-2,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-1,-2,-2,-2,-1,-2,-2,
	-3,-3,-3,-3,-3,-3,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,-2,-1,-1,-2,-1,-2,-1,-1,-1,-1,-2,-2,
	-3,-3,-3,-3,-3,-3,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-2,
	-3,-3,-3,-3,-3,-3,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
})

loadLayer("reflection", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

loadLayer("tiles", {
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,1,2,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,1,2,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,3,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,2,2,2,2,2,2,2,3,2,2,3,2,3,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,4,4,4,1,2,2,2,2,2,2,2,3,3,3,3,2,3,
	2,2,2,2,2,2,2,2,1,1,2,1,1,1,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,3,2,3,
	2,2,2,2,2,2,2,1,1,1,1,1,1,1,4,4,4,4,1,2,2,1,1,2,2,2,3,3,3,3,2,3,
	2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,4,4,3,3,3,1,3,2,1,1,1,1,3,1,1,3,
	2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,4,3,3,5,5,5,3,3,3,3,3,3,3,3,3,3,
})

spawn("forest_day_sky",0,0,0,0,"forest_day_sky_2")
spawn("forest_heightmap",1,0,0,0,"forest_heightmap_2")
spawn("beach_ocean",8,1,0,0,"beach_ocean_2")
beach_ocean_2.bottom:disable()
spawn("forest_exit_rock_tunnel",16,31,2,0,"forest_exit_rock_tunnel_2")
spawn("forest_bridge",17,16,0,1,"forest_bridge_34")
spawn("forest_bridge_pillar",18,18,1,0,"forest_bridge_pillar_23")
spawn("forest_bridge_pillar",17,18,1,0,"forest_bridge_pillar_24")
spawn("forest_bridge",15,23,0,1,"forest_bridge_35")
spawn("forest_bridge",17,15,0,1,"forest_bridge_36")
spawn("beach_boulder",5,26,0,0,"beach_boulder_2")
spawn("beach_boulder",18,25,1,0,"beach_boulder_3")
spawn("beach_rock_3x1",13,31,1,0,"beach_rock_3x1_5")
spawn("forest_ruins_arch",16,27,0,0,"forest_ruins_arch_1")
spawn("forest_ruins_pillar_01",15,27,3,0,"forest_ruins_pillar_01_1")
spawn("forest_bridge_pillar",19,18,1,0,"forest_bridge_pillar_27")
spawn("ladder",16,25,3,0,"ladder_4")
spawn("dungeon_pillar",16,26,0,0,"dungeon_pillar_66")
spawn("dungeon_pillar",16,25,3,0,"dungeon_pillar_69")
spawn("dungeon_pillar",15,25,0,0,"dungeon_pillar_70")
spawn("forest_bridge",15,22,0,1,"forest_bridge_38")
spawn("forest_bridge",15,21,0,1,"forest_bridge_39")
spawn("mine_support_beam_01",16,17,0,2,"mall_flag_beam")
spawn("forest_bridge",15,20,0,1,"forest_bridge_40")
spawn("beach_shipwreck_land_mast",5,18,3,0,"beach_shipwreck_land_mast_1")
spawn("beach_shipwreck",16,29,3,-1,"beach_shipwreck_1")
spawn("beach_rock_3x2",8,30,3,0,"beach_rock_3x2_3")
spawn("beach_rock_2x1",5,30,2,0,"beach_rock_2x1_3")
spawn("beach_rock_spire",7,31,2,0,"beach_rock_spire_5")
spawn("beach_rock_pillar_01",5,28,2,0,"beach_rock_pillar_01_1")
spawn("beach_rock_pillar_01",31,23,3,0,"beach_rock_pillar_01_2")
spawn("beach_rock_pillar_01",0,20,1,0,"beach_rock_pillar_01_3")
spawn("beach_rock_1x1",16,21,3,0,"beach_rock_1x1_5")
spawn("beach_rock_3x1",17,31,1,0,"beach_rock_3x1_6")
spawn("forest_blocker_stone",5,29,2,0,"forest_blocker_stone_3")
spawn("beach_rock_1x1_low",25,27,1,0,"beach_rock_1x1_low_1")
spawn("invisible_rocky_wall",5,24,1,0,"invisible_rocky_wall_6")
spawn("invisible_rocky_wall",5,25,1,0,"invisible_rocky_wall_7")
spawn("invisible_rocky_wall",5,27,1,0,"invisible_rocky_wall_10")
spawn("forest_bridge",15,19,0,1,"forest_bridge_41")
spawn("forest_bridge",15,18,0,1,"forest_bridge_42")
spawn("forest_bridge",15,17,0,1,"forest_bridge_43")
spawn("forest_bridge",16,17,1,1,"forest_bridge_44")
spawn("forest_bridge",17,17,1,1,"forest_bridge_45")
spawn("forest_bridge",18,17,1,1,"forest_bridge_46")
spawn("forest_bridge",19,17,1,1,"forest_bridge_47")
spawn("forest_bridge",20,17,1,1,"forest_bridge_48")
spawn("forest_bridge",15,16,0,1,"forest_bridge_49")
spawn("forest_bridge",15,15,0,1,"forest_bridge_50")
spawn("forest_bridge",14,17,1,1,"forest_bridge_51")
spawn("forest_bridge",13,17,1,1,"forest_bridge_52")
spawn("forest_bridge",13,16,2,1,"forest_bridge_53")
spawn("forest_bridge",13,15,2,1,"forest_bridge_54")
spawn("dungeon_pillar_high",15,18,2,0,"dungeon_pillar_high_23")
spawn("dungeon_pillar_high",15,17,2,0,"dungeon_pillar_high_24")
spawn("dungeon_pillar_high",16,17,2,0,"dungeon_pillar_high_25")
spawn("dungeon_pillar_high",16,18,2,0,"dungeon_pillar_high_26")
spawn("dungeon_pillar",15,24,0,0,"dungeon_pillar_71")
spawn("dungeon_pillar",16,24,0,0,"dungeon_pillar_72")
spawn("dungeon_pillar",16,23,3,0,"dungeon_pillar_73")
spawn("dungeon_pillar",15,23,3,0,"dungeon_pillar_74")
spawn("dungeon_pillar",15,22,3,0,"dungeon_pillar_75")
spawn("dungeon_pillar",16,22,3,0,"dungeon_pillar_76")
spawn("dungeon_pillar",16,21,3,0,"dungeon_pillar_77")
spawn("dungeon_pillar",15,21,3,0,"dungeon_pillar_78")
spawn("dungeon_pillar",15,20,3,0,"dungeon_pillar_79")
spawn("dungeon_pillar",16,20,3,0,"dungeon_pillar_80")
spawn("dungeon_pillar",16,19,3,0,"dungeon_pillar_81")
spawn("dungeon_pillar",15,19,3,0,"dungeon_pillar_82")
spawn("mine_support_beam_01",15,18,0,1,"mine_support_beam_01_8")
spawn("mine_support_beam_01",15,17,3,1,"mine_support_beam_01_9")
spawn("mine_support_beam_01",16,17,3,1,"mine_support_beam_01_10")
spawn("mine_support_beam_01",15,16,2,1,"mine_support_beam_01_11")
spawn("forest_bridge",19,16,0,1,"forest_bridge_55")
spawn("forest_bridge",19,15,0,1,"forest_bridge_56")
spawn("invisible_wall",13,21,2,0,"invisible_wall_22")
spawn("beach_cattail_wall",16,21,2,0,"beach_cattail_wall_4")
spawn("beach_cattail_wall",15,22,0,0,"beach_cattail_wall_5")
spawn("beach_puzzle_statue",10,30,2,0,"beach_puzzle_statue_1")
beach_puzzle_statue_1.clickable:disable()
beach_puzzle_statue_1.socket:addConnector("onInsertItem", "<SELECT TARGET>", "")
beach_puzzle_statue_1.socket:disable()
spawn("beach_rock_border",8,27,3,0,"beach_rock_border_8")
spawn("beach_cattail_wall",17,21,2,0,"beach_cattail_wall_6")
spawn("beach_boulder",17,21,1,0,"beach_boulder_4")
spawn("beach_cattail_blocker",17,20,3,0,"beach_cattail_blocker_33")
spawn("beach_cattail_blocker",16,20,1,0,"beach_cattail_blocker_34")
spawn("beach_cattail_blocker",15,21,0,0,"beach_cattail_blocker_35")
spawn("beach_cattail_blocker",10,25,1,0,"beach_cattail_blocker_36")
spawn("beach_cattail_blocker",18,18,3,0,"beach_cattail_blocker_37")
spawn("beach_cattail_blocker",21,25,3,0,"beach_cattail_blocker_38")
spawn("beach_cattail_blocker",9,24,2,0,"beach_cattail_blocker_39")
spawn("beach_cattail_blocker",12,25,3,0,"beach_cattail_blocker_40")
spawn("beach_cattail_blocker",11,26,0,0,"beach_cattail_blocker_41")
spawn("beach_cattail_blocker",9,23,1,0,"beach_cattail_blocker_42")
spawn("beach_cattail_blocker",13,24,3,0,"beach_cattail_blocker_43")
spawn("beach_cattail_blocker",14,24,3,0,"beach_cattail_blocker_44")
spawn("beach_cattail_blocker",13,23,2,0,"beach_cattail_blocker_45")
spawn("beach_cattail_blocker",10,23,1,0,"beach_cattail_blocker_46")
spawn("beach_cattail_blocker",12,22,2,0,"beach_cattail_blocker_47")
spawn("beach_cattail_blocker",20,23,2,0,"beach_cattail_blocker_48")
spawn("beach_cattail_blocker",19,18,1,0,"beach_cattail_blocker_49")
spawn("beach_cattail_blocker",23,26,3,0,"beach_cattail_blocker_50")
spawn("beach_cattail_blocker",19,23,3,0,"beach_cattail_blocker_51")
spawn("beach_cattail_blocker",23,20,3,0,"beach_cattail_blocker_52")
spawn("beach_cattail_blocker",16,19,1,0,"beach_cattail_blocker_53")
spawn("beach_rock_3x1",6,31,3,0,"beach_rock_3x1_7")
spawn("beach_rock_outside_wall_high",0,30,0,0,"beach_rock_outside_wall_high_3")
spawn("beach_rock_outside_wall_low",0,24,0,0,"beach_rock_outside_wall_low_1")
spawn("mine_support_wall_01",15,22,3,0,"mine_support_wall_01_59")
spawn("dungeon_pillar",15,24,0,1,"dungeon_pillar_83")
spawn("dungeon_pillar",16,24,0,1,"dungeon_pillar_84")
spawn("mine_support_beam_01",18,27,0,1,"port_flag_beam")
spawn("dungeon_pillar",15,26,0,0,"dungeon_pillar_85")
spawn("dungeon_wall_01",15,26,0,0,"dungeon_wall_01_38")
spawn("dungeon_wall_01",14,25,1,0,"dungeon_wall_01_41")
spawn("dungeon_wall_01",16,25,3,0,"dungeon_wall_01_46")
spawn("dungeon_wall_01",16,24,3,0,"dungeon_wall_01_47")
spawn("dungeon_wall_01",14,24,1,0,"dungeon_wall_01_48")
spawn("dungeon_wall_01",15,23,2,0,"dungeon_wall_01_49")
spawn("invisible_rocky_wall",15,24,1,0,"invisible_rocky_wall_37")
spawn("invisible_rocky_wall",15,25,1,0,"invisible_rocky_wall_38")
spawn("dungeon_floor_01",15,25,3,1,"dungeon_floor_01_1")
spawn("dungeon_floor_01",15,24,3,1,"dungeon_floor_01_2")
spawn("invisible_platform",15,25,2,1,"invisible_platform_4")
spawn("invisible_platform",15,24,2,1,"invisible_platform_5")
spawn("forest_stairs_down",27,28,1,0,"forest_stairs_down_4")
forest_stairs_down_4.stairs:setTeleportTarget(2,27,28,-1)
spawn("mine_wall_text",16,17,2,1,"mine_wall_text_2")
mine_wall_text_2.walltext:setWallText("Port Ciago")
spawn("mine_support_pillar_01",19,17,3,0,"mine_support_pillar_01_1")
spawn("mine_support_wall_02",16,17,2,1,"mine_support_wall_02_5")
spawn("mine_support_wall_01",13,29,0,0,"mine_support_wall_01_63")
spawn("mine_support_wall_01",16,30,3,0,"mine_support_wall_01_70")
spawn("mine_support_beam_01",14,30,0,0,"mine_support_beam_01_20")
spawn("mine_support_beam_01",14,31,0,0,"mine_support_beam_01_21")
spawn("mine_support_beam_01",17,28,2,0,"mine_support_beam_01_22")
spawn("mine_support_beam_01",15,30,2,0,"mine_support_beam_01_23")
spawn("mine_support_beam_01",13,30,1,0,"mine_support_beam_01_24")
spawn("mine_support_beam_01",15,30,0,0,"mine_support_beam_01_25")
spawn("mine_support_pillar_01",16,30,2,0,"mine_support_pillar_01_18")
spawn("mine_support_pillar_01",14,30,0,0,"mine_support_pillar_01_19")
spawn("mine_support_pillar_01",14,31,1,0,"mine_support_pillar_01_20")
spawn("mine_support_pillar_01",17,31,0,0,"mine_support_pillar_01_21")
spawn("mine_support_pillar_01",15,31,0,0,"mine_support_pillar_01_22")
spawn("pedestal",15,30,2,0,"port_shop_stock")
spawn("flarefeather_cap",15,30,2,0,"flarefeather_cap_1")
port_shop_stock.surface:addItem(flarefeather_cap_1.item)
spawn("pointy_shoes",15,30,2,0,"pointy_shoes_2")
port_shop_stock.surface:addItem(pointy_shoes_2.item)
spawn("embalmers_robe",15,30,2,0,"embalmers_robe_2")
port_shop_stock.surface:addItem(embalmers_robe_2.item)
spawn("archmage_scapular",15,30,2,0,"archmage_scapular_1")
port_shop_stock.surface:addItem(archmage_scapular_1.item)
spawn("xafi_khakis",15,30,2,0,"xafi_khakis_2")
port_shop_stock.surface:addItem(xafi_khakis_2.item)
spawn("steel_cuirass",15,30,2,0,"steel_cuirass_1")
port_shop_stock.surface:addItem(steel_cuirass_1.item)
spawn("pedestal",15,30,0,0,"port_shop_desk")
port_shop_desk.surface:addConnector("onInsertItem", "port_shop_script", "putItem")
port_shop_desk.surface:addConnector("onRemoveItem", "port_shop_script", "takeItem")
spawn("script_entity",15,31,3,0,"port_shop_script")
port_shop_script.script:setSource("port_shop = {}\
port_shop.name = \"port_shop\"\
port_shop.currency = \"coin_copper\"\
port_shop.dealer_name = \"Trader\"\
port_shop.out_of_stock_message = \"You have bought everything I had!\"\
port_shop.wrong_items_message = \"I only trade for copper.\"\
port_shop.deal_message = \"Deal!\"\
port_shop.no_deal_message = \"No business then!\"\
port_shop.no_messing_message = \"Stop messing around!\"\
\
function pullChain()\
\9shop.script.pullChain(port_shop)\9\
end\
\
function takeItem(alcove, item)\
\9shop.script.takeItem(port_shop, alcove, item)\9\
end\
\
function putItem(alcove, item)\
\9shop.script.putItem(port_shop, alcove, item)\9\
end")
spawn("ratling3",15,30,0,0,"ratling3_1")
ratling3_1.monster:disable()
spawn("mine_support_wall_01",14,30,0,0,"mine_support_wall_01_72")
spawn("ratling_pair",14,30,0,0,"ratling_pair_1")
spawn("pullchain",15,29,2,0,"pullchain_4")
pullchain_4.button:setDisableSelf(false)
pullchain_4.button:addConnector("onActivate", "port_shop_script", "pullChain")
spawn("mine_support_wall_01",15,23,3,0,"mine_support_wall_01_73")
spawn("mine_support_wall_01",15,21,2,0,"mine_support_wall_01_74")
spawn("invisible_teleporter",15,15,3,0,"invisible_teleporter_2")
invisible_teleporter_2.teleporter:setTeleportTarget(1,15,15,1)
invisible_teleporter_2.teleporter:setSpin("south")
invisible_teleporter_2.teleporter:setTriggeredByParty(true)
invisible_teleporter_2.teleporter:setTriggeredByMonster(false)
invisible_teleporter_2.teleporter:setTriggeredByItem(true)
invisible_teleporter_2.teleporter:setTriggeredBySpell(false)
spawn("beach_rock_spire",7,30,2,0,"beach_rock_spire_2")
spawn("beach_rock_spire",6,30,2,0,"beach_rock_spire_3")
spawn("sack",15,15,2,0,"start_sack")
spawn("coin_copper",15,15,2,0,"coin_copper_6")
start_sack.containeritem:addItem(coin_copper_6.item)
spawn("coin_copper",15,15,2,0,"coin_copper_7")
start_sack.containeritem:addItem(coin_copper_7.item)
spawn("coin_copper",15,15,2,0,"coin_copper_8")
start_sack.containeritem:addItem(coin_copper_8.item)
spawn("coin_copper",15,15,2,0,"coin_copper_9")
start_sack.containeritem:addItem(coin_copper_9.item)
spawn("coin_silver",15,15,2,0,"coin_silver_1")
start_sack.containeritem:addItem(coin_silver_1.item)
spawn("food_water_flask",15,15,2,0,"food_water_flask_1")
start_sack.containeritem:addItem(food_water_flask_1.item)
spawn("food_sausage",15,15,2,0,"food_sausage_1")
start_sack.containeritem:addItem(food_sausage_1.item)
spawn("floor_trigger",15,15,3,0,"floor_trigger_5")
floor_trigger_5.floortrigger:setTriggeredByParty(true)
floor_trigger_5.floortrigger:setTriggeredByMonster(false)
floor_trigger_5.floortrigger:setTriggeredByItem(false)
floor_trigger_5.floortrigger:setTriggeredByDigging(false)
floor_trigger_5.floortrigger:setDisableSelf(true)
floor_trigger_5.floortrigger:addConnector("onActivate", "entering_script", "start")
spawn("script_entity",14,14,1,0,"entering_script")
entering_script.script:setSource("function start()\
\9GameMode.setTimeOfDay(1.9)\
\9local ch = helper.script.getFirstChampion()\
\9if ch ~= nil then\
\9\9local n = ch:getName()\
\9\9start_letter.scrollitem:setScrollText( string.gsub( start_letter.scrollitem:getScrollText(), \"nnn\", n) )\
\9\9start_letter.scrollitem:setTextAlignment(\"left\")\
\9\9start_sack.containeritem:addItem(start_letter.item)\
\9end\
\9lighthouse.script.lightUp()\
end\
\
pier_gate_exp = false\
\
function closePierDoor()\
\9mall_visible_door.door:open()\
\9mall_blocker:setPosition(mall_blocker.x, mall_blocker.y, mall_blocker.facing, 1, mall_blocker.level)\
\9-- mall_blocker.obstacle:enable()\
\9-- mall_blocker.projectilecollider:enable()\
end\
\
function openPierDoor()\
\9mall_visible_door.door:close()\9\9\
\9mall_blocker:setPosition(mall_blocker.x, mall_blocker.y, mall_blocker.facing, 0, mall_blocker.level)\
\9-- mall_blocker.elevation = 0\
\9--mall_blocker.projectilecollider:disable()\
end\
\
function checkFlags()\
\9if flag_position == 1 and port_flag_position == 1 then\
\9\9if mall_visible_door.door:isOpen() or mall_visible_door.door:isOpening() then\
\9\9\9openPierDoor()\
\9\9\9if not pier_gate_exp then\
\9\9\9\9helper.script.gainExp(300, \"Pier gate open.\")\
\9\9\9\9pier_gate_exp = true\
\9\9\9end\
\9\9end\
\9else\
\9\9if mall_visible_door.door:isClosed() or mall_visible_door.door:isClosing() then\
\9\9\9closePierDoor()\
\9\9end\
\9end\
end\
\
flag_position = 1\
flag_rising = false\
\
function flagChain()\
\9if flag_position == 0 then\
\9\9flag_rising = true\
\9\9flag_timer.timer:start()\
\9\9flag_sound.controller:activate()\
\9elseif flag_position == 1 then\
\9\9flag_rising = false\
\9\9flag_timer.timer:start()\
\9\9flag_sound.controller:activate()\
\9\9closePierDoor()\
\9end\
end\
\
function flagMove()\
\9if flag_rising then\
\9\9if flag_position >= 1 then\
\9\9\9flag_position = 1\
\9\9\9flag_timer.timer:stop()\
\9\9\9flag_sound.sound:stop()\
\9\9\9checkFlags()\
\9\9else\
\9\9\9flag_position = flag_position + 0.05\
\9\9end\
\9else\
\9\9if flag_position <= 0 then\9\9\
\9\9\9flag_position = 0\
\9\9\9flag_timer.timer:stop()\
\9\9\9flag_sound.sound:stop()\
\9\9\9checkFlags()\
\9\9else\
\9\9\9flag_position = flag_position - 0.05\
\9\9end\
\9end\
\9mall_flag:setPosition(mall_flag.x, mall_flag.y, mall_flag.facing, 1 + flag_position, mall_flag.level)\
\9mall_flag_beam:setPosition(mall_flag_beam.x, mall_flag_beam.y, mall_flag_beam.facing, 1 + flag_position, mall_flag_beam.level)\
end\
\
port_flag_position = 0\
port_flag_rising = true\
\
function shotHead()\
\9if port_flag_position == 0 then\
\9\9port_flag_rising = true\
\9\9port_flag_timer.timer:start()\
\9\9port_flag_sound.controller:activate()\
\9elseif port_flag_position == 1 then\
\9\9port_flag_rising = false\
\9\9port_flag_timer.timer:start()\
\9\9port_flag_sound.controller:activate()\
\9end\
end\
\
function portFlagMove()\
\9if port_flag_rising then\
\9\9if port_flag_position >= 1 then\
\9\9\9port_flag_position = 1\
\9\9\9port_flag_timer.timer:stop()\
\9\9\9port_flag_sound.sound:stop()\
\9\9\9checkFlags()\
\9\9else\
\9\9\9port_flag_position = port_flag_position + 0.05\
\9\9end\
\9else\
\9\9if port_flag_position <= 0 then\9\9\
\9\9\9port_flag_position = 0\
\9\9\9port_flag_timer.timer:stop()\
\9\9\9port_flag_sound.sound:stop()\
\9\9\9checkFlags()\
\9\9else\
\9\9\9port_flag_position = port_flag_position - 0.05\
\9\9end\
\9end\
\9port_flag:setPosition(port_flag.x, port_flag.y, port_flag.facing, 1 + port_flag_position, port_flag.level)\
\9port_flag_beam:setPosition(port_flag_beam.x, port_flag_beam.y, port_flag_beam.facing, 1 + port_flag_position, port_flag_beam.level)\
end")
spawn("mine_support_pillar_01",20,17,1,0,"mine_support_pillar_01_23")
spawn("mine_support_pillar_01",18,17,3,0,"mine_support_pillar_01_26")
spawn("mine_support_pillar_01",13,18,3,0,"mine_support_pillar_01_29")
spawn("forest_bridge_pillar",20,18,1,0,"forest_bridge_pillar_31")
spawn("forest_bridge_pillar",19,16,2,0,"forest_bridge_pillar_32")
spawn("forest_bridge_pillar",17,16,2,0,"forest_bridge_pillar_33")
spawn("forest_bridge_pillar",15,16,2,0,"forest_bridge_pillar_34")
spawn("forest_bridge_pillar",13,16,2,0,"forest_bridge_pillar_35")
spawn("forest_bridge_pillar",14,16,0,0,"forest_bridge_pillar_36")
spawn("forest_bridge_pillar",16,16,0,0,"forest_bridge_pillar_37")
spawn("forest_bridge_pillar",18,16,0,0,"forest_bridge_pillar_38")
spawn("forest_bridge_pillar",20,16,0,0,"forest_bridge_pillar_39")
spawn("invisible_wall",13,14,3,1,"invisible_wall_23")
invisible_wall_23.projectilecollider:disable()
spawn("invisible_wall",12,15,3,1,"invisible_wall_24")
invisible_wall_24.projectilecollider:disable()
spawn("invisible_wall",12,16,3,1,"invisible_wall_25")
invisible_wall_25.projectilecollider:disable()
spawn("invisible_wall",14,20,3,1,"invisible_wall_28")
invisible_wall_28.projectilecollider:disable()
spawn("invisible_wall",14,16,3,1,"invisible_wall_29")
invisible_wall_29.projectilecollider:disable()
spawn("invisible_wall",14,15,3,1,"invisible_wall_30")
invisible_wall_30.projectilecollider:disable()
spawn("invisible_wall",15,14,3,1,"invisible_wall_31")
invisible_wall_31.projectilecollider:disable()
spawn("invisible_wall",16,15,3,1,"invisible_wall_32")
invisible_wall_32.projectilecollider:disable()
spawn("invisible_wall",16,16,3,1,"invisible_wall_33")
invisible_wall_33.projectilecollider:disable()
spawn("invisible_wall",18,16,3,1,"invisible_wall_34")
invisible_wall_34.projectilecollider:disable()
spawn("invisible_wall",18,15,3,1,"invisible_wall_35")
invisible_wall_35.projectilecollider:disable()
spawn("invisible_wall",19,14,3,1,"invisible_wall_36")
invisible_wall_36.projectilecollider:disable()
spawn("invisible_wall",17,14,3,1,"invisible_wall_37")
invisible_wall_37.projectilecollider:disable()
spawn("invisible_wall",20,15,3,1,"invisible_wall_38")
invisible_wall_38.projectilecollider:disable()
spawn("invisible_wall",20,16,3,1,"invisible_wall_39")
invisible_wall_39.projectilecollider:disable()
spawn("invisible_wall",21,17,3,1,"invisible_wall_40")
invisible_wall_40.projectilecollider:disable()
spawn("invisible_wall",20,18,3,1,"invisible_wall_41")
invisible_wall_41.projectilecollider:disable()
spawn("invisible_wall",19,18,3,1,"invisible_wall_42")
invisible_wall_42.projectilecollider:disable()
spawn("invisible_wall",18,18,3,1,"invisible_wall_43")
invisible_wall_43.projectilecollider:disable()
spawn("invisible_wall",17,18,3,1,"invisible_wall_44")
invisible_wall_44.projectilecollider:disable()
spawn("invisible_wall",16,18,3,1,"invisible_wall_45")
invisible_wall_45.projectilecollider:disable()
spawn("invisible_wall",16,19,3,1,"invisible_wall_46")
invisible_wall_46.projectilecollider:disable()
spawn("mine_support_pillar_01",14,17,3,0,"mine_support_pillar_01_24")
spawn("mine_support_pillar_01",14,15,3,0,"mine_support_pillar_01_27")
spawn("mine_support_pillar_01",13,15,3,0,"mine_support_pillar_01_28")
spawn("mine_support_pillar_01",15,15,3,0,"mine_support_pillar_01_30")
spawn("mine_support_pillar_01",16,15,3,0,"mine_support_pillar_01_31")
spawn("mine_support_pillar_01",17,15,3,0,"mine_support_pillar_01_32")
spawn("mine_support_pillar_01",18,15,3,0,"mine_support_pillar_01_33")
spawn("mine_support_pillar_01",19,15,3,0,"mine_support_pillar_01_34")
spawn("mine_support_pillar_01",20,15,3,0,"mine_support_pillar_01_35")
spawn("mine_support_pillar_01",21,17,3,0,"mine_support_pillar_01_36")
spawn("mine_support_pillar_01",21,18,3,0,"mine_support_pillar_01_37")
spawn("mine_support_pillar_lantern_01",21,18,3,1,"mine_support_pillar_lantern_01_1")
spawn("dungeon_pillar_lantern_01",16,17,3,1,"dungeon_pillar_lantern_01_1")
spawn("mine_support_pillar_01",16,17,3,2,"mine_support_pillar_01_38")
spawn("mine_support_wall_01",12,18,1,1,"mine_support_wall_01_75")
spawn("forest_bridge",13,18,1,1,"forest_bridge_37")
spawn("forest_bridge",14,18,1,1,"forest_bridge_57")
spawn("mine_support_wall_02",16,18,3,1,"mine_support_wall_02_8")
spawn("mine_support_wall_02",13,17,3,1,"mine_support_wall_02_10")
spawn("mine_support_pillar_01",13,19,3,0,"mine_support_pillar_01_41")
spawn("mine_support_pillar_01",13,19,3,1,"mine_support_pillar_01_42")
spawn("mine_support_pillar_01",14,19,3,1,"mine_support_pillar_01_43")
spawn("mine_support_pillar_01",13,18,3,1,"mine_support_pillar_01_44")
spawn("mine_support_pillar_01",13,17,3,0,"mine_support_pillar_01_45")
spawn("mine_support_pillar_01",15,19,3,1,"mine_support_pillar_01_47")
spawn("mine_support_pillar_01",14,18,3,0,"mine_support_pillar_01_48")
spawn("mine_support_pillar_01",14,19,3,0,"mine_support_pillar_01_49")
spawn("mine_support_pillar_01",13,18,3,0,"mine_support_pillar_01_50")
spawn("barrel_crate_block",14,18,0,1,"barrel_crate_block_6")
spawn("doublet",14,18,2,1,"doublet_1")
spawn("barrel_crate_block",20,17,3,1,"barrel_crate_block_7")
spawn("invisible_wall",16,20,3,1,"invisible_wall_26")
invisible_wall_26.projectilecollider:disable()
spawn("invisible_wall",16,21,3,1,"invisible_wall_27")
invisible_wall_27.projectilecollider:disable()
spawn("forest_ruins_fallen_bricks",15,27,2,0,"forest_ruins_fallen_bricks_1")
spawn("forest_ruins_pillar_fallen",17,30,2,0,"forest_ruins_pillar_fallen_1")
spawn("forest_seaweed_floor_01",18,20,3,0,"forest_seaweed_floor_01_1")
spawn("forest_ruins_wall_01",14,27,1,0,"forest_ruins_wall_01_2")
spawn("forest_ruins_wall_02",17,26,2,0,"forest_ruins_wall_02_1")
spawn("forest_ruins_wall_end_left",18,28,3,0,"forest_ruins_wall_end_left_1")
spawn("forest_ruins_wall_end_right",11,30,1,0,"forest_ruins_wall_end_right_1")
spawn("forest_ruins_fallen_bricks",17,29,2,0,"forest_ruins_fallen_bricks_2")
spawn("forest_ruins_wall_01",17,27,1,0,"forest_ruins_wall_01_3")
spawn("forest_seaweed_pillar",18,20,3,0,"forest_seaweed_pillar_4")
spawn("forest_seaweed_pillar",13,24,3,0,"forest_seaweed_pillar_7")
spawn("forest_seaweed_pillar",11,24,3,0,"forest_seaweed_pillar_8")
spawn("forest_seaweed_pillar",11,26,3,0,"forest_seaweed_pillar_9")
spawn("forest_seaweed_floor_01",17,19,3,0,"forest_seaweed_floor_01_3")
spawn("mine_door_spear",16,26,2,0,"port_door")
spawn("forest_ruins_pillar_01",15,28,3,0,"forest_ruins_pillar_01_2")
spawn("forest_ruins_pillar_01",12,30,3,0,"forest_ruins_pillar_01_3")
spawn("forest_ruins_pillar_01",18,28,3,0,"forest_ruins_pillar_01_4")
spawn("mine_support_pillar_lantern_01",13,17,1,1,"mine_support_pillar_lantern_01_2")
spawn("mine_support_pillar_01",16,19,3,1,"mine_support_pillar_01_39")
spawn("dungeon_wall_grating",15,19,0,0,"mall_visible_door")
mall_visible_door.door:setDoorState("open")
spawn("mine_support_beam_01",15,19,0,1,"mine_support_beam_99")
spawn("mine_support_beam_01",15,24,0,1,"mine_support_beam_01_26")
spawn("timer",16,16,0,0,"flag_timer")
flag_timer.timer:setTimerInterval(0.1)
flag_timer.timer:setDisableSelf(false)
flag_timer.timer:setTriggerOnStart(false)
flag_timer.timer:setCurrentLevelOnly(true)
flag_timer.timer:addConnector("onActivate", "entering_script", "flagMove")
flag_timer.timer:disable()
spawn("sound",16,17,2,0,"flag_sound")
flag_sound.sound:setSound("master_gate_open")
flag_sound.sound:disable()
spawn("wall_trigger",17,26,2,0,"wall_trigger_1")
wall_trigger_1.walltrigger:setEntityType("signal")
wall_trigger_1.walltrigger:addConnector("onActivate", "entering_script", "shotHead")
spawn("sound",18,27,2,0,"port_flag_sound")
port_flag_sound.sound:setSound("master_gate_open")
port_flag_sound.sound:disable()
spawn("timer",18,27,0,0,"port_flag_timer")
port_flag_timer.timer:setTimerInterval(0.1)
port_flag_timer.timer:setDisableSelf(false)
port_flag_timer.timer:setTriggerOnStart(false)
port_flag_timer.timer:setCurrentLevelOnly(true)
port_flag_timer.timer:addConnector("onActivate", "entering_script", "portFlagMove")
port_flag_timer.timer:disable()
spawn("invisible_wall",14,21,3,1,"invisible_wall_47")
invisible_wall_47.projectilecollider:disable()
spawn("invisible_wall",14,19,3,1,"invisible_wall_48")
invisible_wall_48.projectilecollider:disable()
spawn("chest",13,18,0,1,"chest_5")
spawn("signal_rod",13,18,0,1,"signal_rod_2")
chest_5.surface:addItem(signal_rod_2.item)
spawn("ratling2",15,26,1,0,"ratling2_1")
ratling2_1.monster:disable()
spawn("mine_support_wall_01",15,26,3,0,"mine_support_wall_01_76")
spawn("mine_support_wall_02",15,26,0,1,"mine_support_wall_02_4")
spawn("pedestal",15,26,1,0,"bribe_pedestal")
bribe_pedestal.surface:addConnector("onInsertItem", "bribe_script", "insertItem")
spawn("dungeon_wall_lantern",15,27,3,0,"dungeon_wall_lantern_1")
spawn("forest_bridge",15,26,0,1,"forest_bridge_58")
spawn("water_flask",15,26,2,0,"water_flask_2")
spawn("script_entity",14,26,3,0,"bribe_script")
bribe_script.script:setSource("guard_bribed = false\
guard_name = \"Port Gatekeeper\"\
\
function insertItem()\9\
\9if not guard_bribed then\
\9\9if helper.script.surfaceContains(bribe_pedestal.surface, \"coin_silver\") then\
\9\9\9helper.script.talk(guard_name, \"Oh yes! Pesos it is.\")\
\9\9\9helper.script.gainExp(250, \"Bribed \" .. guard_name .. \".\")\
\9\9\9bribe_lever.lever:toggle();\
\9\9\9for _,i in bribe_pedestal.surface:contents() do\
\9\9\9\9if i.go.name == \"coin_silver\"  then   \
\9\9\9\9\9i.go:destroy()\
\9\9\9\9end\
\9\9   \9end\
\9\9\9guard_bribed = true\
\9\9else\
\9\9\9helper.script.talk(guard_name, \"I won't be bribed so easily.\")\
\9\9end\
\9else\
\9\9helper.script.talk(guard_name, \"You may pass. No more bribery.\")\
\9end\
end\
\
function trigger()\
\9if guard_bribed then\
\9\9helper.script.talkRandom(guard_name, \
\9\9\9{ \
\9\9\9\"Go see John Silver at the pawnshop.\",\
\9\9\9\"Don't get too close to those crabs!\",\
\9\9\9\"Stay away from crabs!\",\
\9\9\9\"Some pirates say there is a monster living under the lighthouse.\",\
\9\9\9\"Crabs cannot be killed with hand weapons. Impossible!\",\
\9\9\9\"I think crabs are only afraid of fire. Nothing else.\"\
\9\9\9}\
\9\9)\
\9else \
\9\9helper.script.talkRandom(guard_name, \
\9\9\9{ \
\9\9\9\"You say you are traders? Do you have any goods to trade?\",\
\9\9\9\"I am not opening the gate just for anyone.\",\
\9\9\9\"You  have to earn my sympathies first, trader.\",\
\9\9\9\"Got baksheesh?\"\
\9\9\9}\
\9\9)\
\9end\
end")
spawn("lever",15,26,0,0,"bribe_lever")
bribe_lever.lever:setDisableSelf(false)
bribe_lever.lever:addConnector("onToggle", "port_door", "toggle")
spawn("mine_support_ceiling_01",14,30,3,0,"mine_support_ceiling_01_5")
spawn("mine_support_ceiling_01",15,30,3,0,"mine_support_ceiling_01_6")
spawn("mine_support_pillar_lantern_01",15,30,1,0,"mine_support_pillar_lantern_01_4")
spawn("forest_ruins_wall_01",11,29,1,0,"forest_ruins_wall_01_4")
spawn("forest_ruins_wall_01",14,28,0,0,"forest_ruins_wall_01_6")
spawn("forest_ruins_wall_01",12,28,1,0,"forest_ruins_wall_01_7")
spawn("forest_ruins_pillar_01",14,28,3,0,"forest_ruins_pillar_01_5")
spawn("forest_ruins_pillar_03",18,29,3,0,"forest_ruins_pillar_03_1")
spawn("forest_ruins_pillar_02",18,27,1,0,"forest_ruins_pillar_02_1")
spawn("forest_ruins_pillar_01",13,29,3,0,"forest_ruins_pillar_01_6")
spawn("mine_support_pillar_01",18,27,0,1,"mine_support_pillar_01_17")
spawn("mine_support_pillar_01",18,27,0,2,"mine_support_pillar_01_25")
spawn("mine_support_beam_01",15,26,0,1,"mine_support_beam_01_6")
spawn("dungeon_pillar",16,26,0,1,"dungeon_pillar_86")
spawn("dungeon_pillar",15,26,0,1,"dungeon_pillar_87")
spawn("ladder",14,25,1,0,"ladder_9")
spawn("mine_support_wall_01",13,18,2,1,"mine_support_wall_01_77")
spawn("mine_support_pillar_01",17,17,3,0,"mine_support_pillar_01_40")
spawn("mine_support_pillar_01",17,17,3,1,"mine_support_pillar_01_46")
spawn("mine_support_wall_01",14,18,2,1,"mine_support_wall_01_78")
spawn("mine_lever",16,17,0,1,"mine_lever_1")
mine_lever_1.lever:setDisableSelf(false)
mine_lever_1.lever:addConnector("onToggle", "entering_script", "flagChain")
spawn("floor_trigger",16,26,1,0,"floor_trigger_6")
floor_trigger_6.floortrigger:setTriggeredByParty(true)
floor_trigger_6.floortrigger:setTriggeredByMonster(false)
floor_trigger_6.floortrigger:setTriggeredByItem(false)
floor_trigger_6.floortrigger:setTriggeredByDigging(false)
floor_trigger_6.floortrigger:setDisableSelf(false)
floor_trigger_6.floortrigger:addConnector("onActivate", "bribe_script", "trigger")
floor_trigger_6.floortrigger:addConnector("onActivate", "general_shop_script", "resupply")
spawn("forest_wall_text_long",17,25,1,0,"forest_wall_text_long_1")
forest_wall_text_long_1.walltext:setWallText("Welcome to Port Ciago\
---------------------\
East: Purple Cave\
South: Lighthouse")
spawn("tomb_wall_grating",13,28,0,0,"tomb_wall_grating_1")
spawn("tomb_wall_grating",17,29,1,0,"tomb_wall_grating_2")
spawn("forest_ruins_pillar_03",18,30,3,0,"forest_ruins_pillar_03_2")
spawn("forest_ruins_pillar_02",13,28,1,0,"forest_ruins_pillar_02_2")
spawn("forest_ruins_wall_end_left",18,30,3,0,"forest_ruins_wall_end_left_2")
spawn("mine_wall_text",16,27,1,0,"mine_wall_text_1")
mine_wall_text_1.walltext:setWallText("Marketplace\
\
Thieves will have their hand cut off!")
spawn("barrel_crate_block",17,27,3,0,"barrel_crate_block_5")
spawn("mine_support_wall_01",17,27,3,0,"mine_support_wall_01_79")
spawn("mine_support_pillar_01",17,29,0,0,"mine_support_pillar_01_52")
spawn("mine_support_ceiling_01",17,27,2,0,"mine_support_ceiling_01_7")
spawn("mine_support_pillar_lantern_01",17,28,3,0,"mine_support_pillar_lantern_01_5")
spawn("mine_support_wall_01",17,28,3,0,"mine_support_wall_01_80")
spawn("terracotta_jars_block",17,28,3,0,"terracotta_jars_block_5")
spawn("mine_support_wall_02",17,28,2,0,"mine_support_wall_02_6")
spawn("mine_support_ceiling_01",17,28,2,0,"mine_support_ceiling_01_8")
spawn("mine_support_wall_01",15,19,0,1,"mall_blocker")
mall_blocker.model:disable()
spawn("mine_support_beam_01",13,31,0,0,"mine_support_beam_01_12")
spawn("mine_support_pillar_01",13,30,0,0,"mine_support_pillar_01_51")
spawn("mine_support_pillar_01",13,31,1,0,"mine_support_pillar_01_53")
spawn("mine_support_ceiling_01",13,30,3,0,"mine_support_ceiling_01_9")
spawn("mine_support_ceiling_01",13,29,3,0,"mine_support_ceiling_01_10")
spawn("trickster",13,29,1,0,"trickster_1")
trickster_1.monster:disable()
trickster_1.escape:disable()
trickster_1.operateDevice:disable()
trickster_1.wipeJacket:disable()
trickster_1.brain:disable()
trickster_1.brainScript:setSource("")
trickster_1.brainScript:disable()
spawn("pedestal",13,29,1,0,"general_shop_desk")
general_shop_desk.surface:addConnector("onInsertItem", "general_shop_script", "putItem")
general_shop_desk.surface:addConnector("onRemoveItem", "general_shop_script", "takeItem")
spawn("pullchain",14,29,3,0,"pullchain_5")
pullchain_5.button:setDisableSelf(false)
pullchain_5.button:addConnector("onActivate", "general_shop_script", "pullChain")
spawn("script_entity",13,28,3,0,"general_shop_script")
general_shop_script.script:loadFile("mod_assets/scripts/vincent.lua")
spawn("pedestal",12,29,1,0,"general_shop_stock")
spawn("torch",12,29,1,0,"torch_2")
general_shop_stock.surface:addItem(torch_2.item)
spawn("lock_pick",12,29,1,0,"lock_pick_6")
general_shop_stock.surface:addItem(lock_pick_6.item)
spawn("rope",12,29,1,0,"rope_1")
general_shop_stock.surface:addItem(rope_1.item)
spawn("compass",12,29,1,0,"compass_2")
general_shop_stock.surface:addItem(compass_2.item)
spawn("timepiece",12,29,1,0,"timepiece_1")
general_shop_stock.surface:addItem(timepiece_1.item)
spawn("shovel",12,29,1,0,"shovel_1")
general_shop_stock.surface:addItem(shovel_1.item)
spawn("forest_ruins_pillar_01",12,29,3,0,"forest_ruins_pillar_01_7")
spawn("forest_ruins_wall_01",12,29,0,0,"forest_ruins_wall_01_5")
spawn("terracotta_jars_block",12,29,3,0,"terracotta_jars_block_6")
spawn("barrel_crate_block",12,30,3,0,"barrel_crate_block_8")
spawn("mine_support_pillar_lantern_01",14,29,2,0,"mine_support_pillar_lantern_01_6")
spawn("mine_support_beam_01",13,30,3,0,"mine_support_beam_01_13")
spawn("mine_support_beam_01",13,29,3,0,"mine_support_beam_01_27")
spawn("mine_support_beam_01",14,29,3,0,"mine_support_beam_01_28")
spawn("forest_ruins_wall_ivy_01",14,28,0,0,"forest_ruins_wall_ivy_01_1")
spawn("forest_ruins_wall_ivy_02",13,28,3,0,"forest_ruins_wall_ivy_02_1")
spawn("floor_dirt",14,29,2,0,"floor_dirt_7")
spawn("floor_dirt",15,29,2,0,"floor_dirt_8")
spawn("floor_dirt",16,28,2,0,"floor_dirt_9")
spawn("floor_dirt",16,29,2,0,"floor_dirt_10")
spawn("floor_dirt",16,30,2,0,"floor_dirt_11")
spawn("floor_dirt",16,27,2,0,"floor_dirt_12")
spawn("beach_rock_border",14,21,2,0,"beach_rock_border_9")
spawn("beach_rock_1x1",14,21,1,0,"beach_rock_1x1_8")
spawn("beach_stone_ring",10,30,0,0,"beach_stone_ring_2")
spawn("etherweed",11,27,0,0,"etherweed_5")
spawn("note",10,30,0,0,"note_3")
note_3.scrollitem:setScrollText("Oh, mighty Zaeus, I pray to you and hereby make\
a sacrifice so you make my cousin come back\
from the sea alive.\
\
")
spawn("letter",15,16,0,1,"start_letter")
start_letter.scrollitem:setScrollText("Dear nnn,\
\
Thank you for accepting my mission. I need you to \
finally resolve the problem with greedy pirates \
attacking and robbing ships on my trade routes.\
\
You will travel undercover as a merchant.\
\
Once you arrive to port Ciago, look up Juan the Hermit.\
He will provide you with more instructions.\
\
P.S.: Destroy this letter immediately as it may compromise\
your mission!\
\
Your benefactor.")
spawn("branch",11,28,2,0,"branch_2")
spawn("invisible_rocky_wall",5,28,1,0,"invisible_rocky_wall_42")
spawn("beach_crab",17,25,1,0,"beach_crab_8")
spawn("beach_crab",11,30,0,0,"beach_crab_9")
spawn("invisible_rocky_wall",9,22,1,0,"invisible_rocky_wall_43")
spawn("invisible_rocky_wall",8,23,1,0,"invisible_rocky_wall_44")
invisible_rocky_wall_44.projectilecollider:disable()
spawn("beach_boulder",8,23,1,0,"beach_boulder_5")
beach_boulder_5.projectilecollider:disable()
spawn("beach_rock_pillar_01",5,25,2,0,"beach_rock_pillar_01_4")
spawn("beach_rock_1x1",10,22,2,0,"beach_rock_1x1_10")
spawn("beach_rock_border",6,24,3,0,"beach_rock_border_10")
spawn("script_entity",9,29,2,0,"crab_script")
crab_script.script:setSource("-- mr and mrs Crabs\
function goGuard()\9\
\9if mr_crab then\
\9\9mr_crab.brainScript.crab_in_place = false\
\9end\
end\
\
function stop(crab)\
\9if mr_crab then\
\9\9mr_crab.brainScript.crab_in_place = true\
\9\9mr_crab.brain:startGuarding()\
\9end\
end\
\
function mrsGuard()\9\
\9if mrs_crab then\
\9\9mrs_crab.brainScript.crab_in_place = false\
\9end\
end\
\
function mrsStop()\
\9if mrs_crab then\
\9\9mrs_crab.brainScript.crab_in_place = true\
\9\9mrs_crab.brain:startGuarding()\
\9end\
end\
\
-- cannon\
crab_cannon = {}\
crab_cannon.name = \"crab_cannon\"\
crab_cannon.unloadDirection = 1\
\
function canonInsertItem(alcove, item)\
\9cannon.script.insertItem(crab_cannon, alcove, item)\
end\
\
function canonRemoveItem(alcove, item)\
\9cannon.script.removeItem(crab_cannon, alcove, item)\
end\
\
function onAttacked(o, champion, weapon, attack, slot)\
\9--helper.script.deb(attack.go.name)\
\9if (attack and attack.go and attack.go.name == \"torch\") then\
\9\9cannon.script.shoot(crab_cannon, false)\9\
\9else\
\9\9helper.script.talkChampion({\"This not the right way!\",\"No. This won't work like this.\"})\
\9end\
end\
\
-- galena\
\
found_galena = false\
\
function foundGalena()\
\9if not found_galena then\
\9\9helper.script.gainExp(500, \"Found remains of Galena the Psychic.\")\
\9\9found_galena = true\
\9end\
end")
spawn("beach_rock_1x1",12,24,2,0,"beach_rock_1x1_11")
spawn("beach_boulder",13,21,1,0,"beach_boulder_6")
spawn("beach_cattail_blocker",14,22,2,0,"beach_cattail_blocker_32")
spawn("beach_cattail_blocker",13,22,2,0,"beach_cattail_blocker_54")
spawn("forest_seaweed_pillar",14,23,3,0,"forest_seaweed_pillar_10")
spawn("forest_seaweed_pillar",13,26,3,0,"forest_seaweed_pillar_11")
spawn("crystal_ball",11,22,2,0,"crystal_ball_1")
spawn("barrel_crate_block",11,23,3,0,"barrel_crate_block_16")
spawn("pedestal",9,29,3,0,"crab_cannon_pedestal")
spawn("hand_cannon",9,29,3,0,"hand_cannon_1")
hand_cannon_1.item:disable()
crab_cannon_pedestal.surface:addItem(hand_cannon_1.item)
crab_cannon_pedestal.surface:addConnector("onInsertItem", "crab_script", "canonInsertItem")
crab_cannon_pedestal.surface:addConnector("onRemoveItem", "crab_script", "canonRemoveItem")
spawn("mine_support_wall_01",9,29,1,0,"mine_support_wall_01_86")
spawn("mine_support_wall_01",8,30,0,0,"mine_support_wall_01_93")
spawn("mine_support_wall_01",7,29,1,0,"mine_support_wall_01_94")
spawn("dungeon_pillar",10,29,3,0,"dungeon_pillar_112")
spawn("dungeon_pillar",10,30,1,0,"dungeon_pillar_113")
spawn("dungeon_pillar",9,30,1,0,"dungeon_pillar_114")
spawn("dungeon_pillar",8,29,3,0,"dungeon_pillar_116")
spawn("dungeon_pillar",8,30,3,0,"dungeon_pillar_117")
spawn("dungeon_wall_open",9,29,0,0,"dungeon_wall_open_2")
spawn("dungeon_wall_open",8,29,0,0,"dungeon_wall_open_3")
spawn("forest_bridge",8,29,3,1,"forest_bridge_81")
spawn("forest_bridge",9,29,3,1,"forest_bridge_82")
spawn("mine_support_wall_01",8,29,0,0,"mine_support_wall_01_95")
mine_support_wall_01_95.model:disable()
spawn("mine_support_wall_01",9,29,0,0,"mine_support_wall_01_96")
mine_support_wall_01_96.model:disable()
spawn("barrel_crate_block",8,29,0,0,"barrel_crate_block_17")
spawn("beach_cattail_wall",5,27,3,0,"beach_cattail_wall_15")
spawn("beach_cattail_wall",5,26,3,0,"beach_cattail_wall_16")
spawn("spawner",8,28,0,0,"crab_cannon_spawner")
crab_cannon_spawner.spawner:setSpawnedEntity("cannon_shot")
crab_cannon_spawner.spawner:setMonsterLevel(1)
crab_cannon_spawner.spawner:setCooldown(0)
crab_cannon_spawner.spawner:setDisableSelf(false)
spawn("beach_rock_border",12,22,0,0,"beach_rock_border_12")
spawn("beach_boulder",11,21,1,0,"beach_boulder_7")
spawn("remains_of_galena",11,22,0,0,"remains_of_galena_1")
spawn("floor_trigger",11,22,2,0,"floor_trigger_12")
floor_trigger_12.floortrigger:setTriggeredByParty(true)
floor_trigger_12.floortrigger:setTriggeredByMonster(false)
floor_trigger_12.floortrigger:setTriggeredByItem(false)
floor_trigger_12.floortrigger:setTriggeredByDigging(false)
floor_trigger_12.floortrigger:setDisableSelf(false)
floor_trigger_12.floortrigger:addConnector("onActivate", "crab_script", "foundGalena")
spawn("crab_sens_fire",11,24,2,0,"mr_crab")
mr_crab.monster:setAIState("guard")
mr_crab.monster:setLevel(3)
mr_crab.monster:setHealth(10000)
mr_crab.monster:addConnector("onDie", "pawnshop_script", "killedCrab")
mr_crab.brainScript:setSource("crab_place = \"crab_floor_trigger\"")
spawn("floor_trigger",11,24,2,0,"crab_floor_trigger")
crab_floor_trigger.floortrigger:setTriggeredByParty(false)
crab_floor_trigger.floortrigger:setTriggeredByMonster(true)
crab_floor_trigger.floortrigger:setTriggeredByItem(false)
crab_floor_trigger.floortrigger:setTriggeredByDigging(false)
crab_floor_trigger.floortrigger:setDisableSelf(false)
crab_floor_trigger.floortrigger:addConnector("onActivate", "crab_script", "stop")
crab_floor_trigger.floortrigger:addConnector("onDeactivate", "crab_script", "goGuard")
spawn("crab_sens_fire",12,23,1,0,"mrs_crab")
mrs_crab.monster:setAIState("guard")
mrs_crab.monster:setLevel(3)
mrs_crab.monster:setHealth(15000)
mrs_crab.monster:addConnector("onDie", "pawnshop_script", "killedCrab")
mrs_crab.brainScript:setSource("crab_place = \"crab_trigger_2\"")
spawn("floor_trigger",12,23,1,0,"crab_trigger_2")
crab_trigger_2.floortrigger:setTriggeredByParty(false)
crab_trigger_2.floortrigger:setTriggeredByMonster(true)
crab_trigger_2.floortrigger:setTriggeredByItem(false)
crab_trigger_2.floortrigger:setTriggeredByDigging(false)
crab_trigger_2.floortrigger:setDisableSelf(false)
crab_trigger_2.floortrigger:addConnector("onActivate", "crab_script", "mrsStop")
crab_trigger_2.floortrigger:addConnector("onDeactivate", "crab_script", "mrsGuard")
spawn("peasant_tunic",11,22,2,0,"peasant_tunic_2")
spawn("sandals",7,29,2,0,"sandals_3")
spawn("peasant_breeches",25,22,1,0,"peasant_breeches_3")
spawn("beach_sandpile",11,29,2,0,"beach_sandpile_2")
spawn("beach_cattail_blocker",11,30,0,0,"beach_cattail_blocker_55")
spawn("torn_breeches",11,30,1,0,"torn_breeches_1")
spawn("tattered_cloak",11,22,2,0,"tattered_cloak_1")
spawn("tattered_cloak",22,27,0,0,"tattered_cloak_2")
spawn("silver_roach",11,24,1,0,"silver_roach_1")
spawn("beach_crab",12,23,2,0,"beach_crab_10")
spawn("mine_support_wall_02",18,17,2,1,"mine_support_wall_02_9")
spawn("sound",9,29,1,0,"crab_cannon_sound")
crab_cannon_sound.sound:setSound("gun_shot_cannon")
crab_cannon_sound.sound:disable()
spawn("timer",8,27,1,0,"cannon_timer")
cannon_timer.timer:setTimerInterval(4)
cannon_timer.timer:setDisableSelf(false)
cannon_timer.timer:setTriggerOnStart(false)
cannon_timer.timer:setCurrentLevelOnly(true)
cannon_timer.timer:addConnector("onActivate", "crab_script", "reloadCannon")
cannon_timer.timer:disable()
spawn("invisible_rocky_wall",6,23,1,0,"invisible_rocky_wall_46")
spawn("invisible_rocky_wall",7,23,1,0,"invisible_rocky_wall_47")
spawn("beach_cattail_blocker",7,24,2,0,"beach_cattail_blocker_56")
spawn("beach_cattail_blocker",7,25,2,0,"beach_cattail_blocker_57")
spawn("beach_cattail_blocker",7,26,2,0,"beach_cattail_blocker_58")
spawn("beach_cattail_blocker",6,29,2,0,"beach_cattail_blocker_59")
spawn("beach_cattail_blocker",6,28,2,0,"beach_cattail_blocker_60")
spawn("beach_cattail_blocker",6,27,2,0,"beach_cattail_blocker_61")
spawn("beach_cattail_broken",7,27,1,0,"beach_cattail_broken_1")
spawn("beach_cattail_broken",7,28,0,0,"beach_cattail_broken_2")
spawn("beach_cattail_broken",9,26,3,0,"beach_cattail_broken_3")
spawn("beach_cattail_broken",8,25,2,0,"beach_cattail_broken_4")
spawn("beach_cattail_broken",8,26,2,0,"beach_cattail_broken_5")
spawn("beach_cattail_broken",8,27,1,0,"beach_cattail_broken_6")
spawn("beach_cattail_broken",9,27,3,0,"beach_cattail_broken_7")
spawn("beach_cattail_broken",10,27,3,0,"beach_cattail_broken_8")
spawn("beach_cattail_broken",10,26,2,0,"beach_cattail_broken_9")
spawn("beach_cattail_broken",8,24,1,0,"beach_cattail_broken_10")
spawn("beach_cattail_broken",10,24,2,0,"beach_cattail_broken_11")
spawn("beach_cattail_damaged",9,25,2,0,"beach_cattail_damaged_17")
spawn("beach_cattail_damaged",6,24,2,0,"beach_cattail_damaged_18")
spawn("beach_cattail_damaged",10,28,3,0,"beach_cattail_damaged_19")
spawn("sound",9,29,2,0,"crab_cannon_reload_sound")
crab_cannon_reload_sound.sound:setSound("gun_reload")
crab_cannon_reload_sound.sound:disable()
spawn("beach_cattail_blocker",22,26,3,0,"beach_cattail_blocker_73")
spawn("beach_cattail_blocker",25,21,3,0,"beach_cattail_blocker_80")
spawn("beach_cattail_blocker",26,22,3,0,"beach_cattail_blocker_81")
spawn("beach_cattail_blocker",25,23,3,0,"beach_cattail_blocker_82")
spawn("beach_cattail_damaged",25,24,3,0,"beach_cattail_damaged_21")
spawn("beach_cattail_damaged",23,24,2,0,"beach_cattail_damaged_22")
spawn("beach_cattail_damaged",26,23,2,0,"beach_cattail_damaged_23")
spawn("beach_rock_3x1",22,31,1,0,"beach_rock_3x1_10")
spawn("beach_rock_1x1",20,28,1,0,"beach_rock_1x1_13")
spawn("beach_rock_pillar_01",23,27,3,0,"beach_rock_pillar_01_5")
spawn("beach_rock_spire_pillar",22,31,0,0,"beach_rock_spire_pillar_2")
spawn("invisible_wall",28,20,3,0,"invisible_wall_62")
spawn("invisible_wall",18,19,3,0,"invisible_wall_63")
spawn("invisible_wall",19,19,3,0,"invisible_wall_64")
spawn("invisible_wall",20,19,3,0,"invisible_wall_65")
spawn("invisible_wall",21,19,3,0,"invisible_wall_66")
spawn("invisible_wall",22,19,3,0,"invisible_wall_67")
spawn("invisible_wall",23,19,3,0,"invisible_wall_68")
spawn("invisible_wall",24,19,3,0,"invisible_wall_69")
invisible_wall_69.projectilecollider:disable()
spawn("invisible_wall",25,19,3,0,"invisible_wall_70")
spawn("invisible_wall",26,19,3,0,"invisible_wall_71")
spawn("invisible_wall",27,19,3,0,"invisible_wall_72")
spawn("invisible_wall",29,21,3,0,"invisible_wall_73")
spawn("invisible_wall",30,22,3,0,"invisible_wall_74")
spawn("invisible_wall",31,23,3,0,"invisible_wall_75")
spawn("beach_cattail_blocker",22,21,3,0,"beach_cattail_blocker_83")
spawn("beach_cattail_blocker",21,22,3,0,"beach_cattail_blocker_84")
spawn("crab_sens_fire",22,25,2,0,"big_crab")
big_crab.monster:setLevel(3)
big_crab.monster:setHealth(15000)
big_crab.monster:addConnector("onDie", "pawnshop_script", "killedCrab")
big_crab.brainScript:setSource("crab_place = \"big_crab_floor_trigger\"")
spawn("beach_crab",19,24,1,0,"beach_crab_11")
spawn("beach_crab",22,27,3,0,"beach_crab_12")
spawn("beach_crab",25,22,2,0,"beach_crab_13")
spawn("beach_crab",22,29,3,0,"beach_crab_14")
spawn("beach_crab",20,29,3,0,"beach_crab_15")
spawn("floor_trigger",22,25,3,0,"big_crab_floor_trigger")
big_crab_floor_trigger.floortrigger:setTriggeredByParty(false)
big_crab_floor_trigger.floortrigger:setTriggeredByMonster(true)
big_crab_floor_trigger.floortrigger:setTriggeredByItem(false)
big_crab_floor_trigger.floortrigger:setTriggeredByDigging(false)
big_crab_floor_trigger.floortrigger:setDisableSelf(false)
big_crab_floor_trigger.floortrigger:addConnector("onActivate", "script_entity_1", "stop")
big_crab_floor_trigger.floortrigger:addConnector("onDeactivate", "script_entity_1", "goGuard")
spawn("script_entity",23,25,3,0,"script_entity_1")
script_entity_1.script:setSource("function goGuard()\9\
\9if big_crab then\
\9\9big_crab.brainScript.crab_in_place = false\
\9end\
end\
\
function stop(crab)\
\9if big_crab then\
\9\9big_crab.brainScript.crab_in_place = true\
\9\9big_crab.brain:startGuarding()\
\9end\
end")
spawn("remains_bones",22,26,0,0,"remains_bones_1")
spawn("coin_copper",22,25,2,0,"coin_copper_1")
spawn("branch",19,23,2,0,"branch_3")
spawn("beach_cattail_blocker",27,26,3,0,"beach_cattail_blocker_85")
spawn("beach_cattail_blocker",28,24,3,0,"beach_cattail_blocker_86")
spawn("beach_cattail_damaged",28,23,2,0,"beach_cattail_damaged_24")
spawn("beach_cattail_damaged",28,26,2,0,"beach_cattail_damaged_25")
spawn("coin_silver",29,30,1,0,"coin_silver_2")
spawn("silver_roach",29,30,1,0,"silver_roach_4")
spawn("beach_crab",29,30,3,0,"beach_crab_16")
spawn("daemon_head_ruins",24,29,2,0,"daemon_head_ruins_1")
spawn("forest_ruins_pillar_01",24,30,3,0,"forest_ruins_pillar_01_28")
spawn("forest_ruins_pillar_01",25,30,2,0,"forest_ruins_pillar_01_29")
spawn("forest_ruins_wall_01",24,30,0,0,"forest_ruins_wall_01_21")
spawn("forest_ruins_pillar_03",24,31,1,0,"forest_ruins_pillar_03_4")
spawn("forest_ruins_pillar_03",25,31,0,0,"forest_ruins_pillar_03_5")
spawn("forest_altar",24,30,3,0,"forest_altar_2")
spawn("hand_cannon",24,30,3,0,"hand_cannon_5")
hand_cannon_5.item:disable()
forest_altar_2.surface:addItem(hand_cannon_5.item)
forest_altar_2.surface:addConnector("onInsertItem", "script_entity_9", "onInsertItem")
spawn("receptor_ruins",24,30,0,0,"receptor_ruins_2")
receptor_ruins_2.walltrigger:setEntityType("")
spawn("spawner",24,29,0,0,"magic_cannon_spawner_1")
magic_cannon_spawner_1.spawner:setSpawnedEntity("fireball_blast_large")
magic_cannon_spawner_1.spawner:setMonsterLevel(5)
magic_cannon_spawner_1.spawner:setCooldown(0)
magic_cannon_spawner_1.spawner:setDisableSelf(false)
spawn("script_entity",24,31,0,0,"script_entity_9")
script_entity_9.script:setSource("magic_cannon_stage = 0\
magic_cannon_loaded = false\
\
function fire()\
\9if magic_cannon_loaded then\
\9\9magic_cannon_timer.timer:start()\
\9\9magic_cannon_loaded = false\
\9\9pawnshop_script.script.decreaseAmmo()\
\9else\
\9\9helper.script.talkChampion( {\"It is not loaded.\", \"There is no ammunition.\", \"It is empty.\"} )\
\9end\
end\
\
function onTimer()\
\9magic_cannon_stage = magic_cannon_stage + 1\
\9if magic_cannon_stage == 1 then\
\9\9magic_cannon_spawner_1.spawner:activate()\
\9elseif magic_cannon_stage == 2 then\
\9\9magic_cannon_spawner_2.spawner:activate()\
\9elseif magic_cannon_stage == 3 then\
\9\9magic_cannon_spawner_3.spawner:activate()\
\9elseif magic_cannon_stage == 4 then\
\9\9magic_cannon_spawner_4.spawner:activate()\
\9\9magic_cannon_timer.timer:stop()\
\9\9magic_cannon_stage = 0\
\9\9helper.script.talkChampion( {\
\9\9\9\"What a blast!\",\
\9\9\9\"That will teach them!\",\
\9\9\9\"Boom!\",\
\9\9\9\"Burn in hell damned crabs!\",\
\9\9\9\"Eat this! Eat this!\"\
\9\9\9}\
\9\9)\
\9end\
end\
\
function onInsertItem(alcove, item)\
\9if item.go.name == \"flame_liquid\" then\
\9\9local stack = item:getStackSize()\
\9\9if not magic_cannon_loaded then\
\9\9\9stack = stack - 1\
\9\9\9magic_cannon_loaded = true\
\9\9\9playSound(\"firearm_jammed\")\
\9\9else\
\9\9\9helper.script.talkChampion( {\"It is already loaded.\", \"We don't want to averload it.\", \"One bottle is enough for one shot.\"} )\
\9\9end\9\
\9\9if stack > 0 then\9\9\9\
\9\9\9local a = spawn(\"flame_liquid\", party.level, party.x, party.y, party.facing, party.elevation)\
\9\9\9a.item:setStackSize(stack)\
\9\9end\
\9\9item.go:destroy()\9\9\
\9end\
\
end")
spawn("forest_ruins_secret_button_big",23,30,1,0,"forest_ruins_secret_button_big_1")
forest_ruins_secret_button_big_1.button:setDisableSelf(false)
forest_ruins_secret_button_big_1.button:addConnector("onActivate", "script_entity_9", "fire")
spawn("spawner",24,29,0,0,"magic_cannon_spawner_2")
magic_cannon_spawner_2.spawner:setSpawnedEntity("wall_fire_strong")
magic_cannon_spawner_2.spawner:setMonsterLevel(5)
magic_cannon_spawner_2.spawner:setCooldown(0)
magic_cannon_spawner_2.spawner:setDisableSelf(false)
spawn("spawner",24,27,0,0,"magic_cannon_spawner_3")
magic_cannon_spawner_3.spawner:setSpawnedEntity("fireball_large")
magic_cannon_spawner_3.spawner:setMonsterLevel(5)
magic_cannon_spawner_3.spawner:setCooldown(0)
magic_cannon_spawner_3.spawner:setDisableSelf(false)
spawn("timer",23,31,2,0,"magic_cannon_timer")
magic_cannon_timer.timer:setTimerInterval(0.15)
magic_cannon_timer.timer:setDisableSelf(false)
magic_cannon_timer.timer:setTriggerOnStart(true)
magic_cannon_timer.timer:setCurrentLevelOnly(true)
magic_cannon_timer.timer:addConnector("onActivate", "script_entity_9", "onTimer")
magic_cannon_timer.timer:disable()
spawn("invisible_wall",24,11,3,0,"invisible_wall_76")
spawn("invisible_rocky_wall",8,11,1,0,"invisible_rocky_wall_14")
spawn("spawner",24,28,0,0,"magic_cannon_spawner_4")
magic_cannon_spawner_4.spawner:setSpawnedEntity("wall_fire_strong")
magic_cannon_spawner_4.spawner:setMonsterLevel(5)
magic_cannon_spawner_4.spawner:setCooldown(0)
magic_cannon_spawner_4.spawner:setDisableSelf(false)
spawn("crab_sens_fire",30,25,3,0,"guard_crab")
guard_crab.monster:setLevel(5)
guard_crab.monster:setHealth(15000)
guard_crab.monster:addConnector("onDie", "pawnshop_script", "killedCrab")
guard_crab.brainScript:setSource("crab_place = \"guard_crab_trigger\"")
spawn("script_entity",31,25,3,0,"guard_crab_script")
guard_crab_script.script:setSource("function goGuard()\9\
\9if guard_crab then\
\9\9guard_crab.brainScript.crab_in_place = false\
\9end\
end\
\
function stop(crab)\
\9-- print(crab)\
\9if guard_crab then\
\9\9guard_crab.brainScript.crab_in_place = true\
\9\9guard_crab.brain:startGuarding()\
\9end\
end")
spawn("floor_trigger",30,25,3,0,"guard_crab_trigger")
guard_crab_trigger.floortrigger:setTriggeredByParty(false)
guard_crab_trigger.floortrigger:setTriggeredByMonster(true)
guard_crab_trigger.floortrigger:setTriggeredByItem(false)
guard_crab_trigger.floortrigger:setTriggeredByDigging(false)
guard_crab_trigger.floortrigger:setDisableSelf(false)
guard_crab_trigger.floortrigger:addConnector("onActivate", "guard_crab_script", "stop")
guard_crab_trigger.floortrigger:addConnector("onDeactivate", "guard_crab_script", "goGuard")
spawn("captain_instructions",25,30,3,0,"captain_instructions_1")
captain_instructions_1.scrollitem:setScrollText("Flame thrower is magical and can \
be operated by trained pirates only.\
\
Balbuino's flame liquid is necessary.\
Don't insert gunpowder or cannon balls.\
\
Always work in pairs. One reloads and\
the other shoots.\
\
Captain")
spawn("beach_cattail_blocker",27,25,3,0,"beach_cattail_blocker_87")
spawn("beach_cattail_damaged",28,25,2,0,"beach_cattail_damaged_26")
spawn("beach_cattail_wall",30,26,3,0,"beach_cattail_wall_12")
spawn("beach_cattail_wall",29,30,3,0,"beach_cattail_wall_14")
spawn("beach_cattail_wall",29,31,0,0,"beach_cattail_wall_17")
spawn("beach_crab",30,30,0,0,"beach_crab_17")
spawn("beach_cattail_wall",30,29,1,0,"beach_cattail_wall_19")
spawn("beach_cattail_wall",30,28,3,0,"beach_cattail_wall_20")
spawn("beach_cattail_wall",30,26,1,0,"beach_cattail_wall_22")
spawn("beach_cattail_wall",30,27,1,0,"beach_cattail_wall_23")
spawn("beach_cattail_wall",30,30,2,0,"beach_cattail_wall_25")
spawn("beach_cattail_broken",29,30,2,0,"beach_cattail_broken_12")
spawn("beach_cattail_wall",29,25,2,0,"beach_cattail_wall_13")
spawn("beach_cattail_damaged",22,23,2,0,"beach_cattail_damaged_27")
spawn("rock",24,29,0,0,"rock_5")
spawn("beach_rock_blocker_01",29,24,0,0,"beach_rock_blocker_01_5")
spawn("beach_rock_border",28,30,1,0,"beach_rock_border_11")
spawn("beach_cattail_blocker",27,20,3,0,"beach_cattail_blocker_100")
spawn("beach_cattail_blocker",28,21,3,0,"beach_cattail_blocker_101")
spawn("beach_cattail_blocker",29,22,3,0,"beach_cattail_blocker_102")
spawn("grimtk",2,0,2,0,"grimtk_1")
grimtk_1.script:setSource("")
spawn("scroll_signal",20,17,1,1,"scroll_signal_2")
spawn("food_water_flask",10,30,0,0,"food_water_flask_2")
spawn("beach_door_portcullis",27,28,3,0,"button_puzzle_door")
spawn("height_receptor",17,26,2,0,"height_receptor_1")
height_receptor_1.walltrigger:setEntityType("")
height_receptor_1.walltrigger:disable()
height_receptor_1.projectilecollider:disable()
spawn("invisible_rocky_wall",23,27,1,0,"invisible_rocky_wall_54")
spawn("red_flag",16,16,2,2,"mall_flag")
spawn("red_flag",18,27,0,1,"port_flag")
spawn("forest_oak",22,30,3,0,"forest_oak_3")
spawn("food_fruit",21,29,1,0,"food_fruit_1")
spawn("food_fruit",22,29,3,0,"food_fruit_2")
spawn("attack_trigger",21,29,2,0,"attack_trigger_1")
spawn("script_entity",21,29,1,0,"script_entity_7")
script_entity_7.script:setSource("fruit_tree_pieces = 2\
\
function onAttacked()\
\9if fruit_tree_pieces > 0 then\
\9\9spawn(\"food_fruit\", party.level, party.x, party.y, party.facing, party.elevation + 1)\
\9\9fruit_tree_pieces = fruit_tree_pieces - 1\
\9else\
\9\9helper.script.talkChampion( { \
\9\9\9\"No more ripe fruits.\",\
\9\9\9\"We must come again later.\",\
\9\9\9\"No fruit seems to be ready to fall down.\",\
\9\9\9\"That's it for now.\",\
\9\9\9\"We have to wait until fruit regrow.\"\
\9\9} )\
\9end\
end\
\
function regrow()\
\9if fruit_tree_pieces == 0 then\
\9\9fruit_tree_pieces = math.random(1,3)\
\9end\
end\
\
function comeBy()\
\9if fruit_tree_pieces > 0 then\
\9\9helper.script.talkChampion( { \
\9\9\9\"We should try to shake this tree to get more fruit down.\",\
\9\9\9\"There is still some fruit on the tree.\",\
\9\9\9\"Look. Some fruit is ready to fall down.\"\
\9\9} )\
\9end\
end")
spawn("mine_support_wall_button",27,30,2,0,"mine_support_wall_button_2")
spawn("wall_button",27,30,2,0,"button_puzzle_button_2")
button_puzzle_button_2.button:setDisableSelf(false)
button_puzzle_button_2.button:addConnector("onActivate", "button_puzzle_script", "pushButton2")
spawn("mine_support_wall_button",27,30,1,0,"mine_support_wall_button_3")
spawn("wall_button",27,30,1,0,"button_puzzle_button_3")
button_puzzle_button_3.button:setDisableSelf(false)
button_puzzle_button_3.button:addConnector("onActivate", "button_puzzle_script", "pushButton3")
spawn("wall_button",27,30,0,0,"button_puzzle_button_1")
button_puzzle_button_1.button:setDisableSelf(false)
button_puzzle_button_1.button:addConnector("onActivate", "button_puzzle_script", "pushButton1")
spawn("mine_support_wall_button",27,30,0,0,"mine_support_wall_button_4")
spawn("mine_support_pillar_01",28,30,3,0,"mine_support_pillar_01_111")
spawn("mine_support_pillar_01",28,31,3,0,"mine_support_pillar_01_112")
spawn("mine_support_pillar_01",27,31,3,0,"mine_support_pillar_01_113")
spawn("mine_support_pillar_01",27,30,3,0,"mine_support_pillar_01_114")
spawn("forest_bridge",27,30,1,1,"forest_bridge_103")
spawn("timer",27,31,3,0,"button_puzzle_timer")
button_puzzle_timer.timer:setTimerInterval(2)
button_puzzle_timer.timer:setDisableSelf(true)
button_puzzle_timer.timer:setTriggerOnStart(false)
button_puzzle_timer.timer:setCurrentLevelOnly(true)
button_puzzle_timer.timer:addConnector("onActivate", "button_puzzle_script", "reset")
button_puzzle_timer.timer:disable()
spawn("script_entity",26,31,1,0,"button_puzzle_script")
button_puzzle_script.script:setSource("button_puzzle_stage = 0\
button_puzzle_solved = false\
\
function pushButton1()\
\9if not button_puzzle_solved then\
\9\9if button_puzzle_stage == 0 then\
\9\9\9button_puzzle_timer.timer:start()\
\9\9\9good()\
\9\9else\
\9\9\9reset()\9\9\
\9\9end\
\9end\
end\
\
function pushButton2()\
\9if not button_puzzle_solved then\
\9\9if button_puzzle_stage == 1 then\
\9\9\9good()\
\9\9else\
\9\9\9reset()\9\9\
\9\9end\
\9end\
end\
\
function pushButton3()\
\9if not button_puzzle_solved then\
\9\9if button_puzzle_stage == 2 then\
\9\9\9good()\9\9\
\9\9\9button_puzzle_stage = 0\
\9\9\9button_puzzle_timer.timer:stop()\
\9\9\9if not button_puzzle_door.door:isOpen() then\
\9\9\9\9button_puzzle_solved = true\
\9\9\9\9button_puzzle_door.door:open()\
\9\9\9\9helper.script.gainExp(200, \"Gate to Purple Cave open.\")\
\9\9\9end\
\9\9else\
\9\9\9reset()\9\9\
\9\9end\
\9end\
end\
\
function reset()\
\9button_puzzle_timer.timer:stop()\
\9button_puzzle_stage = 0\
\9playSound(\"gate_lock\")\
end\
\
function good()\
\9button_puzzle_stage = button_puzzle_stage + 1\
\9playSound(\"key_lock\")\
end")
spawn("sound",27,30,2,0,"button_puzzle_down_sound")
button_puzzle_down_sound.sound:setSound("click_down")
button_puzzle_down_sound.sound:disable()
spawn("sound",27,30,2,0,"button_puzzle_up_sound")
button_puzzle_up_sound.sound:setSound("click_up")
button_puzzle_up_sound.sound:disable()
spawn("beach_rock_wall_01",21,30,3,0,"beach_rock_wall_01_2")
spawn("beach_rock_wall_02",22,30,3,0,"beach_rock_wall_02_1")
spawn("beach_rock_pillar_01",21,30,0,0,"beach_rock_pillar_01_8")
spawn("timer",21,30,2,0,"fruit_tree_timer")
fruit_tree_timer.timer:setTimerInterval(450)
fruit_tree_timer.timer:setDisableSelf(false)
fruit_tree_timer.timer:setTriggerOnStart(false)
fruit_tree_timer.timer:setCurrentLevelOnly(true)
fruit_tree_timer.timer:addConnector("onActivate", "script_entity_7", "regrow")
spawn("floor_trigger",21,29,0,0,"floor_trigger_26")
floor_trigger_26.floortrigger:setTriggeredByParty(true)
floor_trigger_26.floortrigger:setTriggeredByMonster(false)
floor_trigger_26.floortrigger:setTriggeredByItem(false)
floor_trigger_26.floortrigger:setTriggeredByDigging(false)
floor_trigger_26.floortrigger:setDisableSelf(false)
floor_trigger_26.floortrigger:addConnector("onActivate", "script_entity_7", "comeBy")
spawn("lock_pick",29,30,0,0,"lock_pick_7")
spawn("mine_wall_text",14,29,2,0,"mine_wall_text_7")
mine_wall_text_7.walltext:setWallText("Vincent's General Store")
spawn("branch",19,23,1,0,"branch_6")
spawn("branch",25,21,3,0,"branch_7")
spawn("invisible_wall",12,21,2,0,"invisible_wall_105")
spawn("invisible_wall",10,21,2,0,"invisible_wall_106")
spawn("invisible_wall",17,20,3,1,"invisible_wall_107")
invisible_wall_107.projectilecollider:disable()
spawn("mine_support_beam_01",15,28,2,0,"mine_support_beam_01_46")
spawn("forest_ruins_pillar_03",16,29,3,0,"forest_ruins_pillar_03_6")
spawn("mine_support_pillar_01",15,29,0,0,"mine_support_pillar_01_145")
spawn("mine_support_wall_02",15,27,2,0,"mine_support_wall_02_12")
spawn("floor_dirt",15,28,2,0,"floor_dirt_37")
spawn("mine_support_pillar_lantern_01",15,28,3,0,"mine_support_pillar_lantern_01_12")
spawn("forest_ruins_pillar_03",16,28,3,0,"forest_ruins_pillar_03_7")
spawn("mine_door_spear",16,27,3,0,"mine_door_spear_1")
spawn("floor_trigger",14,29,2,0,"floor_trigger_29")
floor_trigger_29.floortrigger:setTriggeredByParty(true)
floor_trigger_29.floortrigger:setTriggeredByMonster(true)
floor_trigger_29.floortrigger:setTriggeredByItem(true)
floor_trigger_29.floortrigger:setTriggeredByDigging(false)
floor_trigger_29.floortrigger:setDisableSelf(false)
floor_trigger_29.floortrigger:addConnector("onDeactivate", "general_shop_script", "hideDialogue")
spawn("beach_rock_border",29,22,1,0,"beach_rock_border_5")
spawn("beach_rock_border",30,23,0,0,"beach_rock_border_6")
spawn("lock_pick",12,23,1,0,"lock_pick_1")
spawn("pirate_hat",12,23,3,0,"pirate_hat_2")
spawn("attack_trigger",9,29,3,0,"attack_trigger_5")
spawn("mosquito_annoy",22,22,1,0,"mosquito_annoy_5")
mosquito_annoy_5.monster:setAIState("guard")
spawn("mosquito_annoy",26,21,3,0,"beach_mosquito")
beach_mosquito.monster:setAIState("guard")
spawn("starting_location",15,15,1,0,"starting_location")
spawn("script_entity",26,21,2,0,"beach_mosquito_script")
beach_mosquito_script.script:setSource("function spawn()\
\9local e = findEntity(\"beach_mosquito\")\
\9if e == nil then\
\9\9e = helper.script.spawnAt( \"mosquito_annoy\", self.go, \"beach_mosquito\")\
\9\9e.brain:startGuarding()\
\9end\
end")
spawn("timer",26,20,2,0,"beach_mosquito_timer")
beach_mosquito_timer.timer:setTimerInterval(300)
beach_mosquito_timer.timer:setDisableSelf(false)
beach_mosquito_timer.timer:setTriggerOnStart(false)
beach_mosquito_timer.timer:setCurrentLevelOnly(true)
beach_mosquito_timer.timer:addConnector("onActivate", "beach_mosquito_script", "spawn")
spawn("navy_cannon_ball",9,29,1,0,"navy_cannon_ball_38")

--- level 2 ---

newMap{
	name = "Purple Cave",
	width = 32,
	height = 32,
	levelCoord = {0,-1,1},
	ambientTrack = "beach",
	tiles = {
		"forest_ground2",
		"forest_underwater",
		"forest_wall",
	}
}

loadLayer("floor_elevation", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,0,0,0,0,0,0,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,0,0,0,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,0,-1,-1,0,-1,-1,-1,-1,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,0,0,0,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,0,0,0,0,0,0,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,-1,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("reflection", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("tiles", {
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,1,2,2,2,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,1,2,1,1,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,3,3,1,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,3,3,1,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,1,3,3,1,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,2,2,2,2,1,1,3,3,1,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,1,2,2,1,2,2,2,2,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,2,2,2,2,1,1,3,3,1,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,2,2,1,1,1,3,1,1,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,3,1,2,2,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,2,1,2,1,1,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,2,2,2,2,1,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,2,1,1,1,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
})

spawn("forest_exit_underwater",31,17,1,-1,"forest_exit_underwater_2")
spawn("mine_stairs_up",26,28,3,-1,"mine_stairs_up_3")
spawn("forest_heightmap",0,0,1,0,"forest_heightmap_5")
spawn("water_surface_underground",1,0,2,0,"water_surface_underground_2")
spawn("forest_wall_02",26,27,1,-1,"forest_wall_02_1")
spawn("forest_wall_02",26,29,1,-1,"forest_wall_02_2")
spawn("mine_ceiling_pit_light",30,17,2,-1,"mine_ceiling_pit_light_2")
spawn("mine_ceiling_pit_light",29,17,2,-1,"mine_ceiling_pit_light_3")
spawn("forest_seaweed_floor_02",29,20,3,-1,"forest_seaweed_floor_02_1")
spawn("forest_seaweed_floor_02",29,21,3,-1,"forest_seaweed_floor_02_2")
spawn("forest_seaweed_floor_02",27,23,3,-1,"forest_seaweed_floor_02_87")
spawn("forest_seaweed_floor_02",29,25,3,-1,"forest_seaweed_floor_02_88")
spawn("forest_seaweed_floor_02",29,26,3,-1,"forest_seaweed_floor_02_89")
spawn("forest_seaweed_floor_02",28,26,3,-1,"forest_seaweed_floor_02_90")
spawn("mine_ceiling_pit_light",27,28,2,-1,"mine_ceiling_pit_light_4")
spawn("forest_seaweed_floor_01",27,28,2,-1,"forest_seaweed_floor_01_87")
spawn("forest_seaweed_floor_01",28,28,2,-1,"forest_seaweed_floor_01_88")
spawn("forest_seaweed_floor_01",28,27,2,-1,"forest_seaweed_floor_01_89")
spawn("forest_seaweed_floor_01",29,19,2,-1,"forest_seaweed_floor_01_90")
spawn("forest_seaweed_floor_01",29,18,2,-1,"forest_seaweed_floor_01_91")
spawn("forest_seaweed_floor_01",29,17,2,-1,"forest_seaweed_floor_01_92")
spawn("forest_seaweed_floor_01",30,17,2,-1,"forest_seaweed_floor_01_93")
spawn("forest_seaweed_wall_decoration_01",27,28,0,-1,"forest_seaweed_wall_decoration_01_18")
spawn("forest_seaweed_wall_decoration_01",28,28,2,-1,"forest_seaweed_wall_decoration_01_19")
spawn("forest_seaweed_wall_decoration_01",28,26,0,-1,"forest_seaweed_wall_decoration_01_20")
spawn("forest_seaweed_wall_decoration_01",29,26,2,-1,"forest_seaweed_wall_decoration_01_21")
spawn("forest_seaweed_wall_decoration_01",29,24,1,-1,"forest_seaweed_wall_decoration_01_22")
spawn("forest_seaweed_wall_decoration_01",29,21,1,-1,"forest_seaweed_wall_decoration_01_23")
spawn("forest_seaweed_wall_decoration_01",29,18,1,-1,"forest_seaweed_wall_decoration_01_24")
spawn("forest_seaweed_wall_decoration_01",28,17,1,-1,"forest_seaweed_wall_decoration_01_25")
spawn("forest_seaweed_wall_decoration_01",30,17,0,-1,"forest_seaweed_wall_decoration_01_26")
spawn("forest_seaweed_wall_decoration_02",29,16,2,-1,"forest_seaweed_wall_decoration_02_8")
spawn("forest_seaweed_wall_decoration_02",29,21,3,-1,"forest_seaweed_wall_decoration_02_9")
spawn("forest_seaweed_wall_decoration_02",28,28,1,-1,"forest_seaweed_wall_decoration_02_10")
spawn("forest_seaweed_wall_decoration_01",29,25,3,-1,"forest_seaweed_wall_decoration_01_27")
spawn("forest_seaweed_wall_decoration_01",29,19,3,-1,"forest_seaweed_wall_decoration_01_28")
spawn("forest_underwater_plankton",28,27,3,-1,"forest_underwater_plankton_10")
spawn("forest_underwater_plankton",28,28,3,-1,"forest_underwater_plankton_11")
spawn("forest_underwater_plankton",27,28,3,-1,"forest_underwater_plankton_12")
spawn("forest_underwater_plankton",29,26,3,-1,"forest_underwater_plankton_13")
spawn("forest_underwater_plankton",29,25,3,-1,"forest_underwater_plankton_14")
spawn("forest_underwater_plankton",29,18,3,-1,"forest_underwater_plankton_15")
spawn("forest_underwater_plankton",29,19,3,-1,"forest_underwater_plankton_16")
spawn("forest_underwater_plankton",29,17,3,-1,"forest_underwater_plankton_17")
spawn("forest_underwater_plankton",30,17,3,-1,"forest_underwater_plankton_18")
spawn("beach_boulder",27,26,2,0,"beach_boulder_12")
spawn("beach_rock_1x1",29,27,2,0,"beach_rock_1x1_14")
spawn("beach_rock_pillar_01",28,25,2,0,"beach_rock_pillar_01_6")
spawn("beach_rock_spire",30,24,2,0,"beach_rock_spire_4")
spawn("beach_rock_spire_pillar",28,21,2,0,"beach_rock_spire_pillar_1")
spawn("beach_rock_1x1",28,20,2,0,"beach_rock_1x1_15")
spawn("beach_rock_1x1",28,17,2,0,"beach_rock_1x1_16")
spawn("beach_rock_1x1_low",28,22,3,0,"beach_rock_1x1_low_3")
spawn("beach_rock_1x1_low",30,20,1,0,"beach_rock_1x1_low_4")
spawn("forest_seaweed_floor_01",31,17,2,-1,"forest_seaweed_floor_01_94")
spawn("forest_seaweed_floor_01",26,28,2,-1,"forest_seaweed_floor_01_95")
spawn("ladder_metal",25,23,3,-1,"ladder_metal_11")
spawn("ladder_metal",23,23,1,-1,"ladder_metal_21")
spawn("forest_seaweed_floor_01",23,21,3,0,"forest_seaweed_floor_01_96")
spawn("forest_seaweed_floor_01",24,23,0,0,"forest_seaweed_floor_01_97")
spawn("forest_seaweed_floor_01",24,22,2,0,"forest_seaweed_floor_01_98")
spawn("forest_seaweed_floor_01",25,22,3,0,"forest_seaweed_floor_01_99")
spawn("forest_seaweed_floor_01",24,21,2,0,"forest_seaweed_floor_01_100")
spawn("forest_seaweed_floor_01",24,24,2,0,"forest_seaweed_floor_01_101")
spawn("forest_seaweed_floor_01",25,24,3,0,"forest_seaweed_floor_01_102")
spawn("forest_seaweed_floor_01",24,25,2,0,"forest_seaweed_floor_01_103")
spawn("forest_seaweed_floor_01",23,25,1,0,"forest_seaweed_floor_01_104")
spawn("forest_seaweed_floor_01",23,26,1,0,"forest_seaweed_floor_01_105")
spawn("beach_rock_arch_small",26,24,0,0,"beach_rock_arch_small_1")
spawn("forest_fireflies",26,23,3,0,"forest_fireflies_6")
forest_fireflies_6.light:disable()
spawn("swamp_grass_01",23,26,0,0,"swamp_grass_01_8")
spawn("swamp_grass_01",23,25,2,0,"swamp_grass_01_9")
spawn("swamp_grass_01",24,25,0,0,"swamp_grass_01_10")
spawn("swamp_grass_01",24,24,1,0,"swamp_grass_01_11")
spawn("swamp_grass_01",25,24,3,0,"swamp_grass_01_12")
spawn("swamp_grass_01",24,23,2,0,"swamp_grass_01_13")
spawn("swamp_grass_01",24,22,2,0,"swamp_grass_01_14")
spawn("swamp_grass_01",25,22,3,0,"swamp_grass_01_15")
spawn("swamp_grass_01",24,21,2,0,"swamp_grass_01_16")
spawn("swamp_grass_01",23,21,0,0,"swamp_grass_01_17")
spawn("mine_moss_pillar_01",25,25,0,0,"mine_moss_pillar_01_1")
spawn("mine_moss_pillar_01",24,26,0,0,"mine_moss_pillar_01_2")
spawn("mine_moss_pillar_01",24,20,3,0,"mine_moss_pillar_01_3")
spawn("mine_moss_pillar_01",25,21,0,0,"mine_moss_pillar_01_4")
spawn("mine_moss_wall_01",26,25,3,0,"mine_moss_wall_01_1")
spawn("mine_moss_wall_01",25,26,3,0,"mine_moss_wall_01_2")
spawn("mine_moss_wall_01",24,27,3,0,"mine_moss_wall_01_3")
spawn("mine_moss_wall_01",23,27,3,0,"mine_moss_wall_01_4")
spawn("mine_moss_wall_01",22,27,3,0,"mine_moss_wall_01_5")
spawn("mine_moss_wall_01",25,26,0,0,"mine_moss_wall_01_6")
spawn("mine_moss_wall_01",24,27,0,0,"mine_moss_wall_01_7")
spawn("mine_moss_wall_01",26,25,0,0,"mine_moss_wall_01_8")
spawn("mine_moss_pillar_01",25,26,0,0,"mine_moss_pillar_01_5")
spawn("mine_moss_pillar_01",24,27,0,0,"mine_moss_pillar_01_6")
spawn("mine_moss_pillar_03",21,23,0,0,"mine_moss_pillar_03_1")
spawn("mine_moss_pillar_02",25,20,0,0,"mine_moss_pillar_02_1")
spawn("mine_moss_pillar_02",23,27,2,0,"mine_moss_pillar_02_2")
spawn("mine_moss_pillar_02",22,27,2,0,"mine_moss_pillar_02_3")
spawn("invisible_rocky_wall",21,20,3,0,"invisible_rocky_wall_15")
spawn("invisible_rocky_wall",23,27,0,0,"invisible_rocky_wall_16")
spawn("invisible_rocky_wall",24,26,1,0,"invisible_rocky_wall_17")
spawn("invisible_rocky_wall",25,25,1,0,"invisible_rocky_wall_18")
spawn("forest_seaweed_floor_02",26,23,3,-1,"forest_seaweed_floor_02_85")
spawn("forest_seaweed_floor_01",25,23,2,-1,"forest_seaweed_floor_01_106")
spawn("forest_underwater_plankton",25,23,3,-1,"forest_underwater_plankton_23")
spawn("invisible_rocky_wall",25,21,1,0,"invisible_rocky_wall_19")
spawn("invisible_rocky_wall",24,20,1,0,"invisible_rocky_wall_20")
spawn("invisible_rocky_wall",23,19,0,0,"invisible_rocky_wall_21")
spawn("invisible_rocky_wall",22,19,3,0,"invisible_rocky_wall_22")
spawn("mine_moss_ceiling_01",22,24,2,0,"mine_moss_ceiling_01_1")
spawn("mine_moss_ceiling_01",22,22,3,0,"mine_moss_ceiling_01_2")
spawn("mine_moss_ceiling_01",23,23,3,0,"mine_moss_ceiling_01_3")
spawn("mine_moss_ceiling_01",21,24,2,0,"mine_moss_ceiling_01_4")
spawn("mine_moss_ceiling_01",20,23,0,0,"mine_moss_ceiling_01_5")
spawn("mine_moss_ceiling_01",21,22,0,0,"mine_moss_ceiling_01_6")
spawn("mine_moss_ceiling_01",23,24,1,0,"mine_moss_ceiling_01_7")
spawn("mine_moss_ceiling_01",23,22,3,0,"mine_moss_ceiling_01_8")
spawn("mine_ceiling_shaft_edge",22,23,3,0,"mine_ceiling_shaft_edge_1")
spawn("mine_ceiling_shaft_edge",22,23,0,0,"mine_ceiling_shaft_edge_2")
spawn("mine_ceiling_shaft_edge",22,23,2,0,"mine_ceiling_shaft_edge_3")
spawn("mine_ceiling_shaft_edge",22,23,1,0,"mine_ceiling_shaft_edge_4")
spawn("script_entity",25,20,1,0,"purple_cave_script")
purple_cave_script.script:setSource("function init()\
\9local color = vec(0.4, 0.2, 2, 0)\
\9purple_cave_light.light:setColor(color)\
\9purple_cave_light.pointlight:setColor(color)\9\
\9purple_cave_fireflies.light:setColor(color)\
\9purple_cave_fireflies_2.light:setColor(color)\
\9purple_cave_fireflies_3.light:setColor(color)\
\9purple_cave_fireflies_4.light:setColor(color)\
end")
spawn("mine_ceiling_pit_light_bright",22,23,2,0,"purple_cave_light")
spawn("floor_trigger",25,19,3,0,"floor_trigger_10")
floor_trigger_10.floortrigger:setTriggeredByParty(false)
floor_trigger_10.floortrigger:setTriggeredByMonster(false)
floor_trigger_10.floortrigger:setTriggeredByItem(true)
floor_trigger_10.floortrigger:setTriggeredByDigging(false)
floor_trigger_10.floortrigger:setDisableSelf(false)
floor_trigger_10.floortrigger:addConnector("onActivate", "purple_cave_script", "init")
spawn("rock",25,19,3,0,"rock_6")
spawn("forest_fireflies",22,23,2,0,"purple_cave_fireflies")
purple_cave_fireflies.particle:disable()
spawn("forest_fireflies",21,24,2,0,"purple_cave_fireflies_3")
purple_cave_fireflies_3.particle:disable()
spawn("forest_fireflies",21,22,2,0,"purple_cave_fireflies_2")
purple_cave_fireflies_2.particle:disable()
spawn("mine_moss_pillar_03",22,26,1,0,"mine_moss_pillar_03_2")
spawn("mine_moss_pillar_03",19,24,0,0,"mine_moss_pillar_03_3")
spawn("mine_moss_pillar_03",19,22,0,0,"mine_moss_pillar_03_4")
spawn("mine_moss_pillar_02",21,20,1,0,"mine_moss_pillar_02_4")
spawn("mine_moss_pillar_02",21,26,0,0,"mine_moss_pillar_02_5")
spawn("mine_moss_pillar_02",20,25,1,0,"mine_moss_pillar_02_6")
spawn("mine_moss_pillar_02",18,23,3,0,"mine_moss_pillar_02_7")
spawn("invisible_rocky_wall",22,26,3,0,"invisible_rocky_wall_23")
spawn("mine_moss_wall_01",26,22,0,0,"mine_moss_wall_01_9")
spawn("mine_moss_wall_01",26,21,3,0,"mine_moss_wall_01_10")
spawn("mine_moss_ceiling_01",22,25,2,0,"mine_moss_ceiling_01_9")
spawn("mine_moss_ceiling_01",23,25,2,0,"mine_moss_ceiling_01_10")
spawn("mine_moss_ceiling_01",23,26,2,0,"mine_moss_ceiling_01_11")
spawn("mine_moss_ceiling_01",21,25,2,0,"mine_moss_ceiling_01_12")
spawn("mine_moss_ceiling_01",20,24,2,0,"mine_moss_ceiling_01_13")
spawn("mine_moss_ceiling_01",19,25,2,0,"mine_moss_ceiling_01_14")
spawn("mine_moss_wall_01",25,21,0,0,"mine_moss_wall_01_11")
spawn("mine_moss_wall_01",24,20,0,0,"mine_moss_wall_01_12")
spawn("mine_moss_wall_01",25,20,3,0,"mine_moss_wall_01_13")
spawn("mine_moss_wall_01",24,19,3,0,"mine_moss_wall_01_14")
spawn("mine_moss_wall_01",23,18,3,0,"mine_moss_wall_01_15")
spawn("mine_moss_wall_01",22,18,3,0,"mine_moss_wall_01_16")
spawn("mine_moss_pillar_01",23,19,0,0,"mine_moss_pillar_01_7")
spawn("mine_moss_pillar_01",22,19,3,0,"mine_moss_pillar_01_8")
spawn("mine_moss_wall_01",21,19,3,0,"mine_moss_wall_01_17")
spawn("mine_moss_pillar_02",21,19,3,0,"mine_moss_pillar_02_8")
spawn("mine_moss_wall_01",23,19,0,0,"mine_moss_wall_01_18")
spawn("mine_moss_wall_01",21,18,2,0,"mine_moss_wall_01_19")
spawn("mine_moss_ceiling_01",24,25,2,0,"mine_moss_ceiling_01_15")
spawn("mine_moss_ceiling_01",24,24,2,0,"mine_moss_ceiling_01_16")
spawn("mine_moss_ceiling_01",24,23,2,0,"mine_moss_ceiling_01_17")
spawn("mine_moss_ceiling_01",24,22,2,0,"mine_moss_ceiling_01_18")
spawn("mine_moss_ceiling_01",22,21,2,0,"mine_moss_ceiling_01_19")
spawn("mine_moss_ceiling_01",25,24,2,0,"mine_moss_ceiling_01_20")
spawn("mine_moss_ceiling_01",25,23,2,0,"mine_moss_ceiling_01_21")
spawn("mine_moss_ceiling_01",25,22,2,0,"mine_moss_ceiling_01_22")
spawn("mine_moss_ceiling_01",26,22,2,0,"mine_moss_ceiling_01_23")
spawn("mine_moss_ceiling_01",26,23,2,0,"mine_moss_ceiling_01_24")
spawn("mine_moss_ceiling_01",26,24,2,0,"mine_moss_ceiling_01_25")
spawn("mine_moss_ceiling_01",24,21,2,0,"mine_moss_ceiling_01_26")
spawn("mine_moss_ceiling_01",23,21,2,0,"mine_moss_ceiling_01_27")
spawn("mine_moss_ceiling_01",23,20,2,0,"mine_moss_ceiling_01_28")
spawn("mine_moss_ceiling_01",22,20,2,0,"mine_moss_ceiling_01_29")
spawn("mine_moss_ceiling_01",21,21,2,0,"mine_moss_ceiling_01_30")
spawn("mine_moss_ceiling_01",18,22,2,0,"mine_moss_ceiling_01_31")
spawn("mine_moss_ceiling_01",20,20,2,0,"mine_moss_ceiling_01_32")
spawn("mine_moss_ceiling_01",19,21,2,0,"mine_moss_ceiling_01_33")
spawn("mine_moss_ceiling_01",20,22,2,0,"mine_moss_ceiling_01_34")
spawn("mine_moss_ceiling_01",19,23,2,0,"mine_moss_ceiling_01_35")
spawn("mine_moss_ceiling_01",20,26,2,0,"mine_moss_ceiling_01_36")
spawn("mine_moss_ceiling_01",18,24,2,0,"mine_moss_ceiling_01_37")
spawn("mine_moss_pillar_03",20,21,1,0,"mine_moss_pillar_03_5")
spawn("mine_moss_wall_01",21,27,3,0,"mine_moss_wall_01_20")
spawn("mine_moss_wall_01",20,27,3,0,"mine_moss_wall_01_21")
spawn("mine_moss_wall_01",20,19,3,0,"mine_moss_wall_01_22")
spawn("mine_moss_wall_01",19,19,3,0,"mine_moss_wall_01_23")
spawn("mine_moss_pillar_03",19,20,1,0,"mine_moss_pillar_03_6")
spawn("mine_ceiling_roots_01",24,22,0,0,"mine_ceiling_roots_01_4")
spawn("mine_ceiling_shaft_roots_01",24,24,0,0,"mine_ceiling_shaft_roots_01_2")
spawn("mine_ceiling_shaft_roots_01",24,23,0,0,"mine_ceiling_shaft_roots_01_3")
spawn("mine_ceiling_shaft_roots_01",23,25,0,0,"mine_ceiling_shaft_roots_01_4")
spawn("mine_ceiling_shaft_roots_01",23,26,0,0,"mine_ceiling_shaft_roots_01_5")
spawn("mine_ceiling_shaft_roots_01",23,24,0,0,"mine_ceiling_shaft_roots_01_6")
spawn("mine_ceiling_shaft_roots_01",23,23,0,0,"mine_ceiling_shaft_roots_01_7")
spawn("mine_ceiling_shaft_roots_01",23,22,0,0,"mine_ceiling_shaft_roots_01_8")
spawn("mine_ceiling_shaft_roots_01",22,22,0,0,"mine_ceiling_shaft_roots_01_9")
spawn("mine_ceiling_shaft_roots_01",21,22,0,0,"mine_ceiling_shaft_roots_01_10")
spawn("mine_ceiling_shaft_roots_01",20,22,0,0,"mine_ceiling_shaft_roots_01_11")
spawn("mine_ceiling_shaft_roots_01",20,23,0,0,"mine_ceiling_shaft_roots_01_12")
spawn("mine_ceiling_shaft_roots_01",20,24,0,0,"mine_ceiling_shaft_roots_01_13")
spawn("mine_ceiling_shaft_roots_01",21,24,0,0,"mine_ceiling_shaft_roots_01_14")
spawn("mine_ceiling_shaft_roots_01",22,24,0,0,"mine_ceiling_shaft_roots_01_15")
spawn("mine_ceiling_shaft_roots_01",22,23,0,0,"mine_ceiling_shaft_roots_01_16")
spawn("mine_ceiling_shaft_roots_01",22,21,0,0,"mine_ceiling_shaft_roots_01_17")
spawn("mine_ceiling_shaft_roots_01",22,20,0,0,"mine_ceiling_shaft_roots_01_18")
spawn("mine_ceiling_shaft_roots_01",23,20,0,0,"mine_ceiling_shaft_roots_01_19")
spawn("forest_fireflies",20,23,2,0,"purple_cave_fireflies_4")
purple_cave_fireflies_4.particle:disable()
spawn("forest_seaweed_floor_01",23,23,1,-1,"forest_seaweed_floor_01_107")
spawn("forest_seaweed_floor_01",23,22,1,-1,"forest_seaweed_floor_01_108")
spawn("forest_seaweed_floor_01",22,22,1,-1,"forest_seaweed_floor_01_109")
spawn("forest_seaweed_floor_01",22,21,1,-1,"forest_seaweed_floor_01_110")
spawn("forest_seaweed_floor_01",21,21,1,-1,"forest_seaweed_floor_01_111")
spawn("forest_seaweed_floor_01",21,22,1,-1,"forest_seaweed_floor_01_112")
spawn("forest_seaweed_floor_01",20,22,1,-1,"forest_seaweed_floor_01_113")
spawn("forest_seaweed_floor_01",20,23,1,-1,"forest_seaweed_floor_01_114")
spawn("forest_seaweed_floor_01",19,23,1,-1,"forest_seaweed_floor_01_115")
spawn("forest_seaweed_floor_01",20,24,1,-1,"forest_seaweed_floor_01_116")
spawn("forest_seaweed_floor_01",21,24,1,-1,"forest_seaweed_floor_01_117")
spawn("forest_seaweed_floor_01",21,25,1,-1,"forest_seaweed_floor_01_118")
spawn("forest_seaweed_floor_01",22,25,1,-1,"forest_seaweed_floor_01_119")
spawn("forest_seaweed_floor_01",22,24,1,-1,"forest_seaweed_floor_01_120")
spawn("forest_seaweed_floor_01",23,24,1,-1,"forest_seaweed_floor_01_121")
spawn("forest_seaweed_pillar",22,22,0,-1,"forest_seaweed_pillar_1")
spawn("forest_seaweed_pillar",23,23,0,-1,"forest_seaweed_pillar_2")
spawn("forest_seaweed_pillar",23,24,0,-1,"forest_seaweed_pillar_3")
spawn("forest_seaweed_pillar",22,25,0,-1,"forest_seaweed_pillar_5")
spawn("forest_seaweed_floor_02",22,23,0,-1,"forest_seaweed_floor_02_86")
spawn("mine_moss_cave_in",18,23,3,-1,"mine_moss_cave_in_1")
spawn("swamp_grass_01",23,20,0,0,"swamp_grass_01_18")
spawn("swamp_grass_01",22,20,0,0,"swamp_grass_01_19")
spawn("swamp_grass_01",21,20,0,0,"swamp_grass_01_20")
spawn("forest_seaweed_floor_01",23,20,3,0,"forest_seaweed_floor_01_122")
spawn("forest_seaweed_floor_01",22,20,3,0,"forest_seaweed_floor_01_123")
spawn("forest_seaweed_floor_01",21,20,3,0,"forest_seaweed_floor_01_124")
spawn("healing_crystal",22,25,2,0,"healing_crystal_2")
spawn("pirate_crystal",22,21,0,-1,"pirate_crystal_2")
spawn("pirate_crystal",19,23,0,-1,"pirate_crystal_3")
spawn("pirate_crystal",22,25,2,-1,"pirate_crystal_4")
spawn("beach_cattail_blocker",22,21,3,-1,"beach_cattail_blocker_114")
spawn("beach_cattail_blocker",19,23,3,-1,"beach_cattail_blocker_115")
spawn("beach_cattail_blocker",22,25,3,-1,"beach_cattail_blocker_116")
spawn("beach_cattail_broken",22,23,3,-1,"beach_cattail_broken_14")

--- level 3 ---

newMap{
	name = "Lighthouse",
	width = 32,
	height = 32,
	levelCoord = {0,0,0},
	ambientTrack = "beach",
	tiles = {
		"beach_ground",
		"beach_ground_grass",
		"beach_ground_stones",
		"beach_ground_water",
		"beach_wall",
		"forest_ground",
		"forest_ground2",
		"forest_trail",
		"forest_trees",
		"forest_wall",
	}
}

loadLayer("ceiling_elevation", {
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
})

loadLayer("heightmap", {
	2,2,0,0,0,0,0,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,0,1,1,1,1,2,3,3,3,3,3,
	2,2,-3,-3,-3,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,0,0,0,0,1,2,2,3,3,3,2,
	2,2,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,0,1,2,2,3,2,2,2,
	2,2,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,0,1,2,2,2,2,2,2,
	2,2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-2,-2,-2,-2,-2,-2,-1,-1,-1,0,1,2,2,2,2,3,3,
	2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-2,-1,-2,-2,-2,-1,-1,-1,0,0,1,2,2,2,2,3,3,
	2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-2,-1,-1,-1,0,0,1,2,2,2,2,3,3,
	1,-2,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,-1,-1,0,0,1,2,2,2,2,1,1,
	1,2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-2,-2,-2,-1,-1,-1,-1,-1,-1,-1,-1,0,0,1,2,2,2,2,1,1,
	1,2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-2,-2,-2,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,1,1,
	1,2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-2,-2,-2,1,1,1,1,0,0,0,0,2,2,2,2,2,2,2,3,3,
	1,2,-2,-2,-2,-2,-2,-2,-2,1,1,1,0,0,0,2,2,2,2,1,1,1,1,2,2,2,2,2,2,2,3,3,
	1,2,-2,-2,-2,-2,-2,-2,-2,1,1,3,3,3,3,3,3,3,2,1,1,1,1,2,1,2,2,2,2,2,2,2,
	1,0,-2,-2,-2,-2,-2,1,1,1,3,3,3,3,3,3,3,3,2,2,1,1,1,1,1,1,2,1,2,2,2,2,
	1,0,-2,-2,-2,-1,-1,-1,0,1,1,3,3,3,3,3,3,3,2,2,1,1,1,1,1,1,1,1,1,2,2,2,
	1,0,-1,-1,-1,-1,0,0,0,1,1,2,3,3,3,3,3,3,2,2,1,1,1,0,1,0,1,1,1,1,1,2,
	1,0,-1,-1,-1,0,0,0,0,0,1,2,2,3,3,3,3,3,2,1,1,1,0,0,0,0,0,1,1,1,1,1,
	0,0,-1,-1,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,1,1,0,0,0,1,0,0,1,1,1,1,1,
	0,0,0,0,0,0,0,0,0,0,0,1,1,2,1,2,2,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,1,1,1,0,
	0,-1,-1,-1,0,0,0,0,0,0,0,0,0,1,1,2,1,1,0,0,0,1,0,0,0,1,0,0,1,1,1,0,
	0,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,1,1,0,0,
	-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	-1,-1,-1,-1,-1,-1,-1,-1,-2,-2,-1,-1,-1,0,0,0,-1,-1,0,-1,-1,0,-1,-1,0,-1,-1,-1,0,-1,-1,-1,
	-1,-1,-1,-1,-1,-1,-1,-1,-2,-1,-2,-2,-1,-1,0,-1,-1,-1,-1,-2,-2,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,
	-2,-1,-2,-1,-2,-2,-2,-1,-2,-2,-2,-2,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-1,-2,-1,-1,-2,-1,-1,-1,-1,-1,
	-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,-2,-1,-1,-2,-2,-2,-2,-1,-2,-2,-1,-2,-1,-2,
	-2,-2,-1,-1,-1,-1,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,-2,-2,-2,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,
	-2,-2,-1,-1,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-2,-2,
	-2,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,
	-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,
})

loadLayer("noise", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("tiles", {
	3,5,1,1,1,1,1,1,1,5,5,5,10,10,10,10,7,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,
	3,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,8,6,6,9,9,9,9,9,9,9,9,9,9,10,10,10,
	3,5,1,1,1,1,1,1,1,1,2,6,6,6,6,6,8,6,6,6,6,9,9,8,8,8,8,9,8,8,8,8,
	3,5,1,5,5,5,5,5,5,5,2,2,2,2,2,2,2,8,8,8,8,8,8,8,6,9,8,9,8,9,10,10,
	3,5,5,5,3,3,3,3,1,1,2,2,5,5,5,1,1,2,2,6,6,6,9,9,9,9,8,8,8,9,10,9,
	3,3,3,3,3,3,3,5,5,5,2,2,5,2,5,5,5,2,2,6,9,6,6,6,6,6,6,8,9,9,10,9,
	3,3,3,3,5,5,5,5,1,5,2,2,5,2,5,1,5,2,2,2,9,6,6,9,6,6,6,8,8,9,10,9,
	3,5,3,3,3,5,1,5,1,5,5,2,5,1,1,1,5,5,5,2,9,9,6,6,6,9,6,9,8,9,10,9,
	3,5,5,3,3,5,1,1,1,1,5,2,2,1,1,1,1,5,5,2,6,6,9,6,9,6,6,6,8,9,10,9,
	3,5,5,3,1,1,3,3,3,5,5,2,5,1,1,2,2,1,1,2,2,2,6,6,6,6,6,9,8,9,10,9,
	3,5,1,3,1,1,1,3,1,1,5,2,5,2,5,2,2,5,5,1,1,2,6,6,6,6,9,9,8,9,10,9,
	3,5,1,3,1,1,1,1,1,5,5,2,5,2,5,2,2,2,5,1,1,2,6,6,6,6,6,8,8,9,10,9,
	3,5,1,3,1,1,1,1,1,5,2,2,5,5,5,2,2,2,5,1,1,2,6,6,6,6,6,8,6,9,10,9,
	3,5,1,1,1,1,5,5,1,5,5,2,5,2,2,2,2,2,5,1,1,2,2,2,2,2,2,8,2,2,10,9,
	3,5,1,1,1,1,1,1,1,1,5,5,5,2,3,3,3,5,5,1,1,1,2,2,2,2,2,8,2,2,10,9,
	3,5,1,1,1,2,2,2,1,1,1,5,5,5,3,3,3,5,5,1,1,1,1,1,1,1,2,2,2,2,10,9,
	3,5,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,5,10,9,
	3,5,1,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,5,5,9,
	3,5,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,5,9,
	3,5,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,5,1,
	3,5,1,2,1,2,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,5,1,
	3,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,
	3,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,
	5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,
	5,1,1,1,1,1,1,1,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,
	5,1,1,1,1,1,1,1,4,4,4,4,1,1,1,1,1,1,1,4,4,1,4,1,1,1,1,1,1,1,1,1,
	5,1,4,1,4,4,4,1,4,4,4,4,1,1,1,1,1,1,4,4,4,4,4,4,1,1,4,1,1,1,1,1,
	4,4,4,4,4,4,4,1,4,4,1,1,1,1,1,1,1,1,4,1,4,4,4,4,4,1,4,4,1,4,1,1,
	4,4,1,1,4,4,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,
	4,4,1,1,4,4,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,
	4,1,1,4,4,4,4,4,4,4,4,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,
	4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,
})

spawn("forest_day_sky",0,0,1,0,"forest_day_sky_1")
spawn("forest_heightmap",1,0,2,0,"forest_heightmap_1")
spawn("beach_ocean",15,23,0,0,"beach_ocean_1")
spawn("beach_rock_3x1",18,12,2,0,"beach_rock_3x1_1")
spawn("forest_oak",17,10,1,0,"forest_oak_1")
spawn("dungeon_stairs_down",14,14,3,0,"dungeon_stairs_down_1")
spawn("dungeon_pillar",15,15,2,0,"dungeon_pillar_1")
spawn("dungeon_pillar",18,14,0,0,"dungeon_pillar_2")
spawn("dungeon_pillar",16,13,3,0,"dungeon_pillar_3")
spawn("beach_rock_3x1",17,14,2,0,"beach_rock_3x1_2")
spawn("dungeon_pillar",16,14,0,1,"dungeon_pillar_4")
spawn("dungeon_pillar",14,13,2,1,"dungeon_pillar_5")
spawn("beach_rock_outside_wall_high",30,24,2,0,"beach_rock_outside_wall_high_1")
spawn("dungeon_wall_01",14,13,2,2,"dungeon_wall_01_3")
spawn("dungeon_wall_01",13,14,1,1,"dungeon_wall_01_4")
spawn("dungeon_wall_01",13,15,0,1,"dungeon_wall_01_5")
spawn("dungeon_wall_01",14,14,3,1,"dungeon_wall_01_6")
spawn("dungeon_pillar_high",17,16,3,0,"dungeon_pillar_high_1")
spawn("dungeon_pillar",17,16,3,2,"dungeon_pillar_6")
spawn("prison_cage",15,15,1,5,"lighthouse_cage")
spawn("script_entity",18,15,3,0,"lighthouse")
lighthouse.script:setSource("light_id = \"my_fire_elemental\"\
\
function lightUp()\
\9local light = findEntity(light_id)\
\9if light then\
\9\9light:destroy()\
\9end\
\9light = spawn(\"fire_elemental\", lighthouse_cage.level, lighthouse_cage.x,  lighthouse_cage.y, lighthouse_cage.facing, lighthouse_cage.elevation, light_id)\
\9light.monster:disable()\
end\
\
function lightDown()\
\9local light = findEntity(light_id)\
\9if light then\
\9\9light.monster:die()\
\9end\
end\
\
function setDay()\
\9GameMode.setTimeOfDay(0.701)\
end\
\
function setNight()\
\9GameMode.setTimeOfDay(1.701)\
end\
\
function expTest()\
\9helper.script.gainExp(1000, \"Message.\")\
\9helper.script.gainExp(10)\
end")
spawn("ladder",16,13,3,0,"ladder_1")
spawn("ladder_metal",15,15,3,0,"ladder_metal_1")
spawn("ladder_metal",14,15,0,1,"ladder_metal_2")
spawn("dungeon_floor_dirt_01",14,14,3,2,"dungeon_floor_dirt_01_2")
spawn("dungeon_wall_01",15,14,3,1,"dungeon_wall_01_9")
spawn("dungeon_pillar",15,16,0,2,"dungeon_pillar_7")
spawn("dungeon_pillar",15,15,1,1,"dungeon_pillar_8")
spawn("dungeon_pillar",15,13,0,0,"dungeon_pillar_9")
spawn("dungeon_wall_01",14,15,0,1,"dungeon_wall_01_8")
spawn("forest_bridge",15,14,1,2,"forest_bridge_1")
spawn("forest_bridge",16,14,1,2,"forest_bridge_2")
spawn("forest_bridge_pillar",16,15,1,1,"forest_bridge_pillar_2")
spawn("forest_bridge_pillar",16,15,3,2,"forest_bridge_pillar_3")
spawn("forest_bridge",16,15,3,3,"forest_bridge_3")
spawn("forest_bridge",15,15,3,3,"forest_bridge_4")
spawn("forest_bridge",14,15,3,3,"forest_bridge_5")
spawn("invisible_platform",14,14,2,2,"invisible_platform_1")
spawn("forest_bridge",16,15,3,4,"forest_bridge_6")
spawn("forest_bridge",15,14,1,4,"forest_bridge_7")
spawn("forest_bridge",16,14,1,4,"forest_bridge_8")
spawn("forest_bridge",14,13,1,1,"forest_bridge_9")
spawn("forest_bridge",13,13,1,1,"forest_bridge_10")
spawn("dungeon_wall_text_long",14,13,2,0,"dungeon_wall_text_long_1")
dungeon_wall_text_long_1.walltext:setWallText("Lighthouse\
\
let it shine")
spawn("beach_lever",28,18,3,0,"beach_lever_1")
beach_lever_1.lever:setDisableSelf(false)
beach_lever_1.lever:addConnector("onActivate", "lighthouse", "lightUp")
beach_lever_1.lever:addConnector("onDeactivate", "lighthouse", "lightDown")
spawn("swamp_dead_tree",24,9,0,0,"swamp_dead_tree_1")
spawn("forest_oak_cluster",29,18,2,0,"forest_oak_cluster_1")
spawn("forest_oak_cluster",28,16,1,0,"forest_oak_cluster_2")
spawn("forest_ruins_dome",28,18,0,0,"forest_ruins_dome_1")
spawn("background_hill_01",31,20,1,-1,"background_hill_01_1")
spawn("beach_rock_3x1",29,30,2,0,"beach_rock_3x1_3")
spawn("beach_crab",3,27,1,0,"beach_crab_1")
spawn("beach_crab",18,28,3,0,"beach_crab_2")
spawn("beach_crab",18,26,3,0,"beach_crab_3")
spawn("beach_crab",29,26,0,0,"beach_crab_4")
spawn("beach_crab",4,24,0,0,"beach_crab_5")
spawn("beach_crab",25,27,3,0,"beach_crab_6")
spawn("beach_crab",4,28,2,0,"beach_crab_7")
spawn("script_entity",2,0,2,0,"helper")
helper.script:loadFile("mod_assets/scripts/helper.lua")
spawn("forest_stairs_down",13,10,2,0,"forest_stairs_down_1")
spawn("note",16,13,1,0,"note_2")
note_2.scrollitem:setScrollText("Balbuino said there is a city buried under the sand of this island. And underneath it another city. That man is a fool.")
spawn("beach_cattail_wall",29,19,1,0,"beach_cattail_wall_1")
spawn("beach_thicket_broken",11,24,0,0,"beach_thicket_broken_1")
spawn("beach_cattail_wall",29,20,1,0,"beach_cattail_wall_2")
spawn("beach_cattail_wall",28,17,1,0,"beach_cattail_wall_3")
spawn("beach_cattail_blocker",23,26,2,0,"beach_cattail_blocker_1")
spawn("beach_cattail_blocker",8,20,2,0,"beach_cattail_blocker_2")
spawn("beach_cattail_blocker",11,25,1,0,"beach_cattail_blocker_3")
spawn("beach_cattail_blocker",10,29,1,0,"beach_cattail_blocker_4")
spawn("beach_cattail_blocker",8,23,3,0,"beach_cattail_blocker_5")
spawn("beach_cattail_blocker",7,23,3,0,"beach_cattail_blocker_6")
spawn("beach_cattail_blocker",8,24,2,0,"beach_cattail_blocker_7")
spawn("beach_cattail_blocker",7,21,2,0,"beach_cattail_blocker_8")
spawn("beach_cattail_blocker",9,24,2,0,"beach_cattail_blocker_9")
spawn("beach_cattail_blocker",6,20,1,0,"beach_cattail_blocker_10")
spawn("beach_cattail_blocker",13,31,1,0,"beach_cattail_blocker_11")
spawn("beach_cattail_blocker",15,30,1,0,"beach_cattail_blocker_12")
spawn("beach_cattail_blocker",14,30,1,0,"beach_cattail_blocker_13")
spawn("beach_cattail_blocker",2,26,0,0,"beach_cattail_blocker_14")
spawn("beach_cattail_blocker",4,21,3,0,"beach_cattail_blocker_15")
spawn("beach_cattail_blocker",5,21,1,0,"beach_cattail_blocker_16")
spawn("beach_cattail_blocker",10,28,2,0,"beach_cattail_blocker_17")
spawn("beach_cattail_blocker",27,27,1,0,"beach_cattail_blocker_18")
spawn("beach_cattail_blocker",26,26,2,0,"beach_cattail_blocker_19")
spawn("beach_cattail_blocker",5,19,3,0,"beach_cattail_blocker_20")
spawn("beach_cattail_blocker",4,19,3,0,"beach_cattail_blocker_21")
spawn("beach_cattail_blocker",22,25,2,0,"beach_cattail_blocker_22")
spawn("beach_cattail_damaged",6,26,0,0,"beach_cattail_damaged_1")
spawn("beach_cattail_damaged",4,18,3,0,"beach_cattail_damaged_2")
spawn("beach_cattail_damaged",7,18,3,0,"beach_cattail_damaged_3")
spawn("beach_cattail_damaged",2,21,2,0,"beach_cattail_damaged_4")
spawn("beach_cattail_damaged",3,23,3,0,"beach_cattail_damaged_5")
spawn("beach_cattail_damaged",9,20,2,0,"beach_cattail_damaged_6")
spawn("beach_cattail_damaged",9,22,3,0,"beach_cattail_damaged_7")
spawn("beach_cattail_damaged",3,22,3,0,"beach_cattail_damaged_8")
spawn("beach_boulder",5,23,1,0,"beach_boulder_1")
spawn("beach_ground_01",2,24,1,0,"beach_ground_01_1")
spawn("beach_rock_3x2",0,30,0,0,"beach_rock_3x2_1")
spawn("beach_rock_blocker_01",1,27,1,0,"beach_rock_blocker_01_1")
spawn("beach_rock_blocker_01",0,31,1,0,"beach_rock_blocker_01_2")
spawn("beach_rock_border",1,29,3,0,"beach_rock_border_1")
spawn("invisible_rocky_wall",0,29,1,0,"invisible_rocky_wall_1")
spawn("beach_rock_1x1",1,28,3,0,"beach_rock_1x1_1")
spawn("beach_cattail_blocker",4,28,3,0,"beach_cattail_blocker_24")
spawn("beach_cattail_damaged",2,29,1,0,"beach_cattail_damaged_9")
spawn("beach_cattail_damaged",3,29,2,0,"beach_cattail_damaged_10")
spawn("beach_cattail_blocker",3,28,1,0,"beach_cattail_blocker_23")
spawn("beach_cattail_blocker",7,26,1,0,"beach_cattail_blocker_25")
spawn("beach_rock_border",4,31,2,0,"beach_rock_border_2")
spawn("beach_rock_border",8,31,2,0,"beach_rock_border_3")
spawn("beach_rock_border",17,31,2,0,"beach_rock_border_4")
spawn("beach_rock_border",20,30,2,0,"beach_rock_border_7")
spawn("branch",2,30,0,0,"branch_1")
spawn("forest_cage_01",6,7,0,1,"forest_cage_01_1")
spawn("dungeon_wall_01",15,15,3,0,"dungeon_wall_01_10")
spawn("dungeon_wall_02",14,16,0,1,"dungeon_wall_02_3")
spawn("dungeon_pillar",18,16,3,2,"dungeon_pillar_10")
spawn("beach_cattail_blocker",19,27,2,0,"beach_cattail_blocker_26")
spawn("beach_cattail_blocker",20,27,3,0,"beach_cattail_blocker_27")
spawn("beach_cattail_blocker",18,27,1,0,"beach_cattail_blocker_28")
spawn("beach_cattail_blocker",24,27,1,0,"beach_cattail_blocker_29")
spawn("beach_cattail_damaged",19,26,1,0,"beach_cattail_damaged_11")
spawn("beach_cattail_damaged",20,26,3,0,"beach_cattail_damaged_12")
spawn("beach_cattail_damaged",18,26,0,0,"beach_cattail_damaged_13")
spawn("beach_cattail_damaged",19,28,0,0,"beach_cattail_damaged_14")
spawn("beach_cattail_damaged",26,24,2,0,"beach_cattail_damaged_15")
spawn("beach_cattail_damaged",17,28,3,0,"beach_cattail_damaged_16")
spawn("dungeon_pillar_high",15,16,3,0,"dungeon_pillar_high_2")
spawn("dungeon_pillar_high",14,16,3,0,"dungeon_pillar_high_3")
spawn("dungeon_pillar_high",13,15,3,0,"dungeon_pillar_high_5")
spawn("dungeon_wall_drain",14,16,0,0,"dungeon_wall_drain_1")
spawn("dungeon_wall_02",16,16,0,1,"dungeon_wall_02_5")
spawn("dungeon_wall_02",15,15,2,0,"dungeon_wall_02_6")
spawn("dungeon_wall_02",16,16,0,0,"dungeon_wall_02_7")
spawn("dungeon_pillar_high",16,16,3,0,"dungeon_pillar_high_6")
spawn("dungeon_pillar",17,16,3,3,"dungeon_pillar_11")
spawn("dungeon_pillar",15,16,0,3,"dungeon_pillar_12")
spawn("dungeon_pillar_high",16,16,3,2,"dungeon_pillar_high_7")
spawn("dungeon_pillar_high",15,15,3,4,"dungeon_pillar_high_8")
spawn("dungeon_wall_02",14,16,0,2,"dungeon_wall_02_8")
spawn("dungeon_wall_02",15,16,0,2,"dungeon_wall_02_10")
spawn("dungeon_wall_02",16,16,0,2,"dungeon_wall_02_12")
spawn("dungeon_wall_02",16,16,0,3,"dungeon_wall_02_13")
spawn("dungeon_pillar_high",18,16,3,0,"dungeon_pillar_high_9")
spawn("dungeon_wall_01",13,15,0,0,"dungeon_wall_01_7")
spawn("dungeon_wall_01",13,15,1,0,"dungeon_wall_01_11")
spawn("dungeon_wall_01",13,15,1,2,"dungeon_wall_01_12")
spawn("invisible_platform",14,15,2,1,"invisible_platform_2")
spawn("forest_bridge",14,15,3,1,"forest_bridge_15")
spawn("dungeon_wall_01",13,15,1,1,"dungeon_wall_01_13")
spawn("dungeon_wall_01",13,14,1,2,"dungeon_wall_01_14")
spawn("dungeon_wall_01",14,14,1,3,"dungeon_wall_01_15")
spawn("invisible_wall",14,15,1,0,"invisible_wall_9")
spawn("invisible_wall",30,29,1,0,"invisible_wall_10")
spawn("beach_rock_blocker_01",13,18,0,0,"beach_rock_blocker_01_3")
spawn("beach_rock_1x1",9,15,2,0,"beach_rock_1x1_2")
spawn("rock",7,21,0,0,"rock_1")
spawn("rock",4,21,1,0,"rock_2")
spawn("rock",2,12,1,0,"rock_3")
rock_3.item:setStackSize(2)
spawn("rock",2,11,1,0,"rock_4")
spawn("beach_rock_2x1",6,16,0,0,"beach_rock_2x1_1")
spawn("beach_rock_outside_wall_high",1,7,0,0,"beach_rock_outside_wall_high_2")
spawn("beach_rock_spire",14,8,2,0,"beach_rock_spire_1")
spawn("dungeon_wall_open",15,16,0,3,"dungeon_wall_open_1")
spawn("dungeon_wall_02",16,15,2,0,"dungeon_wall_02_2")
spawn("mine_support_wall_01",15,13,0,0,"mine_support_wall_01_4")
spawn("dungeon_wall_01",14,13,2,1,"dungeon_wall_01_17")
spawn("dungeon_pillar_high",13,14,3,0,"dungeon_pillar_high_10")
spawn("dungeon_pillar_high",16,13,1,0,"dungeon_pillar_high_11")
spawn("dungeon_pillar_high",15,14,1,0,"dungeon_pillar_high_12")
spawn("dungeon_wall_01",16,13,3,0,"dungeon_wall_01_1")
spawn("dungeon_wall_01",15,13,1,0,"dungeon_wall_01_19")
spawn("forest_bridge",15,13,1,1,"forest_bridge_11")
spawn("dungeon_wall_01",12,14,1,0,"dungeon_wall_01_20")
spawn("dungeon_wall_02",15,16,0,0,"dungeon_wall_02_14")
spawn("dungeon_wall_01",14,15,1,3,"dungeon_wall_01_21")
spawn("beach_rock_2x1",8,3,1,0,"beach_rock_2x1_2")
spawn("beach_rock_3x2",29,1,1,0,"beach_rock_3x2_2")
spawn("beach_rock_3x1",12,12,1,0,"beach_rock_3x1_4")
spawn("dungeon_pillar",16,14,2,0,"dungeon_pillar_14")
spawn("dungeon_pillar_high",17,14,3,0,"dungeon_pillar_high_13")
spawn("castle_wall_cloth",16,13,2,1,"castle_wall_cloth_1")
spawn("dungeon_wall_01",14,13,2,0,"dungeon_wall_01_23")
spawn("dungeon_pillar",13,13,2,0,"dungeon_pillar_15")
spawn("dungeon_pillar",14,14,2,0,"dungeon_pillar_16")
spawn("dungeon_wall_01",13,13,2,1,"dungeon_wall_01_2")
spawn("dungeon_pillar",14,13,1,0,"dungeon_pillar_17")
spawn("dungeon_wall_01",13,13,2,0,"dungeon_wall_01_16")
spawn("dungeon_wall_ivy_01",13,13,2,0,"dungeon_wall_ivy_01_2")
spawn("dungeon_wall_02",16,15,2,1,"dungeon_wall_02_1")
spawn("dungeon_wall_02",16,15,2,2,"dungeon_wall_02_15")
spawn("dungeon_wall_02",16,15,2,3,"dungeon_wall_02_16")
spawn("dungeon_wall_02",15,15,2,2,"dungeon_wall_02_18")
spawn("dungeon_wall_02",14,15,2,1,"dungeon_wall_02_20")
spawn("dungeon_wall_02",14,15,2,2,"dungeon_wall_02_21")
spawn("mine_support_wall_01",15,16,0,0,"mine_support_wall_01_1")
spawn("mine_support_wall_01",14,16,0,0,"mine_support_wall_01_2")
spawn("mine_support_wall_01",16,16,0,0,"mine_support_wall_01_3")
spawn("dungeon_wall_01",14,15,3,1,"dungeon_wall_01_18")
spawn("mine_support_wall_01",14,16,0,1,"mine_support_wall_01_5")
spawn("dungeon_pillar",16,15,3,0,"dungeon_pillar_18")
spawn("dungeon_floor_dirt_01",13,14,3,2,"dungeon_floor_dirt_01_1")
spawn("mine_support_wall_02",13,13,3,1,"mine_support_wall_02_2")
spawn("invisible_platform",13,14,2,2,"invisible_platform_3")
spawn("dungeon_wall_01",12,14,1,1,"dungeon_wall_01_22")
spawn("dungeon_wall_01",14,14,3,1,"dungeon_wall_01_24")
spawn("dungeon_pillar",14,14,2,1,"dungeon_pillar_19")
spawn("dungeon_pillar",14,14,2,2,"dungeon_pillar_20")
spawn("dungeon_wall_01",14,14,3,2,"dungeon_wall_01_25")
spawn("dungeon_wall_01",14,15,3,2,"dungeon_wall_01_26")
spawn("dungeon_wall_01",15,14,0,2,"dungeon_wall_01_27")
spawn("dungeon_wall_01",16,14,0,2,"dungeon_wall_01_28")
spawn("dungeon_wall_01",15,13,2,2,"dungeon_wall_01_29")
spawn("dungeon_wall_01",16,13,2,2,"dungeon_wall_01_30")
spawn("dungeon_wall_01",16,13,2,3,"dungeon_wall_01_31")
spawn("dungeon_wall_01",15,13,2,3,"dungeon_wall_01_32")
spawn("dungeon_pillar_high",17,14,3,2,"dungeon_pillar_high_14")
spawn("dungeon_pillar_high",16,14,3,2,"dungeon_pillar_high_15")
spawn("dungeon_pillar_high",15,14,3,2,"dungeon_pillar_high_16")
spawn("dungeon_pillar_high",17,15,1,0,"dungeon_pillar_high_17")
spawn("dungeon_pillar",15,15,2,3,"dungeon_pillar_21")
spawn("dungeon_wall_01",15,14,0,3,"dungeon_wall_01_34")
spawn("dungeon_wall_01",14,14,0,2,"dungeon_wall_01_35")
spawn("dungeon_wall_01",17,14,3,2,"dungeon_wall_01_36")
spawn("dungeon_wall_01",17,15,3,2,"dungeon_wall_01_37")
spawn("dungeon_wall_01",17,14,3,3,"dungeon_wall_01_39")
spawn("dungeon_wall_01",16,14,1,3,"dungeon_wall_01_40")
spawn("dungeon_wall_01",16,15,1,2,"dungeon_wall_01_42")
spawn("dungeon_wall_01",16,14,1,2,"dungeon_wall_01_43")
spawn("dungeon_wall_01",15,15,3,3,"dungeon_wall_01_44")
spawn("dungeon_wall_01",15,14,3,3,"dungeon_wall_01_45")
spawn("invisible_rocky_wall",6,15,1,0,"invisible_rocky_wall_2")
spawn("forest_bridge",4,12,0,1,"forest_bridge_12")
spawn("forest_bridge",4,11,0,1,"forest_bridge_13")
spawn("forest_bridge",4,10,0,1,"forest_bridge_14")
spawn("dungeon_pillar",4,13,2,0,"dungeon_pillar_22")
spawn("dungeon_pillar",5,13,0,0,"dungeon_pillar_23")
spawn("dungeon_pillar",5,10,3,0,"dungeon_pillar_24")
spawn("dungeon_pillar",4,10,1,0,"dungeon_pillar_25")
spawn("dungeon_pillar",5,7,3,0,"dungeon_pillar_27")
spawn("mine_support_wall_01",4,11,1,0,"mine_support_wall_01_6")
spawn("mine_support_wall_01",5,12,3,0,"mine_support_wall_01_7")
spawn("mine_support_wall_01",3,12,3,0,"mine_support_wall_01_8")
spawn("mine_support_wall_01",3,11,3,0,"mine_support_wall_01_9")
spawn("mine_support_wall_01",3,10,3,0,"mine_support_wall_01_10")
spawn("mine_support_wall_01",5,7,3,0,"mine_support_wall_01_12")
spawn("mine_support_wall_01",5,8,3,0,"mine_support_wall_01_13")
spawn("mine_support_wall_01",3,8,1,0,"mine_support_wall_01_14")
spawn("mine_support_wall_01",4,7,3,0,"mine_support_wall_01_15")
spawn("forest_bridge",4,7,0,1,"forest_bridge_16")
spawn("forest_bridge",4,8,0,1,"forest_bridge_17")
spawn("mine_support_wall_01",4,7,0,0,"mine_support_wall_01_16")
spawn("mine_support_wall_01",3,9,3,0,"mine_support_wall_01_17")
spawn("mine_support_wall_01",5,9,2,0,"mine_support_wall_01_18")
spawn("mine_support_wall_01",5,9,0,0,"mine_support_wall_01_19")
spawn("mine_support_wall_01",6,8,3,0,"mine_support_wall_01_20")
spawn("mine_support_wall_01",6,10,3,0,"mine_support_wall_01_21")
spawn("dungeon_wall_grating",4,9,0,0,"dungeon_wall_grating_1")
spawn("dungeon_pillar",4,9,1,0,"dungeon_pillar_28")
spawn("dungeon_pillar",5,9,1,0,"dungeon_pillar_29")
spawn("script_entity",6,9,1,0,"cages_script")
cages_script.script:setSource("function openCage1()\
\9\
end\
\
function testEgg(self, item)\
\9print(item.go.name)\
end")
spawn("fjeld_warg",4,8,3,0,"fjeld_warg_1")
spawn("fjeld_warg",8,7,2,0,"fjeld_warg_3")
fjeld_warg_3.monster:disable()
spawn("fjeld_warg",9,8,0,0,"fjeld_warg_4")
spawn("fjeld_warg",8,12,3,0,"fjeld_warg_6")
spawn("fjeld_warg2",6,7,3,0,"fjeld_warg2_1")
spawn("fjeld_warg2",8,11,3,0,"fjeld_warg2_2")
spawn("fjeld_warg2",4,7,2,0,"fjeld_warg2_3")
spawn("mine_support_wall_01",6,7,3,0,"mine_support_wall_01_22")
spawn("mine_support_wall_01",6,6,3,0,"mine_support_wall_01_23")
spawn("mine_support_wall_01",6,6,0,0,"mine_support_wall_01_24")
spawn("mine_support_wall_01",7,6,3,0,"mine_support_wall_01_25")
spawn("mine_support_wall_01",7,7,3,0,"mine_support_wall_01_26")
spawn("mine_support_wall_01",7,7,2,0,"mine_support_wall_01_27")
spawn("mine_support_wall_01",7,7,1,0,"mine_support_wall_01_28")
spawn("mine_support_wall_01",7,6,1,0,"mine_support_wall_01_29")
spawn("mine_support_wall_01",8,6,0,0,"mine_support_wall_01_30")
spawn("mine_support_wall_01",8,6,1,0,"mine_support_wall_01_31")
spawn("mine_support_wall_01",8,7,1,0,"mine_support_wall_01_32")
spawn("mine_support_wall_01",9,7,2,0,"mine_support_wall_01_33")
spawn("mine_support_wall_01",9,8,1,0,"mine_support_wall_01_34")
spawn("mine_support_wall_01",9,8,2,0,"mine_support_wall_01_35")
spawn("mine_support_wall_01",9,9,3,0,"mine_support_wall_01_36")
spawn("mine_support_wall_01",9,9,2,0,"mine_support_wall_01_37")
spawn("mine_support_wall_01",9,10,1,0,"mine_support_wall_01_38")
spawn("mine_support_wall_01",9,10,2,0,"mine_support_wall_01_39")
spawn("mine_support_wall_01",9,11,3,0,"mine_support_wall_01_40")
spawn("mine_support_wall_01",9,12,3,0,"mine_support_wall_01_41")
spawn("mine_support_wall_01",8,12,2,0,"mine_support_wall_01_42")
spawn("mine_support_wall_01",8,12,3,0,"mine_support_wall_01_43")
spawn("mine_support_wall_01",8,11,3,0,"mine_support_wall_01_44")
spawn("mine_support_wall_01",7,11,3,0,"mine_support_wall_01_46")
spawn("mine_support_wall_01",7,12,3,0,"mine_support_wall_01_47")
spawn("mine_support_wall_01",6,12,2,0,"mine_support_wall_01_48")
spawn("mine_support_wall_01",5,12,2,0,"mine_support_wall_01_49")
spawn("mine_support_wall_01",7,3,2,0,"mine_support_wall_01_50")
spawn("forest_bridge",6,11,0,1,"forest_bridge_18")
spawn("forest_bridge",6,12,0,1,"forest_bridge_19")
spawn("forest_bridge",8,12,0,1,"forest_bridge_20")
spawn("forest_bridge",8,11,0,1,"forest_bridge_21")
spawn("forest_bridge",9,10,3,1,"forest_bridge_22")
spawn("forest_bridge",9,8,3,1,"forest_bridge_23")
spawn("forest_bridge",8,7,2,1,"forest_bridge_24")
spawn("forest_bridge",8,6,2,1,"forest_bridge_25")
spawn("forest_bridge",6,6,2,1,"forest_bridge_26")
spawn("forest_bridge",6,7,2,1,"forest_bridge_27")
spawn("forest_bridge",6,8,2,1,"forest_bridge_28")
spawn("forest_bridge",6,9,2,1,"forest_bridge_29")
spawn("forest_bridge",6,10,2,1,"forest_bridge_30")
spawn("dungeon_wall_grating",4,13,0,0,"dungeon_wall_grating_2")
dungeon_wall_grating_2.door:setPullChain(true)
spawn("dungeon_wall_grating",6,11,0,0,"dungeon_wall_grating_3")
dungeon_wall_grating_3.door:setDoorState("open")
spawn("dungeon_wall_grating",8,11,0,0,"dungeon_wall_grating_4")
spawn("dungeon_wall_grating",8,10,1,0,"dungeon_wall_grating_5")
spawn("dungeon_wall_grating",8,8,1,0,"dungeon_wall_grating_6")
spawn("dungeon_wall_grating",8,8,0,0,"dungeon_wall_grating_7")
spawn("dungeon_wall_grating",6,8,0,0,"dungeon_wall_grating_8")
spawn("dungeon_pillar",6,10,3,0,"dungeon_pillar_30")
spawn("dungeon_pillar",6,9,3,0,"dungeon_pillar_31")
spawn("dungeon_pillar",6,8,3,0,"dungeon_pillar_32")
spawn("dungeon_pillar",6,6,3,0,"dungeon_pillar_33")
spawn("dungeon_pillar",7,6,3,0,"dungeon_pillar_34")
spawn("dungeon_pillar",7,8,3,0,"dungeon_pillar_35")
spawn("dungeon_pillar",8,8,3,0,"dungeon_pillar_36")
spawn("dungeon_pillar",8,6,3,0,"dungeon_pillar_37")
spawn("dungeon_pillar",9,6,3,0,"dungeon_pillar_38")
spawn("dungeon_pillar",9,8,3,0,"dungeon_pillar_39")
spawn("dungeon_pillar",10,8,3,0,"dungeon_pillar_40")
spawn("dungeon_pillar",10,9,3,0,"dungeon_pillar_41")
spawn("dungeon_pillar",9,9,3,0,"dungeon_pillar_42")
spawn("dungeon_pillar",9,10,3,0,"dungeon_pillar_43")
spawn("dungeon_pillar",10,10,3,0,"dungeon_pillar_44")
spawn("dungeon_pillar",10,11,3,0,"dungeon_pillar_45")
spawn("dungeon_pillar",9,11,3,0,"dungeon_pillar_46")
spawn("dungeon_pillar",9,13,3,0,"dungeon_pillar_47")
spawn("dungeon_pillar",8,13,3,0,"dungeon_pillar_48")
spawn("dungeon_pillar",8,11,3,0,"dungeon_pillar_49")
spawn("dungeon_pillar",7,11,3,0,"dungeon_pillar_50")
spawn("dungeon_pillar",7,13,3,0,"dungeon_pillar_51")
spawn("dungeon_pillar",6,13,3,0,"dungeon_pillar_52")
spawn("dungeon_pillar",6,11,3,0,"dungeon_pillar_53")
spawn("forest_bridge_pillar",4,12,2,0,"forest_bridge_pillar_1")
spawn("forest_bridge_pillar",5,12,0,0,"forest_bridge_pillar_4")
spawn("mine_support_beam_01",4,9,1,0,"mine_support_beam_01_1")
spawn("ladder",7,10,3,0,"ladder_3")
spawn("floor_dirt",7,9,3,0,"floor_dirt_2")
spawn("forest_altar",8,9,3,0,"forest_altar_1")
spawn("hand_axe",8,9,3,0,"hand_axe_1")
forest_altar_1.surface:addItem(hand_axe_1.item)
spawn("warg_meat",8,9,3,0,"warg_meat_1")
forest_altar_1.surface:addItem(warg_meat_1.item)
spawn("fjeld_warg_meat",8,9,3,0,"fjeld_warg_meat_1")
forest_altar_1.surface:addItem(fjeld_warg_meat_1.item)
spawn("forest_wall_text_short",5,13,0,0,"forest_wall_text_short_1")
forest_wall_text_short_1.walltext:setWallText("Cages and butchery")
spawn("dungeon_pillar_chains_01",6,8,2,1,"dungeon_pillar_chains_01_1")
spawn("dungeon_pillar",6,8,2,1,"dungeon_pillar_54")
spawn("dungeon_pillar",7,8,2,1,"dungeon_pillar_55")
spawn("dungeon_pillar_chains_01",7,8,2,1,"dungeon_pillar_chains_01_2")
spawn("mine_support_beam_01",6,8,0,1,"mine_support_beam_01_2")
spawn("mine_support_beam_01",6,10,2,1,"mine_support_beam_01_3")
spawn("dungeon_pillar_chains_01",6,11,0,1,"dungeon_pillar_chains_01_3")
spawn("dungeon_pillar",6,11,2,1,"dungeon_pillar_56")
spawn("dungeon_pillar",7,11,2,1,"dungeon_pillar_57")
spawn("dungeon_pillar_chains_01",7,11,0,1,"dungeon_pillar_chains_01_4")
spawn("forest_bridge_pillar",4,11,2,0,"forest_bridge_pillar_5")
spawn("forest_bridge_pillar",4,8,2,0,"forest_bridge_pillar_6")
spawn("forest_bridge_pillar",5,8,0,0,"forest_bridge_pillar_7")
spawn("forest_bridge_pillar",5,11,0,0,"forest_bridge_pillar_8")
spawn("forest_cage_01",6,11,2,1,"forest_cage_01_2")
spawn("forest_blocker_stone",7,7,3,0,"forest_blocker_stone_2")
spawn("beach_rock_1x1",9,9,3,0,"beach_rock_1x1_3")
spawn("summon_stone_pile",13,19,2,0,"summon_stone_pile_1")
spawn("turtle_nest",5,12,2,0,"cages_turtle_nest")
spawn("turtle_eggs",5,12,1,0,"turtle_eggs_1")
spawn("mine_support_wall_02",8,13,0,1,"mine_support_wall_02_1")
spawn("dungeon_pillar_high",9,13,1,1,"dungeon_pillar_high_18")
spawn("forest_bridge_pillar",9,13,2,3,"forest_bridge_pillar_9")
spawn("castle_wall_cloth",8,13,0,3,"castle_wall_cloth_2")
spawn("mine_support_beam_01",8,13,0,3,"mine_support_beam_01_4")
spawn("dungeon_pillar",3,13,2,0,"dungeon_pillar_58")
spawn("forest_bridge_pillar",3,12,2,0,"forest_bridge_pillar_10")
spawn("forest_bridge_pillar",3,11,2,0,"forest_bridge_pillar_11")
spawn("dungeon_pillar",3,10,1,0,"dungeon_pillar_59")
spawn("mine_support_wall_01",2,8,1,0,"mine_support_wall_01_51")
spawn("mine_support_wall_01",2,7,1,0,"mine_support_wall_01_52")
spawn("mine_support_wall_01",6,3,2,0,"mine_support_wall_01_53")
spawn("mine_support_wall_01",5,4,0,0,"mine_support_wall_01_54")
spawn("mine_support_wall_01",3,13,0,0,"mine_support_wall_01_55")
spawn("forest_bridge_pillar",3,8,2,0,"forest_bridge_pillar_12")
spawn("dungeon_pillar",3,9,1,0,"dungeon_pillar_60")
spawn("dungeon_wall_grating",3,7,0,0,"dungeon_wall_grating_9")
dungeon_wall_grating_9.door:setPullChain(true)
spawn("invisible_rocky_wall",1,6,1,0,"invisible_rocky_wall_3")
spawn("invisible_rocky_wall",1,5,2,0,"invisible_rocky_wall_4")
spawn("mine_support_wall_02",2,7,0,0,"mine_support_wall_02_3")
spawn("beach_cattail_blocker",2,7,2,0,"beach_cattail_blocker_30")
spawn("forest_chasm",7,11,2,0,"forest_chasm_1")
spawn("forest_bridge_pillar",7,12,0,0,"forest_bridge_pillar_13")
spawn("forest_bridge_pillar",8,12,2,0,"forest_bridge_pillar_14")
spawn("forest_bridge_pillar",9,12,0,0,"forest_bridge_pillar_15")
spawn("forest_bridge_pillar",9,7,0,0,"forest_bridge_pillar_16")
spawn("forest_bridge_pillar",8,7,0,0,"forest_bridge_pillar_17")
spawn("forest_bridge_pillar",7,7,0,0,"forest_bridge_pillar_18")
spawn("forest_bridge_pillar",6,7,0,0,"forest_bridge_pillar_19")
spawn("water_flask",4,11,1,0,"water_flask_1")
spawn("forest_stairs_down",13,6,0,0,"forest_stairs_down_3")
spawn("invisible_wall",13,14,3,0,"invisible_wall_11")
spawn("beach_cattail_blocker",10,17,1,0,"beach_cattail_blocker_31")
spawn("mine_support_wall_01",2,13,0,0,"mine_support_wall_01_56")
spawn("beach_rock_1x1",7,12,3,0,"beach_rock_1x1_4")
spawn("beach_thicket_01",6,17,3,0,"beach_thicket_01_6")
spawn("dungeon_wall_01",16,14,0,3,"dungeon_wall_01_33")
spawn("invisible_wall",13,14,3,2,"invisible_wall_12")
spawn("mine_support_wall_01",15,13,1,0,"mine_support_wall_01_57")
spawn("mine_support_wall_01",14,13,2,0,"mine_support_wall_01_58")
mine_support_wall_01_58.model:disable()
spawn("invisible_wall",14,13,3,2,"invisible_wall_13")
spawn("invisible_wall",15,13,3,2,"invisible_wall_14")
spawn("invisible_wall",16,13,3,2,"invisible_wall_15")
spawn("forest_bridge",14,14,3,3,"forest_bridge_32")
spawn("forest_bridge_pillar",15,15,1,6,"forest_bridge_pillar_20")
spawn("mine_support_beam_01",15,15,0,6,"mine_support_beam_01_5")
spawn("dungeon_pillar",15,15,2,2,"dungeon_pillar_62")
spawn("dungeon_pillar_high",17,15,3,2,"dungeon_pillar_high_19")
spawn("dungeon_pillar",14,15,2,2,"dungeon_pillar_63")
spawn("dungeon_pillar",14,15,2,1,"dungeon_pillar_64")
spawn("ladder_metal",15,14,2,2,"ladder_metal_8")
spawn("dungeon_pillar",15,16,3,4,"dungeon_pillar_67")
spawn("dungeon_pillar",16,16,3,4,"dungeon_pillar_68")
spawn("forest_bridge_pillar",16,15,1,3,"forest_bridge_pillar_21")
spawn("invisible_wall",15,16,3,3,"invisible_wall_16")
spawn("invisible_wall",16,16,3,3,"invisible_wall_17")
spawn("invisible_wall",14,15,3,3,"invisible_wall_18")
spawn("invisible_wall",14,14,1,1,"invisible_wall_19")
spawn("invisible_wall",15,15,3,2,"invisible_wall_20")
spawn("mine_alcove_support",16,15,1,3,"mine_alcove_support_1")
spawn("dungeon_pillar",14,16,3,2,"dungeon_pillar_65")
spawn("castle_wall_cloth_torn",15,15,0,6,"castle_wall_cloth_torn_1")
spawn("potion_cure_poison",17,12,2,0,"potion_cure_poison_6")
spawn("pedestal",17,1,3,0,"lighthouse_shop_desk")
lighthouse_shop_desk.surface:addConnector("onRemoveItem", "lighthouse_shop_script", "takeItem")
lighthouse_shop_desk.surface:addConnector("onInsertItem", "lighthouse_shop_script", "putItem")
spawn("pullchain",16,1,1,0,"pullchain_3")
pullchain_3.button:setDisableSelf(false)
pullchain_3.button:addConnector("onActivate", "lighthouse_shop_script", "pullChain")
spawn("mine_support_pillar_01",17,1,2,0,"mine_support_pillar_01_5")
spawn("mine_support_pillar_01",17,2,3,0,"mine_support_pillar_01_6")
spawn("mine_support_pillar_01",18,2,3,0,"mine_support_pillar_01_7")
spawn("mine_support_pillar_01",18,1,3,0,"mine_support_pillar_01_8")
spawn("mine_support_beam_01",17,1,3,0,"mine_support_beam_01_7")
spawn("mine_support_beam_01",17,1,0,0,"mine_support_beam_01_14")
spawn("mine_support_beam_01",18,1,3,0,"mine_support_beam_01_15")
spawn("mine_support_beam_01",17,2,0,0,"mine_support_beam_01_16")
spawn("mine_support_beam_01",19,3,1,0,"mine_support_beam_01_17")
spawn("mine_support_beam_01",17,2,3,0,"mine_support_beam_01_18")
spawn("mine_support_beam_01",17,2,1,0,"mine_support_beam_01_19")
spawn("mine_support_pillar_01",17,3,2,0,"mine_support_pillar_01_9")
spawn("mine_support_pillar_01",18,3,2,0,"mine_support_pillar_01_10")
spawn("mine_support_wall_01",17,2,3,0,"mine_support_wall_01_60")
spawn("mine_support_wall_01",19,1,3,0,"mine_support_wall_01_62")
spawn("mine_support_wall_01",17,3,0,0,"mine_support_wall_01_61")
spawn("mine_support_wall_01",17,2,1,1,"mine_support_wall_01_65")
spawn("mine_support_wall_01",17,1,1,1,"mine_support_wall_01_66")
spawn("mine_support_wall_01",17,1,0,1,"mine_support_wall_01_67")
spawn("mine_support_wall_01",16,2,1,1,"mine_support_wall_01_68")
spawn("mine_support_wall_01",16,1,1,1,"mine_support_wall_01_69")
spawn("mine_support_pillar_01",17,3,2,1,"mine_support_pillar_01_11")
spawn("mine_support_pillar_01",18,3,2,1,"mine_support_pillar_01_12")
spawn("mine_support_pillar_01",18,2,2,1,"mine_support_pillar_01_13")
spawn("mine_support_pillar_01",18,1,2,1,"mine_support_pillar_01_14")
spawn("mine_support_pillar_01",17,1,2,1,"mine_support_pillar_01_15")
spawn("mine_support_pillar_01",17,2,2,1,"mine_support_pillar_01_16")
spawn("mine_support_ceiling_01",17,2,2,0,"mine_support_ceiling_01_1")
spawn("mine_support_ceiling_01",17,1,2,0,"mine_support_ceiling_01_2")
spawn("mine_support_ceiling_01",17,1,2,1,"mine_support_ceiling_01_3")
spawn("mine_support_ceiling_01",17,2,2,1,"mine_support_ceiling_01_4")
spawn("ratling_boss",19,2,2,0,"cedrick")
cedrick.monster:setLevel(5)
cedrick.monster:setHealth(0)
spawn("ratling1",17,1,3,0,"ratling1_1")
ratling1_1.monster:disable()
spawn("script_entity",17,0,1,0,"lighthouse_shop_script")
lighthouse_shop_script.script:setSource("lighthouse_shop = {}\
lighthouse_shop.name = \"lighthouse_shop\"\
lighthouse_shop.currency = \"coin_copper\"\
lighthouse_shop.dealer_name = \"Draggo\"\
lighthouse_shop.out_of_stock_message = \"I am sold out!\"\
lighthouse_shop.wrong_items_message = \"Everything for one roach only.\"\
lighthouse_shop.deal_message = \"Another happy customer.\"\
lighthouse_shop.no_deal_message = \"No business then.\"\
lighthouse_shop.no_messing_message = \"Stop messing around!\"\
\
function pullChain()\
\9shop.script.pullChain(lighthouse_shop)\9\
end\
\
function takeItem(alcove, item)\
\9shop.script.takeItem(lighthouse_shop, alcove, item)\9\
end\
\
function putItem(alcove, item)\
\9shop.script.putItem(lighthouse_shop, alcove, item)\9\
end")
spawn("pedestal",17,0,2,0,"lighthouse_shop_stock")
spawn("pirate_machete",17,0,2,0,"pirate_machete_3")
lighthouse_shop_stock.surface:addItem(pirate_machete_3.item)
spawn("cudgel",17,0,2,0,"cudgel_1")
lighthouse_shop_stock.surface:addItem(cudgel_1.item)
spawn("dagger",17,0,2,0,"dagger_3")
lighthouse_shop_stock.surface:addItem(dagger_3.item)
spawn("flintlock",17,0,2,0,"flintlock_3")
lighthouse_shop_stock.surface:addItem(flintlock_3.item)
spawn("script_entity",3,0,1,0,"shop")
shop.script:loadFile("mod_assets/scripts/shop.lua")
spawn("mine_support_pillar_lantern_01",17,2,0,0,"mine_support_pillar_lantern_01_3")
spawn("forest_fountain",11,2,0,0,"forest_fountain_1")
spawn("forest_exit_rock_tunnel",16,0,0,0,"forest_exit_rock_tunnel_3")
spawn("invisible_rocky_wall",12,2,2,0,"invisible_rocky_wall_5")
spawn("invisible_rocky_wall",12,1,2,0,"invisible_rocky_wall_8")
spawn("invisible_rocky_wall",11,1,1,0,"invisible_rocky_wall_40")
spawn("forest_ruins_wall_01",17,4,2,0,"forest_ruins_wall_01_8")
spawn("forest_ruins_wall_01",19,4,2,0,"forest_ruins_wall_01_10")
spawn("forest_ruins_wall_01",19,5,1,0,"forest_ruins_wall_01_11")
spawn("forest_ruins_wall_01",20,6,3,0,"forest_ruins_wall_01_12")
spawn("forest_ruins_wall_01",18,7,0,0,"forest_ruins_wall_01_14")
spawn("forest_ruins_wall_01",17,6,2,0,"forest_ruins_wall_01_15")
spawn("forest_ruins_wall_01",17,5,3,0,"forest_ruins_wall_01_16")
spawn("forest_ruins_pillar_01",17,5,3,0,"forest_ruins_pillar_01_8")
spawn("forest_ruins_pillar_01",18,5,0,0,"forest_ruins_pillar_01_9")
spawn("forest_ruins_pillar_01",19,5,1,0,"forest_ruins_pillar_01_10")
spawn("forest_ruins_pillar_01",20,5,0,0,"forest_ruins_pillar_01_11")
spawn("forest_ruins_pillar_01",20,6,3,0,"forest_ruins_pillar_01_12")
spawn("forest_ruins_pillar_01",20,7,1,0,"forest_ruins_pillar_01_13")
spawn("forest_ruins_pillar_01",19,7,3,0,"forest_ruins_pillar_01_14")
spawn("forest_ruins_pillar_01",18,7,3,0,"forest_ruins_pillar_01_15")
spawn("forest_ruins_pillar_01",17,7,1,0,"forest_ruins_pillar_01_16")
spawn("forest_ruins_pillar_01",17,6,0,0,"forest_ruins_pillar_01_17")
spawn("forest_ruins_wall_01",23,3,2,0,"forest_ruins_wall_01_18")
spawn("forest_ruins_wall_01",24,3,2,0,"forest_ruins_wall_01_19")
spawn("forest_ruins_pillar_01",24,4,0,0,"forest_ruins_pillar_01_18")
spawn("forest_ruins_pillar_01",27,5,0,0,"forest_ruins_pillar_01_19")
spawn("forest_ruins_pillar_01",27,6,0,0,"forest_ruins_pillar_01_20")
spawn("forest_ruins_pillar_01",27,7,0,0,"forest_ruins_pillar_01_21")
spawn("forest_ruins_pillar_01",26,7,0,0,"forest_ruins_pillar_01_22")
spawn("forest_ruins_pillar_01",25,7,0,0,"forest_ruins_pillar_01_23")
spawn("forest_ruins_pillar_01",25,6,0,0,"forest_ruins_pillar_01_24")
spawn("forest_ruins_pillar_01",25,5,0,0,"forest_ruins_pillar_01_25")
spawn("forest_ruins_pillar_01",26,5,0,0,"forest_ruins_pillar_01_26")
spawn("forest_ruins_wall_02",24,5,1,0,"forest_ruins_wall_02_2")
spawn("forest_ruins_wall_02",25,5,0,0,"forest_ruins_wall_02_3")
spawn("forest_ruins_wall_02",26,5,0,0,"forest_ruins_wall_02_4")
spawn("forest_ruins_wall_02",26,5,1,0,"forest_ruins_wall_02_5")
spawn("forest_ruins_wall_02",27,6,3,0,"forest_ruins_wall_02_6")
spawn("forest_ruins_wall_02",26,6,2,0,"forest_ruins_wall_02_7")
spawn("forest_ruins_wall_02",25,6,2,0,"forest_ruins_wall_02_8")
spawn("forest_ruins_wall_02",24,6,1,0,"forest_ruins_wall_02_9")
spawn("beach_rock_3x1",15,0,3,0,"beach_rock_3x1_8")
spawn("mine_door_spear",18,4,2,0,"snake_door")
spawn("mine_door_spear",27,11,3,0,"mine_door_spear_2")
spawn("mine_support_wall_01",15,3,2,0,"mine_support_wall_01_81")
spawn("mine_support_wall_01",17,4,3,0,"mine_support_wall_01_82")
spawn("mine_support_beam_01",16,4,0,0,"mine_support_beam_01_29")
spawn("mine_support_beam_01",16,5,0,0,"mine_support_beam_01_30")
spawn("mine_support_beam_01",15,5,0,0,"mine_support_beam_01_31")
spawn("mine_support_beam_01",15,4,3,0,"mine_support_beam_01_32")
spawn("mine_support_pillar_01",15,4,2,0,"mine_support_pillar_01_54")
spawn("mine_support_pillar_01",15,5,1,0,"mine_support_pillar_01_55")
spawn("mine_support_pillar_01",16,5,3,0,"mine_support_pillar_01_56")
spawn("mine_support_pillar_01",17,4,2,0,"mine_support_pillar_01_57")
spawn("mine_support_ceiling_01",15,4,3,0,"mine_support_ceiling_01_11")
spawn("mine_support_ceiling_01",16,4,3,0,"mine_support_ceiling_01_12")
spawn("mine_support_pillar_01",16,4,1,0,"mine_support_pillar_01_58")
spawn("mine_support_pillar_01",19,2,3,0,"mine_support_pillar_01_59")
spawn("mine_support_pillar_01",19,1,3,0,"mine_support_pillar_01_60")
spawn("mine_support_pillar_01",19,3,3,0,"mine_support_pillar_01_61")
spawn("mine_support_wall_01",20,2,3,0,"mine_support_wall_01_83")
spawn("mine_support_ceiling_01",18,2,2,0,"mine_support_ceiling_01_13")
spawn("mine_support_ceiling_01",18,1,2,0,"mine_support_ceiling_01_14")
spawn("barrel_crate_block",18,1,3,0,"barrel_crate_block_9")
spawn("barrel_crate_block",17,2,2,0,"barrel_crate_block_10")
spawn("barrel_crate_block",15,4,1,0,"barrel_crate_block_11")
spawn("barrel_crate_block",17,2,1,1,"barrel_crate_block_12")
spawn("barrel_crate_block",17,1,0,1,"barrel_crate_block_13")
spawn("beach_door_portcullis",8,2,1,0,"beach_door_portcullis_1")
spawn("mine_door_spear",11,4,2,0,"mine_door_spear_4")
spawn("mine_support_beam_01",8,4,3,0,"mine_support_beam_01_33")
spawn("mine_support_beam_01",11,5,0,0,"mine_support_beam_01_34")
spawn("floor_dirt",15,1,2,0,"floor_dirt_13")
spawn("floor_dirt",16,1,0,0,"floor_dirt_14")
spawn("floor_dirt",16,2,0,0,"floor_dirt_15")
spawn("floor_dirt",13,2,1,0,"floor_dirt_17")
spawn("floor_dirt",10,3,2,0,"floor_dirt_18")
spawn("floor_dirt",10,2,1,0,"floor_dirt_20")
spawn("floor_dirt",11,4,3,0,"floor_dirt_22")
spawn("dungeon_pillar",10,5,0,0,"dungeon_pillar_88")
spawn("dungeon_pillar",12,5,2,0,"dungeon_pillar_89")
spawn("dungeon_pillar",11,5,2,0,"dungeon_pillar_90")
spawn("mine_support_beam_01",10,5,0,0,"mine_support_beam_01_35")
spawn("mine_door_spear",10,4,2,0,"mine_door_spear_5")
spawn("forest_bridge",11,5,1,1,"forest_bridge_60")
spawn("forest_bridge",10,5,1,1,"forest_bridge_61")
spawn("ratling1",10,5,0,1,"ratling1_2")
spawn("ratling3",11,5,0,1,"ratling3_2")
spawn("dungeon_pillar_lantern_01",11,5,0,0,"dungeon_pillar_lantern_01_2")
spawn("forest_cage_01",10,1,0,0,"forest_cage_01_3")
spawn("mine_support_wall_01",14,1,2,0,"mine_support_wall_01_84")
spawn("mine_support_wall_01",15,1,3,0,"mine_support_wall_01_85")
spawn("mine_support_pillar_01",15,2,2,0,"mine_support_pillar_01_64")
spawn("mine_support_pillar_01",15,1,2,0,"mine_support_pillar_01_65")
spawn("mine_support_pillar_01",14,1,2,0,"mine_support_pillar_01_66")
spawn("mine_support_pillar_01",13,1,0,0,"mine_support_pillar_01_67")
spawn("mine_support_beam_01",13,2,0,0,"mine_support_beam_01_36")
spawn("mine_support_beam_01",14,1,0,0,"mine_support_beam_01_37")
spawn("mine_support_beam_01",13,1,0,0,"mine_support_beam_01_38")
spawn("forest_ruins_pillar_02",13,2,0,0,"forest_ruins_pillar_02_3")
spawn("forest_bridge",10,4,0,1,"forest_bridge_59")
spawn("forest_bridge",10,3,0,1,"forest_bridge_62")
spawn("forest_bridge",10,2,0,1,"forest_bridge_63")
spawn("forest_bridge",10,1,0,1,"forest_bridge_64")
spawn("forest_bridge",11,1,1,1,"forest_bridge_65")
spawn("forest_bridge",12,1,1,1,"forest_bridge_66")
spawn("forest_bridge",13,1,1,1,"forest_bridge_67")
spawn("forest_bridge",14,1,1,1,"forest_bridge_68")
spawn("dungeon_pillar",11,4,0,0,"dungeon_pillar_91")
spawn("dungeon_pillar",11,3,3,0,"dungeon_pillar_92")
spawn("dungeon_pillar",10,3,1,0,"dungeon_pillar_93")
spawn("dungeon_pillar",10,4,2,0,"dungeon_pillar_94")
spawn("dungeon_pillar",10,1,0,0,"dungeon_pillar_95")
spawn("dungeon_pillar",12,1,2,0,"dungeon_pillar_96")
spawn("dungeon_pillar",11,1,0,0,"dungeon_pillar_97")
spawn("mine_support_pillar_lantern_01",14,2,3,0,"mine_support_pillar_lantern_01_7")
spawn("terracotta_jars_block",14,1,2,0,"terracotta_jars_block_7")
spawn("pedestal",13,2,0,0,"food_shop_desk")
food_shop_desk.surface:addConnector("onInsertItem", "butcher_apprentice_script", "putItem")
food_shop_desk.surface:addConnector("onRemoveItem", "butcher_apprentice_script", "takeItem")
spawn("pedestal",13,0,2,0,"food_shop_stock")
spawn("warg_meat",13,0,2,0,"warg_meat_3")
food_shop_stock.surface:addItem(warg_meat_3.item)
spawn("fjeld_warg_meat",13,0,2,0,"fjeld_warg_meat_2")
food_shop_stock.surface:addItem(fjeld_warg_meat_2.item)
spawn("warg_meat",13,0,2,0,"warg_meat_5")
food_shop_stock.surface:addItem(warg_meat_5.item)
spawn("rat_swarm_shank",13,0,2,0,"rat_swarm_shank_1")
food_shop_stock.surface:addItem(rat_swarm_shank_1.item)
spawn("fjeld_warg_meat",13,0,2,0,"fjeld_warg_meat_3")
food_shop_stock.surface:addItem(fjeld_warg_meat_3.item)
spawn("warg_meat",13,0,2,0,"warg_meat_4")
food_shop_stock.surface:addItem(warg_meat_4.item)
spawn("rat_swarm_shank",13,0,2,0,"rat_swarm_shank_2")
food_shop_stock.surface:addItem(rat_swarm_shank_2.item)
spawn("fjeld_warg_meat",13,0,2,0,"fjeld_warg_meat_4")
food_shop_stock.surface:addItem(fjeld_warg_meat_4.item)
spawn("ratling3",13,1,2,0,"butcher_apprentice")
butcher_apprentice.monster:disable()
spawn("script_entity",13,0,1,0,"butcher_apprentice_script")
butcher_apprentice_script.script:setSource("character_name = \"Bingus\"\
\
food_shop = {}\
food_shop.name = \"food_shop\"\
food_shop.currency = \"coin_copper\"\
food_shop.dealer_name = \"Butcher's apprentice\"\
food_shop.out_of_stock_message = \"You filthy pirates eat too much, there's nothing left!\"\
food_shop.wrong_items_message = \"One meal costs one roach.\"\
food_shop.deal_message = \"Bon appetit.\"\
food_shop.no_deal_message = \"Not so hungry in the end?\"\
food_shop.no_messing_message = \"Stop it! We have rules here.\"\
\
function pullChain()\
\9shop.script.pullChain(food_shop)\9\
end\
\
function takeItem(alcove, item)\
\9shop.script.takeItem(food_shop, alcove, item)\9\
end\
\
function putItem(alcove, item)\
\9shop.script.putItem(food_shop, alcove, item)\9\
end")
spawn("pullchain",13,2,0,0,"pullchain_6")
pullchain_6.button:setDisableSelf(false)
pullchain_6.button:addConnector("onActivate", "butcher_apprentice_script", "pullChain")
spawn("forest_exit",31,2,1,0,"forest_exit_1")
spawn("forest_ruins_pillar_02",11,2,0,0,"forest_ruins_pillar_02_4")
spawn("mine_cave_in",12,1,0,0,"mine_cave_in_2")
spawn("forest_oak_stump",14,4,3,0,"forest_oak_stump_7")
spawn("forest_oak_trunk",13,4,0,0,"forest_oak_trunk_1")
spawn("forest_wall_text_short",9,2,0,0,"forest_wall_text_short_2")
forest_wall_text_short_2.walltext:setWallText("Dungeon")
spawn("sandals",15,4,3,0,"sandals_2")
spawn("mine_support_wall_01",7,5,0,0,"mine_support_wall_01_87")
spawn("mine_support_wall_01",6,5,1,0,"mine_support_wall_01_88")
spawn("mine_support_wall_01",5,5,2,0,"mine_support_wall_01_89")
spawn("mine_support_wall_01",4,5,2,0,"mine_support_wall_01_90")
spawn("mine_support_wall_01",4,4,3,0,"mine_support_wall_01_91")
spawn("mine_support_wall_01",4,4,0,0,"mine_support_wall_01_92")
spawn("dungeon_pillar",12,6,2,0,"dungeon_pillar_98")
spawn("dungeon_pillar",10,6,2,0,"dungeon_pillar_99")
spawn("floor_dirt",11,3,1,0,"floor_dirt_16")
spawn("floor_dirt",10,4,0,0,"floor_dirt_19")
spawn("dungeon_pillar",4,4,3,0,"dungeon_pillar_101")
spawn("dungeon_pillar",5,4,0,0,"dungeon_pillar_102")
spawn("dungeon_pillar",6,4,1,0,"dungeon_pillar_103")
spawn("dungeon_pillar",7,4,1,0,"dungeon_pillar_104")
spawn("dungeon_pillar",8,4,3,0,"dungeon_pillar_105")
spawn("dungeon_pillar",8,5,0,0,"dungeon_pillar_106")
spawn("dungeon_pillar",7,5,2,0,"dungeon_pillar_107")
spawn("dungeon_pillar",5,6,0,0,"dungeon_pillar_108")
spawn("forest_bridge",7,4,3,1,"forest_bridge_69")
spawn("forest_bridge",6,4,3,1,"forest_bridge_70")
spawn("forest_bridge",5,4,3,1,"forest_bridge_71")
spawn("forest_bridge",4,4,3,1,"forest_bridge_72")
spawn("forest_bridge",4,5,3,1,"forest_bridge_73")
spawn("forest_bridge",5,5,3,1,"forest_bridge_74")
spawn("forest_bridge",6,5,3,1,"forest_bridge_75")
spawn("dungeon_pillar_lantern_01",5,5,1,0,"dungeon_pillar_lantern_01_3")
spawn("dungeon_pillar",5,5,0,0,"dungeon_pillar_110")
spawn("dungeon_pillar",6,5,0,0,"dungeon_pillar_111")
spawn("pedestal",5,4,2,0,"pawnshop_desk")
pawnshop_desk.surface:addConnector("onInsertItem", "pawnshop_script", "putItem")
pawnshop_desk.surface:addConnector("onRemoveItem", "pawnshop_script", "takeItem")
spawn("pedestal",4,5,1,0,"pawnshop_sell")
pawnshop_sell.surface:addConnector("onInsertItem", "pawnshop_script", "pawnbroke")
spawn("trickster",5,5,0,0,"shopkeeper")
shopkeeper.gravity:disable()
shopkeeper.monster:disable()
shopkeeper.move:disable()
shopkeeper.turn:disable()
shopkeeper.rangedAttack:disable()
shopkeeper.escape:disable()
shopkeeper.operateDevice:disable()
shopkeeper.wipeJacket:disable()
shopkeeper.brain:disable()
shopkeeper.brainScript:setSource("")
shopkeeper.brainScript:disable()
spawn("floor_trigger",4,5,1,0,"floor_trigger_7")
floor_trigger_7.floortrigger:setTriggeredByParty(true)
floor_trigger_7.floortrigger:setTriggeredByMonster(false)
floor_trigger_7.floortrigger:setTriggeredByItem(false)
floor_trigger_7.floortrigger:setTriggeredByDigging(false)
floor_trigger_7.floortrigger:setDisableSelf(false)
floor_trigger_7.floortrigger:addConnector("onActivate", "pawnshop_script", "turnEast")
spawn("floor_trigger",5,4,3,0,"floor_trigger_8")
floor_trigger_8.floortrigger:setTriggeredByParty(true)
floor_trigger_8.floortrigger:setTriggeredByMonster(false)
floor_trigger_8.floortrigger:setTriggeredByItem(false)
floor_trigger_8.floortrigger:setTriggeredByDigging(false)
floor_trigger_8.floortrigger:setDisableSelf(false)
floor_trigger_8.floortrigger:addConnector("onActivate", "pawnshop_script", "turnNorth")
floor_trigger_8.floortrigger:addConnector("onDeactivate", "pawnshop_script", "hideDialogue")
spawn("script_entity",5,6,2,0,"pawnshop_script")
pawnshop_script.script:loadFile("mod_assets/scripts/pawnbroker.lua")
spawn("barrel_crate_block",6,5,1,0,"barrel_crate_block_14")
spawn("pedestal",6,5,3,0,"pawnshop_stock")
spawn("rapier",6,5,3,0,"rapier_1")
pawnshop_stock.surface:addItem(rapier_1.item)
spawn("pirate_rifle",6,5,3,0,"pirate_rifle_1")
pawnshop_stock.surface:addItem(pirate_rifle_1.item)
spawn("mine_support_wall_02",6,5,0,0,"mine_support_wall_02_7")
spawn("dungeon_wall_grating",4,5,3,0,"progress_door")
spawn("dungeon_pillar_high",4,5,2,0,"dungeon_pillar_high_20")
spawn("dungeon_pillar_high",4,6,1,0,"dungeon_pillar_high_21")
spawn("barrel_crate_block",2,5,1,0,"barrel_crate_block_15")
spawn("pullchain",5,4,2,0,"pullchain_7")
pullchain_7.button:setDisableSelf(false)
pullchain_7.button:addConnector("onActivate", "pawnshop_script", "pullChain")
spawn("forest_ruins_dome",27,8,2,0,"forest_ruins_dome_2")
spawn("forest_ruins_fallen_bricks",28,8,3,0,"forest_ruins_fallen_bricks_3")
spawn("forest_ruins_pillar_fallen",26,9,2,0,"forest_ruins_pillar_fallen_2")
spawn("mine_door_spear",27,12,0,0,"mine_door_spear_3")
spawn("forest_ruins_pillar_01",27,12,0,0,"forest_ruins_pillar_01_27")
spawn("forest_ruins_pillar_02",27,11,2,0,"forest_ruins_pillar_02_5")
spawn("forest_ruins_pillar_03",28,12,0,0,"forest_ruins_pillar_03_3")
spawn("forest_ruins_wall_end_right",28,12,0,0,"forest_ruins_wall_end_right_2")
spawn("forest_oak_cluster",29,14,0,0,"forest_oak_cluster_5")
spawn("forest_spruce_sapling_01",29,15,3,0,"forest_spruce_sapling_01_1")
spawn("forest_willow",29,13,3,0,"forest_willow_2")
spawn("forest_ruins_wall_ivy_02",27,8,2,0,"forest_ruins_wall_ivy_02_3")
spawn("mine_door_spear",27,8,3,0,"mine_door_spear_6")
spawn("script_entity",5,10,2,0,"butcher_script")
butcher_script.script:loadFile("mod_assets/scripts/butcher.lua")
spawn("butcher",4,10,3,0,"butcher")
butcher.brainScript:setSource("character_name = \"Jack the Butcher\"")
spawn("script_entity",4,0,1,0,"cannon")
cannon.script:loadFile("mod_assets/scripts/cannon.lua")
spawn("dungeon_pillar_high",3,7,1,0,"dungeon_pillar_high_50")
spawn("dungeon_pillar_high",4,7,1,0,"dungeon_pillar_high_51")
spawn("dungeon_pillar",2,5,0,0,"dungeon_pillar_26")
spawn("dungeon_pillar",3,5,0,0,"dungeon_pillar_61")
spawn("dungeon_pillar",2,7,0,0,"dungeon_pillar_140")
spawn("forest_bridge",2,5,2,1,"forest_bridge_92")
spawn("forest_bridge",2,6,2,1,"forest_bridge_93")
spawn("barrel_crate_block",2,5,1,1,"barrel_crate_block_18")
spawn("barrel_crate_block",2,6,1,1,"barrel_crate_block_19")
spawn("food_sausage",2,5,2,0,"food_sausage_2")
spawn("food_water_flask",2,6,2,0,"food_water_flask_3")
spawn("food_water_flask",2,6,2,0,"food_water_flask_4")
spawn("food_water_flask",2,6,2,0,"food_water_flask_5")
spawn("pirate_crystal",2,5,3,0,"pirate_crystal_1")
spawn("mine_wall_text",7,4,0,0,"mine_wall_text_4")
mine_wall_text_4.walltext:setWallText("John Silver's Pawnshop")
spawn("mine_support_beam_01",14,3,0,0,"mine_support_beam_01_42")
spawn("mine_support_pillar_01",14,3,2,0,"mine_support_pillar_01_119")
spawn("mine_support_pillar_01",15,3,1,0,"mine_support_pillar_01_120")
spawn("mine_wall_text",14,2,0,0,"mine_wall_text_5")
mine_wall_text_5.walltext:setWallText("Butcher's Shop")
spawn("mine_wall_text",16,2,1,0,"mine_wall_text_6")
mine_wall_text_6.walltext:setWallText("Draggo's Weapon Store")
spawn("mine_door_spear",19,6,2,0,"mine_door_spear_11")
spawn("forest_ruins_wall_01",20,7,3,0,"forest_ruins_wall_01_28")
spawn("forest_ruins_wall_01",20,8,0,0,"forest_ruins_wall_01_29")
spawn("forest_ruins_wall_01",21,8,0,0,"forest_ruins_wall_01_30")
spawn("forest_ruins_wall_end_right",21,8,1,0,"forest_ruins_wall_end_right_5")
spawn("forest_ruins_wall_end_right",22,9,3,0,"forest_ruins_wall_end_right_6")
spawn("forest_ruins_pillar_01",20,8,1,0,"forest_ruins_pillar_01_39")
spawn("forest_ruins_pillar_01",21,8,1,0,"forest_ruins_pillar_01_40")
spawn("forest_ruins_pillar_01",22,8,1,0,"forest_ruins_pillar_01_41")
spawn("forest_ruins_pillar_01",22,9,1,0,"forest_ruins_pillar_01_42")
spawn("forest_ruins_pillar_01",22,10,1,0,"forest_ruins_pillar_01_43")
spawn("forest_ruins_pillar_01",21,10,1,0,"forest_ruins_pillar_01_44")
spawn("forest_ruins_pillar_01",20,11,1,0,"forest_ruins_pillar_01_45")
spawn("mine_door_spear",21,9,2,0,"mine_door_spear_12")
spawn("forest_ruins_wall_01",20,11,0,0,"forest_ruins_wall_01_31")
spawn("forest_ruins_wall_01",19,11,0,0,"forest_ruins_wall_01_32")
spawn("mine_support_pillar_01",18,6,1,0,"mine_support_pillar_01_125")
spawn("mine_support_pillar_01",19,6,1,0,"mine_support_pillar_01_130")
spawn("forest_bridge",17,5,1,1,"forest_bridge_105")
spawn("forest_bridge",18,5,1,1,"forest_bridge_106")
spawn("forest_bridge",19,5,1,1,"forest_bridge_107")
spawn("forest_bridge",19,6,1,1,"forest_bridge_108")
spawn("forest_bridge",18,6,1,1,"forest_bridge_109")
spawn("forest_bridge",17,6,1,1,"forest_bridge_110")
spawn("floor_dirt",18,5,0,0,"floor_dirt_34")
spawn("floor_dirt",19,6,0,0,"floor_dirt_35")
spawn("floor_dirt",19,5,0,0,"floor_dirt_36")
spawn("forest_cage_02",18,6,2,0,"forest_cage_02_1")
spawn("forest_stairs_down",3,2,3,0,"forest_stairs_down_8")
spawn("dungeon_pillar_chains_01",10,3,0,0,"dungeon_pillar_chains_01_5")
spawn("skull",8,2,3,0,"skull_5")
spawn("bear_skull_helm",6,2,0,0,"bear_skull_helm_1")
spawn("forest_oak_cluster",11,11,1,0,"forest_oak_cluster_40")
spawn("forest_oak",11,9,3,0,"forest_oak_6")
spawn("beach_lever",10,6,2,0,"beach_lever_6")
beach_lever_6.lever:setDisableSelf(false)
spawn("mine_support_wall_01",9,5,1,0,"mine_support_wall_01_133")
spawn("mine_support_wall_01",11,5,1,0,"mine_support_wall_01_134")
spawn("dungeon_wall_open",15,16,0,1,"dungeon_wall_open_13")
spawn("mine_lever",16,15,2,3,"mine_lever_6")
mine_lever_6.lever:setDisableSelf(false)
mine_lever_6.lever:addConnector("onToggle", "cage_script", "toggle")
spawn("script_entity",13,15,2,0,"cage_script")
cage_script.script:setSource("cage_up = true\
cage_rising = true\
\
function toggle()\
\9if cage_up then\
\9\9cage_rising = false\
\9else\
\9\9cage_rising = true\
\9end\
\9cage_timer.timer:start()\
\9cage_up = not cage_up\
\9_wallOn()\9\
end\
\
function cageMove()\
\9local elevation = 0\
\9if cage_rising then\
\9\9elevation = lighthouse_cage.elevation + 0.03\
\9\9if lighthouse_cage.elevation >= 5 then\
\9\9\9elevation = 5\
\9\9\9cage_timer.timer:stop()\
\9\9\9_wallOff()\
\9\9end\
\9else\
\9\9elevation = lighthouse_cage.elevation - 0.03\
\9\9if lighthouse_cage.elevation <= 3 then\9\9\
\9\9\9elevation = 3\
\9\9\9cage_timer.timer:stop()\
\9\9\9-- _wallOff()\
\9\9end\
\9end\
\9helper.script.setElevation(lighthouse_cage, elevation)\
\9--helper.script.setElevation(lighthouse_cage, elevation)\
end\
\
function _wallOn()\
\9cage_invisible_wall.obstacle:enable()\
\9cage_invisible_wall.projectilecollider:enable()\
end\
\
\
function _wallOff()\
\9cage_invisible_wall.obstacle:disable()\
\9cage_invisible_wall.projectilecollider:disable()\
end")
spawn("timer",12,15,0,0,"cage_timer")
cage_timer.timer:setTimerInterval(0.05)
cage_timer.timer:setDisableSelf(false)
cage_timer.timer:setTriggerOnStart(false)
cage_timer.timer:setCurrentLevelOnly(false)
cage_timer.timer:addConnector("onActivate", "cage_script", "cageMove")
spawn("invisible_wall",15,15,3,3,"cage_invisible_wall")
spawn("mine_support_pillar_01",16,15,1,4,"mine_support_pillar_01_131")
spawn("lever",14,14,3,2,"lever_2")
lever_2.lever:setDisableSelf(false)
lever_2.lever:addConnector("onToggle", "cage_script", "toggle")
spawn("forest_oak_cluster",13,11,1,0,"forest_oak_cluster_41")
spawn("mine_door_spear",13,8,3,0,"mine_door_spear_13")
spawn("dungeon_pillar",13,8,2,0,"dungeon_pillar_152")
spawn("dungeon_pillar",13,9,2,0,"dungeon_pillar_153")
spawn("dungeon_pillar",12,9,2,0,"dungeon_pillar_154")
spawn("dungeon_pillar",12,8,2,0,"dungeon_pillar_155")
spawn("forest_bridge",12,8,3,1,"forest_bridge_33")
spawn("forest_ogre",12,8,3,0,"forest_ogre_1")
spawn("beach_boulder",15,10,0,0,"beach_boulder_14")
spawn("forest_ruins_pillar_01",19,11,1,0,"forest_ruins_pillar_01_46")
spawn("forest_ruins_pillar_01",21,11,1,0,"forest_ruins_pillar_01_47")
spawn("forest_ruins_wall_01",20,10,1,0,"forest_ruins_wall_01_33")
spawn("branch",25,10,1,0,"branch_8")
spawn("peasant_tunic",5,19,2,0,"peasant_tunic_3")
spawn("invisible_wall",30,28,1,0,"invisible_wall_2")
spawn("invisible_wall",30,27,1,0,"invisible_wall_3")
spawn("invisible_wall",30,26,1,0,"invisible_wall_4")
spawn("invisible_wall",30,25,1,0,"invisible_wall_5")
spawn("giant_snake",18,6,0,0,"giant_snake_2")
giant_snake_2.brain:disable()
spawn("forest_ruins_pillar_fallen",26,7,3,0,"forest_ruins_pillar_fallen_3")
spawn("forest_ruins_fallen_bricks",26,11,3,0,"forest_ruins_fallen_bricks_8")
spawn("mine_support_wall_01",28,18,3,0,"mine_support_wall_01_144")
mine_support_wall_01_144.model:disable()
spawn("mine_support_pillar_01",20,4,3,0,"mine_support_pillar_01_144")
spawn("mine_support_wall_01",20,4,3,0,"mine_support_wall_01_145")
spawn("mine_door_spear",19,3,1,0,"cedrick_gate")
spawn("zarchton",17,4,0,0,"zarchton_1")
zarchton_1.monster:disable()
zarchton_1.brain:disable()
spawn("mine_ceiling_lantern",17,6,0,0,"mine_ceiling_lantern_3")
spawn("forest_underwater_plankton",17,4,3,0,"forest_underwater_plankton_24")
spawn("floor_dirt",17,4,1,0,"floor_dirt_38")
spawn("pedestal",17,3,2,0,"snake_dealer_desk")
snake_dealer_desk.surface:addConnector("onInsertItem", "snake_dealer_script", "putItem")
snake_dealer_desk.surface:addConnector("onRemoveItem", "snake_dealer_script", "takeItem")
spawn("mine_support_pillar_01",18,4,2,0,"mine_support_pillar_01_146")
spawn("mine_support_beam_01",17,4,0,0,"mine_support_beam_01_47")
spawn("mine_support_beam_01",17,4,1,0,"mine_support_beam_01_48")
spawn("pedestal",21,9,0,0,"snake_dealer_stock")
spawn("snake_flute",21,9,0,0,"snake_flute_2")
snake_dealer_stock.surface:addItem(snake_flute_2.item)
spawn("pullchain",17,3,2,0,"pullchain_8")
pullchain_8.button:setDisableSelf(false)
pullchain_8.button:addConnector("onActivate", "snake_dealer_script", "pullChain")
spawn("script_entity",16,4,2,0,"snake_dealer_script")
snake_dealer_script.script:loadFile("mod_assets/scripts/snake_delaer.lua")
spawn("mine_ceiling_lantern",19,6,0,0,"mine_ceiling_lantern_4")
spawn("giant_snake",20,9,1,0,"giant_snake_4")
spawn("giant_snake",19,8,1,0,"giant_snake_5")
spawn("giant_snake",21,8,1,0,"giant_snake_6")
spawn("beach_door_wood",17,9,1,0,"beach_door_wood_2")
spawn("floor_trigger",17,3,3,0,"floor_trigger_28")
floor_trigger_28.floortrigger:setTriggeredByParty(true)
floor_trigger_28.floortrigger:setTriggeredByMonster(false)
floor_trigger_28.floortrigger:setTriggeredByItem(false)
floor_trigger_28.floortrigger:setTriggeredByDigging(false)
floor_trigger_28.floortrigger:setDisableSelf(false)
floor_trigger_28.floortrigger:addConnector("onDeactivate", "snake_dealer_script", "hideDialogue")
spawn("pirate_hat",17,6,2,0,"pirate_hat_1")
spawn("dungeon_alcove",17,6,3,0,"dungeon_alcove_10")
spawn("pedestal",17,4,1,0,"pedestal_4")
pedestal_4.model:disable()
spawn("mine_support_wall_02",4,10,3,0,"mine_support_wall_02_13")
spawn("mine_support_wall_02",4,11,0,0,"mine_support_wall_02_14")
spawn("pedestal",4,10,0,0,"pedestal_5")
spawn("turtle_nest",5,11,2,0,"turtle_nest_3")
spawn("chest",6,12,0,0,"chest_10")
spawn("mine_support_wall_01",6,10,2,0,"mine_support_wall_01_146")
spawn("pedestal",4,10,1,0,"pedestal_6")
pedestal_6.model:disable()
spawn("forest_lantern",17,13,2,0,"forest_lantern_3")
spawn("mine_support_wall_02",19,3,0,0,"mine_support_wall_02_15")
spawn("script_entity",20,1,0,0,"cedrick_script")
cedrick_script.script:setSource("cedrick_name = \"Cedrick\"\
\
function trigger()\
\9if pawnshop_script.script.cedrick_friend then\
\9\9cedrick_gate.door:open()\
\9\9helper.script.talkRandom(cedrick_name, \
\9\9\9{ \
\9\9\9\"You can go this time.\",\
\9\9\9\"Don't get eaten little one!\",\
\9\9\9\"John Silver said you are friend now.\",\
\9\9\9\"Go. But be careful what you do.\",\
\9\9\9}\
\9\9)\
\9else \
\9\9cedrick_gate.door:close()\
\9\9helper.script.talkRandom(cedrick_name, \
\9\9\9{ \
\9\9\9\"This gate is a no go for you.\",\
\9\9\9\"You are not going anywhere.\",\
\9\9\9\"You are no friend of us. Gate stays closed.\",\
\9\9\9\"Get lost! Are you even a pirate?\"\
\9\9\9}\
\9\9)\
\9end\
end\
")
spawn("floor_trigger",19,3,3,0,"floor_trigger_32")
floor_trigger_32.floortrigger:setTriggeredByParty(true)
floor_trigger_32.floortrigger:setTriggeredByMonster(false)
floor_trigger_32.floortrigger:setTriggeredByItem(false)
floor_trigger_32.floortrigger:setTriggeredByDigging(false)
floor_trigger_32.floortrigger:setDisableSelf(false)
floor_trigger_32.floortrigger:addConnector("onActivate", "cedrick_script", "trigger")
floor_trigger_32.floortrigger:addConnector("onActivate", "cedrick_timer", "stop")
floor_trigger_32.floortrigger:addConnector("onDeactivate", "cedrick_timer", "start")
spawn("floor_trigger",20,3,3,0,"floor_trigger_33")
floor_trigger_33.floortrigger:setTriggeredByParty(true)
floor_trigger_33.floortrigger:setTriggeredByMonster(false)
floor_trigger_33.floortrigger:setTriggeredByItem(false)
floor_trigger_33.floortrigger:setTriggeredByDigging(false)
floor_trigger_33.floortrigger:setDisableSelf(false)
floor_trigger_33.floortrigger:addConnector("onActivate", "cedrick_script", "trigger")
floor_trigger_33.floortrigger:addConnector("onActivate", "cedrick_timer", "stop")
floor_trigger_33.floortrigger:addConnector("onDeactivate", "cedrick_timer", "start")
spawn("timer",19,1,2,0,"cedrick_timer")
cedrick_timer.timer:setTimerInterval(10)
cedrick_timer.timer:setDisableSelf(false)
cedrick_timer.timer:setTriggerOnStart(false)
cedrick_timer.timer:setCurrentLevelOnly(false)
cedrick_timer.timer:addConnector("onActivate", "cedrick_gate", "close")
spawn("mine_door_spear",23,8,2,0,"mine_door_spear_15")
spawn("forest_ruins_wall_end_right",22,8,1,0,"forest_ruins_wall_end_right_7")
spawn("forest_ruins_pillar_03",23,9,3,0,"forest_ruins_pillar_03_8")
spawn("forest_ruins_pillar_02",24,8,1,0,"forest_ruins_pillar_02_9")
spawn("forest_ruins_pillar_fallen",25,8,2,0,"forest_ruins_pillar_fallen_4")
spawn("forest_ruins_fallen_bricks",21,5,2,0,"forest_ruins_fallen_bricks_9")
spawn("forest_ruins_fallen_bricks",21,6,0,0,"forest_ruins_fallen_bricks_10")
spawn("forest_plant_cluster_01",23,6,2,0,"forest_plant_cluster_01_72")
spawn("forest_plant_cluster_01",22,4,2,0,"forest_plant_cluster_01_73")
spawn("forest_plant_cluster_01",25,3,3,0,"forest_plant_cluster_01_74")
spawn("mine_support_beam_01",21,5,0,1,"mine_support_beam_01_49")
spawn("mine_support_pillar_01",21,5,2,1,"mine_support_pillar_01_147")
spawn("mine_support_pillar_01",21,5,3,0,"mine_support_pillar_01_148")
spawn("dungeon_wall_01",20,5,0,0,"dungeon_wall_01_108")
spawn("dungeon_wall_02",20,4,2,0,"dungeon_wall_02_4")
spawn("mine_support_wall_01",18,3,0,0,"mine_support_wall_01_11")
spawn("mine_support_pillar_01",20,3,3,0,"mine_support_pillar_01_149")
spawn("terracotta_jars_block",18,2,2,0,"terracotta_jars_block_10")
spawn("mine_support_beam_01",19,2,2,0,"mine_support_beam_01_50")
spawn("mine_support_pillar_01",20,2,3,0,"mine_support_pillar_01_150")
spawn("mine_support_ceiling_01",19,2,2,0,"mine_support_ceiling_01_21")

--- level 4 ---

newMap{
	name = "Cliff",
	width = 32,
	height = 32,
	levelCoord = {1,-1,0},
	ambientTrack = "beach",
	tiles = {
		"beach_ground",
		"beach_ground_grass",
		"beach_ground_stones",
		"beach_ground_water",
		"beach_wall",
		"forest_ground2",
		"forest_trees",
		"forest_wall",
	}
}

loadLayer("ceiling_elevation", {
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
})

loadLayer("heightmap", {
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,
	-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-1,
	-3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-3,-3,-3,-3,-3,-3,-3,-3,1,2,2,2,2,1,-3,-3,-3,-3,-1,
	-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-3,-3,-3,-3,-3,-3,2,3,3,3,3,1,-3,-3,-3,-3,0,
	-3,-3,-3,-3,-2,-2,-1,-2,-1,-2,-2,-2,-1,-1,-2,-3,-3,-3,-3,-3,0,2,3,3,3,3,1,-3,-3,-3,-3,0,
	-3,-3,-3,-3,-2,-2,-1,-2,-2,-2,-2,-1,-1,-1,-2,-3,-3,-3,-3,-3,0,2,3,3,3,3,1,-2,-2,-2,-2,1,
	-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-2,-2,-3,0,-3,-3,-3,-3,1,3,3,3,3,2,1,-2,-2,-2,1,
	-1,-1,-2,-1,-1,-2,-2,-1,-2,-1,-1,-1,-2,-2,-3,-3,-3,-3,-3,-3,-3,1,1,1,2,2,1,-2,-2,-2,-2,2,
	-1,-1,-1,-1,-1,-2,-1,-1,-1,-1,-1,-2,-2,-3,-3,-3,-3,-3,-3,-3,-3,-3,-1,1,1,0,-2,-2,-2,-2,-2,2,
	-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,-2,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-1,0,0,0,-2,-2,-2,-2,-2,2,
	0,0,0,-1,-1,-1,-1,-1,-1,-2,-2,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-1,0,-1,-1,-2,-2,-2,-2,2,2,
	0,0,0,0,0,0,0,-1,-1,-1,-2,-2,-2,-3,-3,-3,-3,-3,-3,-3,-3,-1,0,0,-1,-1,-2,-2,-2,-2,2,2,
	0,0,0,0,0,0,0,0,-1,-1,-1,-1,-2,-3,-3,-3,-3,-3,-3,-3,0,2,1,1,-1,-2,-2,-2,-2,-2,2,2,
	0,0,0,0,0,0,0,0,-1,-1,-1,-1,-2,-3,-3,-3,-3,-3,-3,-3,0,2,1,1,0,-2,-2,-2,-2,-2,2,2,
	0,0,0,0,0,0,0,0,0,0,-1,-1,0,0,-3,-3,-3,-3,-3,-3,1,3,3,1,0,0,-2,-1,-1,-2,2,2,
	0,0,0,0,0,0,0,0,1,2,2,2,2,3,0,-1,-3,-3,-1,2,3,3,3,3,2,1,-1,-1,-1,-1,3,3,
	0,0,0,0,0,1,0,1,1,2,2,2,3,3,3,3,0,0,1,3,3,3,3,3,3,2,0,0,0,0,3,3,
	3,3,2,2,3,1,1,3,2,2,2,3,3,3,2,3,2,2,3,3,3,3,3,3,3,3,2,2,3,3,3,3,
	3,3,3,3,3,2,2,3,2,2,3,3,3,3,3,3,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,2,3,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,2,3,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
})

loadLayer("reflection", {
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

loadLayer("noise", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("tiles", {
	4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
	4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
	4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
	4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
	4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,
	4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,5,4,4,4,4,4,4,
	4,4,4,4,4,4,4,4,4,4,4,4,3,3,4,4,4,4,4,4,4,5,3,3,3,3,4,4,4,4,4,5,
	4,4,4,4,4,4,4,4,4,4,4,3,3,3,4,4,4,4,4,4,4,5,3,3,3,5,4,4,4,4,4,5,
	4,4,4,4,4,4,4,4,4,3,3,3,3,4,4,4,4,4,4,4,4,5,3,3,3,5,3,3,4,4,4,5,
	4,1,4,1,1,4,4,1,4,1,1,3,4,4,4,4,4,4,4,4,4,5,5,3,3,3,3,3,4,4,4,5,
	5,5,1,1,1,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,5,3,3,3,3,4,4,4,4,5,
	5,5,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,5,3,3,5,4,4,4,4,4,5,
	5,5,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,5,3,3,5,4,4,4,4,3,5,
	5,5,2,2,2,2,2,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,5,3,3,4,4,4,4,4,3,5,
	5,2,2,6,6,6,6,2,1,1,1,4,4,4,4,4,4,4,4,4,4,5,5,3,3,4,4,4,4,4,3,5,
	8,6,6,6,6,6,6,2,1,1,1,4,4,4,4,4,4,4,4,4,5,5,3,3,4,4,4,4,4,4,3,5,
	8,8,8,6,8,6,6,2,1,1,1,4,4,4,4,4,4,4,4,4,5,3,3,3,4,4,4,3,3,4,3,5,
	6,6,6,6,8,6,6,2,1,1,1,5,1,1,3,4,4,4,4,3,5,3,3,3,3,3,3,3,3,3,3,5,
	5,5,8,8,8,6,2,2,2,2,2,5,1,1,5,5,5,5,5,3,5,1,3,3,3,3,3,3,2,2,3,5,
	5,7,8,8,6,6,2,5,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,2,2,3,5,
	5,7,8,6,6,6,6,2,6,6,6,6,2,1,1,1,1,5,1,1,1,1,1,1,1,1,1,3,3,3,3,5,
	5,7,8,6,6,6,6,6,6,6,6,6,6,2,1,1,1,5,1,1,1,1,1,1,1,1,1,3,5,3,5,5,
	5,7,8,6,8,6,6,8,8,8,8,8,6,2,5,5,5,5,5,6,6,5,5,5,5,5,1,3,5,3,5,5,
	8,8,8,6,8,6,6,8,8,8,8,8,6,6,8,8,8,8,8,6,6,8,8,8,5,5,3,3,5,3,5,5,
	8,6,6,6,8,6,6,8,8,8,6,6,6,6,8,6,6,6,6,6,6,8,6,5,5,3,3,3,5,5,5,5,
	8,6,7,7,8,6,6,6,6,8,8,8,6,6,8,8,6,8,8,6,6,8,6,5,5,5,5,5,5,5,5,5,
	8,6,6,6,8,8,8,6,6,6,6,6,6,6,6,6,6,8,8,8,8,8,6,6,6,3,3,3,3,3,3,3,
	8,8,8,6,6,6,8,8,8,6,6,8,8,8,8,8,8,8,6,8,8,6,6,6,6,3,3,3,3,3,3,3,
	7,8,7,6,6,6,7,6,6,6,6,8,6,6,6,6,6,8,6,8,8,6,6,6,6,3,3,3,3,3,3,3,
	7,8,7,6,7,6,6,6,8,8,6,6,6,8,6,6,6,6,6,6,8,6,6,6,6,3,3,3,3,3,3,3,
	7,8,7,6,7,7,7,7,7,8,8,6,8,8,8,8,8,6,6,6,8,6,6,6,6,3,3,3,3,3,3,3,
	7,8,8,6,8,8,8,8,8,8,8,8,8,6,7,7,8,8,6,8,8,6,6,6,6,3,3,3,3,3,3,3,
})

spawn("beach_ocean",16,18,2,0,"beach_ocean_3")
beach_ocean_3.bottom:disable()
spawn("forest_day_sky",0,0,1,0,"forest_day_sky_4")
spawn("forest_heightmap",1,0,2,0,"forest_heightmap_4")
spawn("beach_rock_1x1",10,17,1,0,"beach_rock_1x1_7")
spawn("beach_rock_2x1",13,17,1,0,"beach_rock_2x1_4")
spawn("beach_rock_2x1",18,7,2,0,"beach_rock_2x1_5")
spawn("invisible_rocky_wall",14,17,3,0,"invisible_rocky_wall_39")
spawn("forest_stairs_down",29,21,2,0,"forest_stairs_down_2")
spawn("background_hill_01",31,31,2,0,"background_hill_01_2")
spawn("forest_exit_rock_tunnel",18,31,2,0,"forest_exit_rock_tunnel_5")
spawn("forest_stairs_down",2,17,3,0,"forest_stairs_down_5")
forest_stairs_down_5.stairs:setTeleportTarget(5,2,17,-1)
spawn("forest_stairs_down",18,28,0,0,"forest_stairs_down_6")
spawn("beach_rock_3x2",22,29,0,0,"beach_rock_3x2_5")
spawn("beach_rock_outside_wall_low",1,30,0,0,"beach_rock_outside_wall_low_3")
spawn("forest_oak_cluster",17,30,0,0,"forest_oak_cluster_19")
spawn("forest_oak_cluster",19,30,2,0,"forest_oak_cluster_20")
spawn("forest_oak_cluster",13,31,2,0,"forest_oak_cluster_21")
spawn("forest_oak_cluster",26,23,1,0,"forest_oak_cluster_22")
spawn("forest_oak_cluster",11,30,2,0,"forest_oak_cluster_23")
spawn("forest_oak_cluster",21,31,0,0,"forest_oak_cluster_24")
spawn("forest_oak_cluster",22,31,3,0,"forest_oak_cluster_25")
spawn("forest_oak_cluster",24,31,0,0,"forest_oak_cluster_27")
spawn("forest_oak_cluster",15,24,0,0,"forest_oak_cluster_26")
spawn("crow",3,22,1,0,"crow_1")
spawn("crow",4,28,0,0,"crow_2")
spawn("crow",1,15,3,0,"crow_3")
spawn("forest_wall_01",16,31,1,0,"forest_wall_01_1")
spawn("forest_wall_01",19,31,1,0,"forest_wall_01_2")
spawn("forest_wall_text_long",19,29,1,0,"forest_wall_text_long_2")
forest_wall_text_long_2.walltext:setWallText("N: Cliff\
W: Bunkers\
S: Blue Lagoon")
spawn("dungeon_pillar",6,22,0,0,"dungeon_pillar_121")
spawn("dungeon_pillar_high",5,23,1,0,"dungeon_pillar_high_29")
spawn("dungeon_pillar_high",5,22,3,0,"dungeon_pillar_high_30")
spawn("dungeon_pillar_high",5,24,1,0,"dungeon_pillar_high_31")
spawn("dungeon_pillar_high",7,22,0,0,"dungeon_pillar_high_32")
spawn("dungeon_pillar_high",7,23,2,0,"dungeon_pillar_high_33")
spawn("dungeon_wall_01",5,24,0,0,"dungeon_wall_01_52")
spawn("dungeon_wall_01",6,24,0,0,"dungeon_wall_01_53")
spawn("dungeon_wall_01",4,22,1,0,"dungeon_wall_01_58")
spawn("dungeon_wall_01",4,23,1,0,"dungeon_wall_01_59")
spawn("dungeon_wall_01",7,22,3,0,"dungeon_wall_01_61")
spawn("dungeon_wall_01",5,21,2,0,"dungeon_wall_01_63")
spawn("dungeon_wall_01",7,23,3,0,"dungeon_wall_01_54")
spawn("dungeon_floor_01",6,23,2,1,"dungeon_floor_01_3")
spawn("dungeon_floor_01",5,23,2,1,"dungeon_floor_01_4")
spawn("dungeon_floor_01",5,22,2,1,"dungeon_floor_01_5")
spawn("dungeon_floor_01",6,22,2,1,"dungeon_floor_01_6")
spawn("invisible_wall",5,23,1,0,"invisible_wall_50")
spawn("invisible_wall",6,23,2,0,"invisible_wall_51")
spawn("invisible_wall",6,22,2,0,"invisible_wall_52")
spawn("invisible_wall",5,22,1,0,"invisible_wall_53")
spawn("ladder",6,24,0,0,"ladder_13")
spawn("invisible_platform",5,23,2,1,"invisible_platform_6")
spawn("invisible_platform",6,23,2,1,"invisible_platform_7")
spawn("invisible_platform",6,22,2,1,"invisible_platform_8")
spawn("invisible_platform",5,22,2,1,"invisible_platform_9")
spawn("dungeon_wall_01",4,22,1,1,"dungeon_wall_01_55")
spawn("dungeon_wall_01",4,23,1,1,"dungeon_wall_01_56")
spawn("dungeon_wall_01",7,23,3,1,"dungeon_wall_01_57")
spawn("dungeon_wall_01",7,22,3,1,"dungeon_wall_01_60")
spawn("dungeon_wall_01",6,22,1,1,"dungeon_wall_01_64")
spawn("dungeon_wall_01",6,23,1,1,"dungeon_wall_01_65")
spawn("dungeon_wall_01",5,23,3,1,"dungeon_wall_01_66")
spawn("dungeon_wall_01",5,22,3,1,"dungeon_wall_01_67")
spawn("dungeon_pillar_high",7,24,2,0,"dungeon_pillar_high_34")
spawn("dungeon_wall_01",5,24,0,1,"dungeon_wall_01_68")
spawn("dungeon_wall_01",5,23,2,1,"dungeon_wall_01_69")
spawn("mine_support_wall_01",5,24,0,1,"mine_support_wall_01_102")
mine_support_wall_01_102.model:disable()
spawn("dungeon_pillar_high",6,24,2,0,"dungeon_pillar_high_35")
spawn("mine_support_wall_01",6,24,0,0,"mine_support_wall_01_103")
mine_support_wall_01_103.model:disable()
spawn("mine_support_wall_01",5,22,0,0,"mine_support_wall_01_105")
mine_support_wall_01_105.model:disable()
spawn("mine_support_wall_01",5,22,0,1,"mine_support_wall_01_106")
mine_support_wall_01_106.model:disable()
spawn("mine_support_wall_01",6,22,0,1,"mine_support_wall_01_107")
mine_support_wall_01_107.model:disable()
spawn("dungeon_wall_open",5,22,3,0,"dungeon_wall_open_4")
spawn("dungeon_wall_open",5,21,2,1,"dungeon_wall_open_5")
spawn("dungeon_wall_open",6,21,2,1,"dungeon_wall_open_6")
spawn("dungeon_pillar",5,26,2,0,"dungeon_pillar_118")
spawn("dungeon_pillar",6,26,3,0,"dungeon_pillar_122")
spawn("mine_support_pillar_01",5,25,0,0,"mine_support_pillar_01_87")
spawn("mine_support_pillar_01",6,25,2,0,"mine_support_pillar_01_88")
spawn("forest_bridge",5,25,0,1,"forest_bridge_84")
spawn("forest_bridge",5,24,0,1,"forest_bridge_85")
spawn("chest",5,24,1,0,"chest_4")
spawn("gunpowder",5,24,1,0,"gunpowder_1")
chest_4.surface:addItem(gunpowder_1.item)
spawn("gunpowder",5,24,1,0,"gunpowder_2")
chest_4.surface:addItem(gunpowder_2.item)
spawn("gunpowder",5,24,1,0,"gunpowder_3")
chest_4.surface:addItem(gunpowder_3.item)
spawn("gunpowder",5,24,1,0,"gunpowder_4")
chest_4.surface:addItem(gunpowder_4.item)
spawn("gunpowder",5,24,1,0,"gunpowder_17")
chest_4.surface:addItem(gunpowder_17.item)
spawn("gunpowder",5,24,1,0,"gunpowder_18")
chest_4.surface:addItem(gunpowder_18.item)
spawn("gunpowder",5,24,1,0,"gunpowder_19")
chest_4.surface:addItem(gunpowder_19.item)
spawn("gunpowder",5,24,1,0,"gunpowder_20")
chest_4.surface:addItem(gunpowder_20.item)
spawn("forest_bridge",5,23,0,2,"forest_bridge_86")
spawn("forest_bridge",6,23,0,2,"forest_bridge_87")
spawn("forest_bridge",6,22,0,2,"forest_bridge_88")
spawn("forest_bridge",5,22,0,2,"forest_bridge_89")
spawn("mine_support_beam_01",6,23,3,1,"mine_support_beam_01_39")
spawn("mine_support_beam_01",6,22,3,1,"mine_support_beam_01_40")
spawn("mine_support_pillar_01",6,23,2,1,"mine_support_pillar_01_89")
spawn("pedestal",6,22,3,1,"cliff_cannon_pedestal")
spawn("hand_cannon",6,22,3,1,"hand_cannon_2")
hand_cannon_2.item:disable()
cliff_cannon_pedestal.surface:addItem(hand_cannon_2.item)
cliff_cannon_pedestal.surface:addConnector("onInsertItem", "cliff_cannon_script", "insertItem")
cliff_cannon_pedestal.surface:addConnector("onRemoveItem", "cliff_cannon_script", "removeItem")
spawn("mine_lever",6,22,0,1,"cliff_cannon_lever")
cliff_cannon_lever.lever:setDisableSelf(false)
cliff_cannon_lever.lever:addConnector("onActivate", "cliff_cannon_script", "shoot")
spawn("script_entity",5,21,3,0,"cliff_cannon_script")
cliff_cannon_script.script:setSource("cliff_cannon = {}\
cliff_cannon.name = \"cliff_cannon\"\
cliff_cannon.unloadDirection = 2\
\
function insertItem(alcove, item)\
\9cannon.script.insertItem(cliff_cannon, alcove, item)\
end\
\
function removeItem(alcove, item)\
\9cannon.script.removeItem(cliff_cannon, alcove, item)\
end\
\
function shoot()\
\9cannon.script.shoot(cliff_cannon, true)\
end\
\
-- Dorgul\
\
function talk()\
\9helper.script.talkRandom( \"Dorgul\", {\
\9\9\"Me Dorgul. Who you?\",\
\9\9\"You liking my cannon?\",\
\9\9\"Crow took the key. I see her. Crow hides on a tree.\",\
\9\9\"My mother was a saint.\",\
\9\9\"Monster under lighthouse is no monster.\",\
\9\9\"Crow is the thief. Crow has the key.\",\
\9\9\"I see crow on the tree. She took the key.\",\
\9\9\"Crabs afraid of fire. Me afraid of crabs.\"\
\9})\
end\
\
function talk2()\
\9local ch = helper.script.getFirstChampion()\
\9local n = ch:getName()\
\9\
\9local msg1 = string.gsub(\"nnn smashed jars.\", \"nnn\", n)\
\9local msg2 = string.gsub(\"nnn like to break things. Dorgul too.\", \"nnn\", n)\
\9local msg3 = \"You don't smash nothing.\"\
\9local msgs = {msg1, msg2, msg3}\
\9\
\9helper.script.talkRandom(\"Dorgul\", msgs)\
end\
\
function turnNorth()\
\9helper.script.turnNorth(dorgul)\
end\
\
function turnSouth()\
\9helper.script.turnSouth(dorgul)\
end\
\
function turnWest()\
\9helper.script.turnWest(dorgul)\
end\
\
function turnEast()\
\9helper.script.turnEast(dorgul)\
end")
spawn("spawner",6,21,0,1,"cliff_cannon_spawner")
cliff_cannon_spawner.spawner:setSpawnedEntity("fireball_large")
cliff_cannon_spawner.spawner:setMonsterLevel(1)
cliff_cannon_spawner.spawner:setCooldown(0)
cliff_cannon_spawner.spawner:setDisableSelf(false)
spawn("sound",6,22,3,1,"cliff_cannon_sound")
cliff_cannon_sound.sound:setSound("gun_shot_cannon")
cliff_cannon_sound.sound:disable()
spawn("navy_cannon_ball",5,25,0,0,"navy_cannon_ball_1")
spawn("navy_cannon_ball",5,25,1,0,"navy_cannon_ball_2")
spawn("navy_cannon_ball",5,25,2,0,"navy_cannon_ball_3")
spawn("navy_cannon_ball",5,25,3,0,"navy_cannon_ball_4")
spawn("navy_cannon_ball",5,25,3,0,"navy_cannon_ball_5")
spawn("navy_cannon_ball",5,25,0,0,"navy_cannon_ball_6")
spawn("navy_cannon_ball",5,25,1,0,"navy_cannon_ball_7")
spawn("navy_cannon_ball",5,25,2,0,"navy_cannon_ball_8")
spawn("navy_cannon_ball",5,25,0,0,"navy_cannon_ball_9")
spawn("navy_cannon_ball",5,25,1,0,"navy_cannon_ball_10")
spawn("dungeon_pillar",13,22,0,0,"dungeon_pillar_123")
spawn("dungeon_pillar_high",12,23,1,0,"dungeon_pillar_high_36")
spawn("dungeon_pillar_high",12,22,3,0,"dungeon_pillar_high_37")
spawn("dungeon_pillar_high",12,24,1,0,"dungeon_pillar_high_38")
spawn("dungeon_pillar_high",14,22,0,0,"dungeon_pillar_high_39")
spawn("dungeon_pillar_high",14,23,2,0,"dungeon_pillar_high_40")
spawn("dungeon_wall_01",12,24,0,0,"dungeon_wall_01_70")
spawn("dungeon_wall_01",13,24,0,0,"dungeon_wall_01_71")
spawn("dungeon_wall_01",11,22,1,0,"dungeon_wall_01_72")
spawn("dungeon_wall_01",11,23,1,0,"dungeon_wall_01_73")
spawn("dungeon_wall_01",14,22,3,0,"dungeon_wall_01_74")
spawn("dungeon_wall_01",14,23,3,0,"dungeon_wall_01_77")
spawn("dungeon_floor_01",13,23,2,1,"dungeon_floor_01_7")
spawn("dungeon_floor_01",12,23,2,1,"dungeon_floor_01_8")
spawn("dungeon_floor_01",12,22,2,1,"dungeon_floor_01_9")
spawn("dungeon_floor_01",13,22,2,1,"dungeon_floor_01_10")
spawn("invisible_wall",12,23,1,0,"invisible_wall_54")
spawn("invisible_wall",13,23,2,0,"invisible_wall_55")
spawn("invisible_wall",13,22,2,0,"invisible_wall_56")
spawn("invisible_wall",12,22,1,0,"invisible_wall_57")
spawn("ladder",13,24,0,0,"ladder_14")
spawn("invisible_platform",12,23,2,1,"invisible_platform_10")
spawn("invisible_platform",13,23,2,1,"invisible_platform_11")
spawn("invisible_platform",13,22,2,1,"invisible_platform_12")
spawn("invisible_platform",12,22,2,1,"invisible_platform_13")
spawn("dungeon_wall_01",11,22,1,1,"dungeon_wall_01_78")
spawn("dungeon_wall_01",11,23,1,1,"dungeon_wall_01_79")
spawn("dungeon_wall_01",14,23,3,1,"dungeon_wall_01_80")
spawn("dungeon_wall_01",13,23,1,1,"dungeon_wall_01_83")
spawn("dungeon_wall_01",12,23,3,1,"dungeon_wall_01_84")
spawn("dungeon_wall_01",12,22,3,1,"dungeon_wall_01_85")
spawn("dungeon_pillar_high",14,24,2,0,"dungeon_pillar_high_41")
spawn("dungeon_wall_01",12,24,0,1,"dungeon_wall_01_86")
spawn("dungeon_wall_01",12,23,2,1,"dungeon_wall_01_87")
spawn("mine_support_wall_01",12,24,0,1,"mine_support_wall_01_108")
mine_support_wall_01_108.model:disable()
spawn("dungeon_pillar_high",13,24,2,0,"dungeon_pillar_high_42")
spawn("mine_support_wall_01",13,24,0,0,"mine_support_wall_01_109")
mine_support_wall_01_109.model:disable()
spawn("mine_support_wall_01",13,22,0,0,"mine_support_wall_01_110")
mine_support_wall_01_110.model:disable()
spawn("mine_support_wall_01",12,22,0,0,"mine_support_wall_01_111")
mine_support_wall_01_111.model:disable()
spawn("mine_support_wall_01",12,22,0,1,"mine_support_wall_01_112")
mine_support_wall_01_112.model:disable()
spawn("dungeon_wall_open",12,22,3,0,"dungeon_wall_open_7")
spawn("dungeon_wall_open",12,21,2,1,"dungeon_wall_open_8")
spawn("dungeon_pillar",10,25,2,0,"dungeon_pillar_124")
spawn("dungeon_pillar",10,24,3,0,"dungeon_pillar_125")
spawn("mine_support_pillar_01",11,25,0,0,"mine_support_pillar_01_90")
spawn("mine_support_pillar_01",11,24,2,0,"mine_support_pillar_01_91")
spawn("forest_bridge",11,24,1,1,"forest_bridge_90")
spawn("forest_bridge",10,24,1,1,"forest_bridge_91")
spawn("chest",10,24,1,0,"chest_6")
spawn("gunpowder",10,24,1,0,"gunpowder_5")
chest_6.surface:addItem(gunpowder_5.item)
spawn("gunpowder",10,24,1,0,"gunpowder_6")
chest_6.surface:addItem(gunpowder_6.item)
spawn("gunpowder",10,24,1,0,"gunpowder_7")
chest_6.surface:addItem(gunpowder_7.item)
spawn("gunpowder",10,24,1,0,"gunpowder_8")
chest_6.surface:addItem(gunpowder_8.item)
spawn("gunpowder",10,24,1,0,"gunpowder_13")
chest_6.surface:addItem(gunpowder_13.item)
spawn("gunpowder",10,24,1,0,"gunpowder_14")
chest_6.surface:addItem(gunpowder_14.item)
spawn("gunpowder",10,24,1,0,"gunpowder_15")
chest_6.surface:addItem(gunpowder_15.item)
spawn("gunpowder",10,24,1,0,"gunpowder_16")
chest_6.surface:addItem(gunpowder_16.item)
spawn("mine_support_pillar_01",13,23,2,1,"mine_support_pillar_01_92")
spawn("spawner",13,21,0,1,"spawner_9")
spawner_9.spawner:setSpawnedEntity("fireball_large")
spawner_9.spawner:setMonsterLevel(1)
spawner_9.spawner:setCooldown(0)
spawner_9.spawner:setDisableSelf(false)
spawn("navy_cannon_ball",11,24,0,0,"navy_cannon_ball_11")
spawn("navy_cannon_ball",11,24,3,0,"navy_cannon_ball_12")
spawn("navy_cannon_ball",11,24,2,0,"navy_cannon_ball_13")
spawn("navy_cannon_ball",11,24,2,0,"navy_cannon_ball_14")
spawn("navy_cannon_ball",11,24,3,0,"navy_cannon_ball_15")
spawn("navy_cannon_ball",11,24,1,0,"navy_cannon_ball_16")
spawn("navy_cannon_ball",11,24,0,0,"navy_cannon_ball_17")
spawn("navy_cannon_ball",11,24,2,0,"navy_cannon_ball_18")
spawn("navy_cannon_ball",11,24,0,0,"navy_cannon_ball_19")
spawn("navy_cannon_ball",11,24,1,0,"navy_cannon_ball_20")
spawn("navy_cannon_ball",19,25,1,0,"navy_cannon_ball_21")
spawn("dungeon_wall_open",19,21,2,1,"dungeon_wall_open_10")
spawn("navy_cannon_ball",19,25,3,0,"navy_cannon_ball_22")
spawn("dungeon_pillar",19,26,2,0,"dungeon_pillar_126")
spawn("navy_cannon_ball",19,25,1,0,"navy_cannon_ball_23")
spawn("invisible_platform",19,23,2,1,"invisible_platform_14")
spawn("dungeon_wall_open",19,22,3,0,"dungeon_wall_open_11")
spawn("dungeon_wall_01",21,22,3,0,"dungeon_wall_01_88")
spawn("forest_bridge",19,23,3,2,"forest_bridge_96")
spawn("invisible_platform",20,22,2,1,"invisible_platform_15")
spawn("dungeon_wall_01",19,22,3,1,"dungeon_wall_01_89")
spawn("dungeon_floor_01",20,23,2,1,"dungeon_floor_01_11")
spawn("ladder",20,24,0,0,"ladder_15")
spawn("dungeon_wall_01",18,22,1,1,"dungeon_wall_01_90")
spawn("forest_bridge",19,25,3,1,"forest_bridge_97")
spawn("dungeon_wall_01",19,23,3,1,"dungeon_wall_01_91")
spawn("forest_bridge",20,23,3,2,"forest_bridge_98")
spawn("dungeon_wall_01",21,23,3,0,"dungeon_wall_01_92")
spawn("navy_cannon_ball",19,25,1,0,"navy_cannon_ball_24")
spawn("pedestal",20,22,3,1,"cliff_cannon_3_pedestal")
spawn("hand_cannon",20,22,3,1,"hand_cannon_4")
hand_cannon_4.item:disable()
cliff_cannon_3_pedestal.surface:addItem(hand_cannon_4.item)
cliff_cannon_3_pedestal.surface:addConnector("onInsertItem", "script_entity_8", "insertItem")
cliff_cannon_3_pedestal.surface:addConnector("onRemoveItem", "script_entity_8", "removeItem")
spawn("dungeon_pillar_high",19,22,3,0,"dungeon_pillar_high_43")
spawn("navy_cannon_ball",19,25,0,0,"navy_cannon_ball_25")
spawn("dungeon_wall_01",19,23,2,1,"dungeon_wall_01_93")
spawn("dungeon_pillar_high",19,24,1,0,"dungeon_pillar_high_44")
spawn("dungeon_pillar",19,25,3,0,"dungeon_pillar_127")
spawn("mine_support_wall_01",20,24,0,0,"mine_support_wall_01_114")
mine_support_wall_01_114.model:disable()
spawn("dungeon_wall_01",19,24,0,1,"dungeon_wall_01_94")
spawn("forest_bridge",20,25,3,1,"forest_bridge_99")
spawn("mine_lever",20,22,0,1,"cliff_cannon_3_lever")
cliff_cannon_3_lever.lever:setDisableSelf(false)
cliff_cannon_3_lever.lever:addConnector("onActivate", "script_entity_8", "shoot")
spawn("navy_cannon_ball",19,25,0,0,"navy_cannon_ball_26")
spawn("dungeon_wall_01",20,21,2,0,"dungeon_wall_01_95")
spawn("navy_cannon_ball",19,25,3,0,"navy_cannon_ball_27")
spawn("dungeon_pillar_high",21,23,2,0,"dungeon_pillar_high_45")
spawn("sound",20,22,3,1,"cliff_cannon_3_sound")
cliff_cannon_3_sound.sound:setSound("gun_shot_cannon")
cliff_cannon_3_sound.sound:disable()
spawn("dungeon_wall_01",21,23,3,1,"dungeon_wall_01_96")
spawn("mine_support_beam_01",19,22,2,1,"mine_support_beam_01_43")
spawn("spawner",19,21,0,1,"cliff_cannon_3_spawner")
cliff_cannon_3_spawner.spawner:setSpawnedEntity("cannon_shot")
cliff_cannon_3_spawner.spawner:setMonsterLevel(1)
cliff_cannon_3_spawner.spawner:setCooldown(0)
cliff_cannon_3_spawner.spawner:setDisableSelf(false)
spawn("invisible_wall",19,23,1,0,"invisible_wall_58")
spawn("dungeon_wall_open",20,21,2,1,"dungeon_wall_open_12")
spawn("dungeon_wall_01",18,23,1,1,"dungeon_wall_01_97")
spawn("navy_cannon_ball",19,25,0,0,"navy_cannon_ball_28")
spawn("navy_cannon_ball",19,25,2,0,"navy_cannon_ball_29")
spawn("mine_support_pillar_01",20,23,2,1,"mine_support_pillar_01_93")
spawn("dungeon_wall_01",20,24,0,0,"dungeon_wall_01_98")
spawn("invisible_wall",20,22,2,0,"invisible_wall_59")
spawn("dungeon_floor_01",20,22,2,1,"dungeon_floor_01_12")
spawn("dungeon_floor_01",19,23,2,1,"dungeon_floor_01_13")
spawn("mine_support_beam_01",20,22,2,1,"mine_support_beam_01_44")
spawn("invisible_platform",20,23,2,1,"invisible_platform_16")
spawn("dungeon_pillar_high",21,22,0,0,"dungeon_pillar_high_46")
spawn("invisible_wall",20,23,2,0,"invisible_wall_60")
spawn("dungeon_wall_01",20,22,1,1,"dungeon_wall_01_99")
spawn("dungeon_wall_01",21,22,3,1,"dungeon_wall_01_100")
spawn("dungeon_pillar",20,22,0,0,"dungeon_pillar_128")
spawn("dungeon_wall_01",18,22,1,0,"dungeon_wall_01_101")
spawn("mine_support_wall_01",19,22,0,1,"mine_support_wall_01_115")
mine_support_wall_01_115.model:disable()
spawn("dungeon_wall_01",18,23,1,0,"dungeon_wall_01_102")
spawn("mine_support_wall_01",19,22,0,0,"mine_support_wall_01_116")
mine_support_wall_01_116.model:disable()
spawn("script_entity",21,22,3,0,"script_entity_8")
script_entity_8.script:setSource("cliff_cannon = {}\
cliff_cannon.name = \"cliff_cannon_3\"\
cliff_cannon.unloadDirection = 2\
\
function insertItem(alcove, item)\
\9cannon.script.insertItem(cliff_cannon, alcove, item)\
end\
\
function removeItem(alcove, item)\
\9cannon.script.removeItem(cliff_cannon, alcove, item)\
end\
\
function shoot()\
\9cannon.script.shoot(cliff_cannon, true)\
end")
spawn("mine_support_pillar_01",20,26,2,0,"mine_support_pillar_01_94")
spawn("dungeon_pillar_high",21,24,2,0,"dungeon_pillar_high_47")
spawn("invisible_wall",19,22,1,0,"invisible_wall_61")
spawn("dungeon_wall_01",19,21,2,0,"dungeon_wall_01_103")
spawn("mine_support_wall_01",19,24,0,1,"mine_support_wall_01_117")
mine_support_wall_01_117.model:disable()
spawn("dungeon_wall_01",20,23,1,1,"dungeon_wall_01_104")
spawn("chest",20,25,0,0,"chest_7")
spawn("gunpowder",20,25,0,0,"gunpowder_9")
chest_7.surface:addItem(gunpowder_9.item)
spawn("gunpowder",20,25,0,0,"gunpowder_10")
chest_7.surface:addItem(gunpowder_10.item)
spawn("gunpowder",20,25,0,0,"gunpowder_11")
chest_7.surface:addItem(gunpowder_11.item)
spawn("gunpowder",20,25,0,0,"gunpowder_12")
chest_7.surface:addItem(gunpowder_12.item)
spawn("dungeon_floor_01",19,22,2,1,"dungeon_floor_01_14")
spawn("navy_cannon_ball",19,25,2,0,"navy_cannon_ball_30")
spawn("mine_support_wall_01",20,22,0,1,"mine_support_wall_01_118")
mine_support_wall_01_118.model:disable()
spawn("mine_support_pillar_01",20,25,0,0,"mine_support_pillar_01_95")
spawn("dungeon_pillar_high",20,24,2,0,"dungeon_pillar_high_48")
spawn("dungeon_wall_01",19,24,0,0,"dungeon_wall_01_105")
spawn("invisible_platform",19,22,2,1,"invisible_platform_17")
spawn("dungeon_pillar_high",19,23,1,0,"dungeon_pillar_high_49")
spawn("forest_bridge",20,22,3,2,"forest_bridge_100")
spawn("mine_support_wall_01",20,22,0,0,"mine_support_wall_01_119")
mine_support_wall_01_119.model:disable()
spawn("forest_bridge",19,22,3,2,"forest_bridge_101")
spawn("dungeon_pillar",12,25,2,0,"dungeon_pillar_129")
spawn("dungeon_pillar",21,26,3,0,"dungeon_pillar_130")
spawn("dungeon_pillar",21,25,3,0,"dungeon_pillar_131")
spawn("forest_oak_cluster",1,14,1,0,"forest_oak_cluster_28")
spawn("forest_oak_cluster",2,14,0,0,"forest_oak_cluster_29")
spawn("forest_oak",3,14,1,0,"forest_oak_2")
spawn("beach_rock_pillar_01",4,10,3,0,"beach_rock_pillar_01_7")
spawn("turtle_nest",1,15,0,0,"turtle_nest_1")
spawn("invisible_wall",3,7,2,0,"invisible_wall_77")
spawn("beach_boulder",2,8,0,0,"beach_boulder_13")
spawn("beach_rock_1x1_low",1,9,2,0,"beach_rock_1x1_low_5")
spawn("beach_rock_border",3,7,2,0,"beach_rock_border_13")
spawn("beach_rock_shore",9,7,3,0,"beach_rock_shore_1")
spawn("coin_copper",1,15,0,0,"coin_copper_3")
spawn("lock_pick",1,15,3,0,"lock_pick_5")
spawn("forest_plant_cluster_01",1,14,3,0,"forest_plant_cluster_01_40")
spawn("forest_plant_cluster_01",2,14,3,0,"forest_plant_cluster_01_41")
spawn("beach_cattail_blocker",11,14,3,0,"beach_cattail_blocker_88")
spawn("beach_cattail_blocker",11,13,2,0,"beach_cattail_blocker_89")
spawn("beach_cattail_blocker",9,12,2,0,"beach_cattail_blocker_91")
spawn("beach_cattail_damaged",10,12,2,0,"beach_cattail_damaged_29")
spawn("beach_cattail_damaged",3,9,0,0,"beach_cattail_damaged_30")
spawn("beach_cattail_damaged",4,8,3,0,"beach_cattail_damaged_31")
spawn("beach_cattail_damaged",5,9,3,0,"beach_cattail_damaged_32")
spawn("beach_cattail_damaged",6,9,0,0,"beach_cattail_damaged_33")
spawn("beach_cattail_damaged",7,8,3,0,"beach_cattail_damaged_34")
spawn("beach_cattail_damaged",8,9,3,0,"beach_cattail_damaged_35")
spawn("beach_cattail_damaged",9,8,1,0,"beach_cattail_damaged_36")
spawn("beach_cattail_damaged",5,7,1,0,"beach_cattail_damaged_37")
spawn("beach_cattail_blocker",4,9,2,0,"beach_cattail_blocker_94")
spawn("beach_cattail_blocker",5,10,2,0,"beach_cattail_blocker_95")
spawn("forest_plant_cluster_01",2,13,3,0,"forest_plant_cluster_01_43")
spawn("forest_grass_01",5,14,2,0,"forest_grass_01_1")
spawn("forest_grass_01",4,14,1,0,"forest_grass_01_2")
spawn("forest_grass_01",5,15,1,0,"forest_grass_01_3")
spawn("forest_grass_01",3,14,1,0,"forest_grass_01_8")
spawn("forest_grass_01",2,14,1,0,"forest_grass_01_10")
spawn("beach_cattail_wall",1,10,1,0,"beach_cattail_wall_18")
spawn("beach_cattail_wall",1,11,1,0,"beach_cattail_wall_21")
spawn("beach_cattail_wall",1,9,1,0,"beach_cattail_wall_24")
spawn("beach_cattail_wall",2,12,3,0,"beach_cattail_wall_26")
spawn("crab_sens_fire",2,9,2,0,"cliff_crab")
cliff_crab.brainScript:setSource("crab_place = \"cliff_crab_trigger\"")
spawn("pirate_machete",2,9,2,0,"pirate_machete_2")
spawn("script_entity",1,8,3,0,"cliff_crab_script")
cliff_crab_script.script:setSource("function goGuard()\9\
\9if cliff_crab then\
\9\9cliff_crab.brainScript.crab_in_place = false\
\9end\
end\
\
function stop(crab)\
\9-- print(crab)\
\9if cliff_crab then\
\9\9cliff_crab.brainScript.crab_in_place = true\
\9\9cliff_crab.brain:startGuarding()\
\9end\
end")
spawn("floor_trigger",2,9,3,0,"cliff_crab_trigger")
cliff_crab_trigger.floortrigger:setTriggeredByParty(false)
cliff_crab_trigger.floortrigger:setTriggeredByMonster(true)
cliff_crab_trigger.floortrigger:setTriggeredByItem(false)
cliff_crab_trigger.floortrigger:setTriggeredByDigging(false)
cliff_crab_trigger.floortrigger:setDisableSelf(false)
cliff_crab_trigger.floortrigger:addConnector("onActivate", "cliff_crab_script", "stop")
cliff_crab_trigger.floortrigger:addConnector("onDeactivate", "cliff_crab_script", "goGuard")
spawn("invisible_rocky_wall",4,10,3,0,"invisible_rocky_wall_25")
spawn("forest_old_oak",28,18,1,0,"forest_old_oak_4")
spawn("forest_willow",4,13,1,0,"forest_willow_3")
spawn("forest_plant_cluster_01",4,13,3,0,"forest_plant_cluster_01_44")
spawn("beach_cattail_blocker",10,11,2,0,"beach_cattail_blocker_97")
spawn("beach_cattail_blocker",3,10,2,0,"beach_cattail_blocker_98")
spawn("beach_cattail_blocker",11,10,2,0,"beach_cattail_blocker_99")
spawn("invisible_wall",10,3,2,0,"invisible_wall_78")
spawn("invisible_wall",11,3,2,0,"invisible_wall_79")
spawn("invisible_wall",9,3,2,0,"invisible_wall_80")
spawn("invisible_wall",8,3,2,0,"invisible_wall_81")
spawn("invisible_wall",7,3,2,0,"invisible_wall_82")
spawn("invisible_wall",6,3,2,0,"invisible_wall_83")
spawn("invisible_wall",5,4,2,0,"invisible_wall_84")
spawn("invisible_wall",4,5,2,0,"invisible_wall_85")
spawn("invisible_wall",3,6,2,0,"invisible_wall_86")
spawn("beach_cattail_blocker",8,6,2,0,"beach_cattail_blocker_103")
spawn("beach_cattail_blocker",10,5,3,0,"beach_cattail_blocker_104")
spawn("beach_cattail_blocker",10,7,3,0,"beach_cattail_blocker_105")
spawn("beach_cattail_blocker",9,7,1,0,"beach_cattail_blocker_106")
spawn("beach_cattail_blocker",9,5,3,0,"beach_cattail_blocker_107")
spawn("beach_crab",10,10,0,0,"beach_crab_18")
spawn("beach_crab",7,9,3,0,"beach_crab_19")
spawn("beach_crab",13,6,3,0,"beach_crab_23")
spawn("beach_crab",10,13,1,0,"beach_crab_24")
spawn("beach_rock_2x1",3,18,1,0,"beach_rock_2x1_7")
spawn("forest_blocker_stone",4,19,2,0,"forest_blocker_stone_4")
spawn("beach_rock_blocker_01",25,20,2,0,"beach_rock_blocker_01_6")
beach_rock_blocker_01_6.projectilecollider:disable()
spawn("beach_rock_3x2",0,18,2,0,"beach_rock_3x2_6")
spawn("beach_rock_border",5,19,0,0,"beach_rock_border_14")
spawn("beach_rock_border",8,19,0,0,"beach_rock_border_15")
spawn("forest_oak",4,20,2,0,"forest_oak_4")
spawn("beach_rock_wall_01",0,15,0,0,"beach_rock_wall_01_1")
spawn("forest_grass_01",3,15,3,0,"forest_grass_01_4")
spawn("forest_heather",2,15,3,0,"forest_heather_1")
spawn("forest_heather",2,14,2,0,"forest_heather_2")
spawn("beach_thicket_01",2,15,0,0,"beach_thicket_01_9")
spawn("beach_thicket_01",3,16,0,0,"beach_thicket_01_8")
spawn("branch",3,15,0,0,"branch_4")
spawn("rock",10,6,3,0,"rock_7")
spawn("beach_door_wood",3,22,2,0,"beach_door_wood_1")
spawn("receptor_ruins",23,21,2,0,"receptor_ruins_3")
receptor_ruins_3.walltrigger:setEntityType("signal")
receptor_ruins_3.walltrigger:addConnector("onActivate", "cliff_cannon_script", "shoot")
spawn("receptor_ruins",24,21,2,0,"receptor_ruins_4")
receptor_ruins_4.walltrigger:setEntityType("signal")
receptor_ruins_4.walltrigger:addConnector("onActivate", "script_entity_8", "shoot")
spawn("ratling1",19,22,0,2,"ratling1_3")
ratling1_3.monster:disable()
spawn("forest_ogre",6,22,0,1,"dorgul")
dorgul.monster:disable()
spawn("forest_ogre",20,22,0,1,"forest_ogre_2")
forest_ogre_2.monster:disable()
spawn("dungeon_wall_broken_01",12,21,2,0,"dungeon_wall_broken_01_3")
spawn("dungeon_wall_broken_02",13,21,2,0,"dungeon_wall_broken_02_2")
spawn("mine_support_ceiling_01",13,23,3,1,"mine_support_ceiling_01_15")
spawn("dungeon_wall_broken_02",6,21,2,0,"dungeon_wall_broken_02_3")
spawn("mine_door_spear",19,24,3,0,"mine_door_spear_7")
spawn("pirate_lock",18,24,2,0,"pirate_lock_1")
pirate_lock_1.lock:setOpenedBy("bunker_key")
pirate_lock_1.lock:addConnector("onActivate", "mine_door_spear_7", "open")
spawn("mine_support_wall_01",18,25,0,0,"mine_support_wall_01_71")
spawn("mine_support_pillar_01",18,25,0,0,"mine_support_pillar_01_97")
spawn("pirate_lock",10,26,0,0,"pirate_lock_2")
pirate_lock_2.lock:setOpenedBy("bunker_key")
pirate_lock_2.lock:addConnector("onActivate", "mine_door_spear_8", "open")
spawn("mine_support_wall_01",10,25,2,0,"mine_support_wall_01_104")
spawn("mine_door_spear",11,26,3,0,"mine_door_spear_8")
spawn("dungeon_pillar",11,26,3,0,"dungeon_pillar_134")
spawn("dungeon_pillar",11,27,3,0,"dungeon_pillar_135")
spawn("floor_dirt",12,22,2,1,"floor_dirt_23")
spawn("floor_dirt",12,23,3,1,"floor_dirt_24")
spawn("floor_dirt",13,23,2,1,"floor_dirt_25")
spawn("floor_dirt",13,22,1,1,"floor_dirt_26")
spawn("mine_support_ceiling_01",12,23,3,1,"mine_support_ceiling_01_16")
spawn("mine_support_ceiling_01",12,22,3,1,"mine_support_ceiling_01_17")
spawn("barrel_crate_block_broken",12,22,1,1,"barrel_crate_block_broken_1")
spawn("forest_ruins_fallen_bricks",13,24,3,0,"forest_ruins_fallen_bricks_4")
spawn("barrel_crate_block_broken",13,22,2,1,"barrel_crate_block_broken_2")
spawn("barrel_crate_block_broken",12,24,3,0,"barrel_crate_block_broken_3")
spawn("forest_oak_trunk",13,21,2,2,"forest_oak_trunk_2")
spawn("forest_border_rocks_01",12,22,1,1,"forest_border_rocks_01_5")
spawn("hand_cannon",13,22,3,1,"hand_cannon_3")
hand_cannon_3.item:disable()
hand_cannon_3.firearmattack:disable()
hand_cannon_3.bigShot:disable()
spawn("barrel_crate_block_broken",12,25,3,0,"barrel_crate_block_broken_4")
spawn("barrel_crate_block_broken",13,26,3,0,"barrel_crate_block_broken_5")
spawn("barrel_crate_block_broken",11,26,3,0,"barrel_crate_block_broken_6")
spawn("floor_trigger",6,24,3,0,"floor_trigger_21")
floor_trigger_21.floortrigger:setTriggeredByParty(true)
floor_trigger_21.floortrigger:setTriggeredByMonster(false)
floor_trigger_21.floortrigger:setTriggeredByItem(false)
floor_trigger_21.floortrigger:setTriggeredByDigging(false)
floor_trigger_21.floortrigger:setDisableSelf(false)
floor_trigger_21.floortrigger:addConnector("onActivate", "cliff_cannon_script", "turnSouth")
spawn("floor_trigger",6,25,0,0,"floor_trigger_22")
floor_trigger_22.floortrigger:setTriggeredByParty(true)
floor_trigger_22.floortrigger:setTriggeredByMonster(false)
floor_trigger_22.floortrigger:setTriggeredByItem(false)
floor_trigger_22.floortrigger:setTriggeredByDigging(false)
floor_trigger_22.floortrigger:setDisableSelf(false)
floor_trigger_22.floortrigger:addConnector("onActivate", "cliff_cannon_script", "turnNorth")
spawn("terracotta_jars_block",5,22,2,1,"terracotta_jars_block_8")
spawn("floor_trigger",6,23,3,1,"floor_trigger_23")
floor_trigger_23.floortrigger:setTriggeredByParty(true)
floor_trigger_23.floortrigger:setTriggeredByMonster(false)
floor_trigger_23.floortrigger:setTriggeredByItem(false)
floor_trigger_23.floortrigger:setTriggeredByDigging(false)
floor_trigger_23.floortrigger:setDisableSelf(false)
floor_trigger_23.floortrigger:addConnector("onActivate", "cliff_cannon_script", "turnSouth")
floor_trigger_23.floortrigger:addConnector("onActivate", "cliff_cannon_script", "talk")
spawn("floor_trigger",5,22,3,1,"floor_trigger_24")
floor_trigger_24.floortrigger:setTriggeredByParty(true)
floor_trigger_24.floortrigger:setTriggeredByMonster(false)
floor_trigger_24.floortrigger:setTriggeredByItem(false)
floor_trigger_24.floortrigger:setTriggeredByDigging(false)
floor_trigger_24.floortrigger:setDisableSelf(false)
floor_trigger_24.floortrigger:addConnector("onActivate", "cliff_cannon_script", "turnWest")
floor_trigger_24.floortrigger:addConnector("onActivate", "cliff_cannon_script", "talk2")
spawn("mine_door_spear",8,25,3,0,"mine_door_spear_9")
spawn("dungeon_pillar",8,27,3,0,"dungeon_pillar_136")
spawn("dungeon_pillar",8,26,3,0,"dungeon_pillar_137")
spawn("dungeon_pillar",8,25,3,0,"dungeon_pillar_138")
spawn("pirate_lock",8,25,0,0,"pirate_lock_3")
pirate_lock_3.lock:setOpenedBy("bunker_key")
pirate_lock_3.lock:addConnector("onActivate", "mine_door_spear_9", "open")
spawn("beach_rock_blocker_01",15,28,2,0,"beach_rock_blocker_01_8")
spawn("beach_rock_3x1",9,19,3,-1,"beach_rock_3x1_11")
spawn("invisible_rocky_wall",9,19,3,0,"invisible_rocky_wall_31")
spawn("invisible_rocky_wall",8,19,3,0,"invisible_rocky_wall_32")
spawn("invisible_rocky_wall",7,19,3,0,"invisible_rocky_wall_33")
spawn("forest_blocker_stone",23,17,1,0,"forest_blocker_stone_5")
forest_blocker_stone_5.projectilecollider:disable()
spawn("invisible_wall",12,3,2,0,"invisible_wall_87")
spawn("invisible_wall",13,4,2,0,"invisible_wall_88")
spawn("invisible_wall",14,4,2,0,"invisible_wall_89")
spawn("invisible_wall",15,5,2,0,"invisible_wall_90")
spawn("invisible_wall",15,6,2,0,"invisible_wall_91")
spawn("invisible_wall",15,7,2,0,"invisible_wall_92")
spawn("invisible_wall",15,8,2,0,"invisible_wall_93")
invisible_wall_93.projectilecollider:disable()
spawn("invisible_wall",14,9,2,0,"invisible_wall_94")
spawn("invisible_wall",13,10,2,0,"invisible_wall_95")
spawn("invisible_wall",11,12,2,0,"invisible_wall_96")
spawn("invisible_wall",12,12,2,0,"invisible_wall_97")
spawn("invisible_wall",13,13,2,0,"invisible_wall_98")
spawn("invisible_wall",13,14,2,0,"invisible_wall_99")
invisible_wall_99.projectilecollider:disable()
spawn("invisible_wall",13,15,2,0,"invisible_wall_100")
spawn("invisible_wall",12,16,2,0,"invisible_wall_101")
spawn("beach_rock_2x1",12,17,3,0,"beach_rock_2x1_8")
spawn("invisible_rocky_wall",11,17,3,0,"invisible_rocky_wall_34")
spawn("beach_rock_border",5,14,2,0,"beach_rock_border_16")
spawn("invisible_wall",12,11,2,0,"invisible_wall_102")
spawn("beach_rock_1x1",22,8,0,0,"beach_rock_1x1_6")
spawn("forest_plant_cluster_01",16,8,3,0,"forest_plant_cluster_01_69")
spawn("mine_support_pillar_01",11,16,2,0,"mine_support_pillar_01_101")
spawn("mine_support_pillar_01",10,16,2,0,"mine_support_pillar_01_102")
spawn("mine_support_beam_01",10,16,0,0,"mine_support_beam_01_41")
spawn("beach_rock_blocker_02",12,6,2,0,"beach_rock_blocker_02_2")
spawn("forest_blocker_stone",11,9,2,0,"forest_blocker_stone_6")
spawn("chest",6,18,0,0,"chest_8")
chest_8.lock:enable()
spawn("food_sausage",6,18,0,0,"food_sausage_3")
chest_8.surface:addItem(food_sausage_3.item)
spawn("pirate_pants",6,18,0,0,"pirate_pants_2")
chest_8.surface:addItem(pirate_pants_2.item)
spawn("pirate_crystal",6,18,0,0,"pirate_crystal_5")
chest_8.surface:addItem(pirate_crystal_5.item)
spawn("gunpowder",6,18,0,0,"gunpowder_22")
chest_8.surface:addItem(gunpowder_22.item)
chest_8.chest:setLocked(true)
spawn("forest_ruins_dome",24,7,1,0,"forest_ruins_dome_3")
spawn("beach_rock_2x1",24,4,3,0,"beach_rock_2x1_9")
spawn("invisible_wall",23,4,2,0,"invisible_wall_103")
spawn("beach_rock_blocker_01",3,20,0,0,"beach_rock_blocker_01_10")
spawn("beach_rock_1x1",7,18,2,0,"beach_rock_1x1_18")
spawn("forest_plant_cluster_01",12,21,3,0,"forest_plant_cluster_01_70")
spawn("beach_thicket_01",13,21,2,0,"beach_thicket_01_11")
spawn("forest_ruins_fallen_bricks",14,21,3,0,"forest_ruins_fallen_bricks_5")
spawn("forest_ruins_fallen_bricks",13,20,2,0,"forest_ruins_fallen_bricks_6")
spawn("beach_rock_border",13,20,2,0,"beach_rock_border_17")
spawn("beach_rock_border",12,20,2,0,"beach_rock_border_18")
spawn("navy_cannon_ball",13,21,2,0,"navy_cannon_ball_31")
spawn("navy_cannon_ball",13,21,2,0,"navy_cannon_ball_32")
spawn("navy_cannon_ball",13,21,2,0,"navy_cannon_ball_33")
spawn("navy_cannon_ball",13,21,2,0,"navy_cannon_ball_34")
spawn("beach_rock_1x1",9,17,0,0,"beach_rock_1x1_19")
spawn("beach_rock_1x1_low",24,17,1,0,"beach_rock_1x1_low_6")
beach_rock_1x1_low_6.projectilecollider:disable()
spawn("beach_rock_2x1",30,14,0,0,"beach_rock_2x1_10")
beach_rock_2x1_10.projectilecollider:disable()
spawn("beach_rock_1x1",22,5,1,0,"beach_rock_1x1_20")
spawn("beach_rock_1x1",15,19,2,0,"beach_rock_1x1_21")
spawn("beach_rock_blocker_02",7,20,2,0,"beach_rock_blocker_02_3")
spawn("beach_rock_blocker_02",11,19,2,0,"beach_rock_blocker_02_4")
spawn("forest_ruins_fallen_bricks",11,21,3,0,"forest_ruins_fallen_bricks_7")
spawn("forest_ruins_wall_01",15,20,3,0,"forest_ruins_wall_01_9")
spawn("forest_ruins_wall_01",15,20,0,0,"forest_ruins_wall_01_20")
spawn("forest_ruins_wall_01",16,20,3,0,"forest_ruins_wall_01_22")
spawn("forest_ruins_wall_01",15,21,0,0,"forest_ruins_wall_01_23")
spawn("forest_ruins_pillar_01",15,20,3,0,"forest_ruins_pillar_01_30")
spawn("forest_ruins_pillar_01",16,20,3,0,"forest_ruins_pillar_01_31")
spawn("forest_ruins_pillar_01",16,21,1,0,"forest_ruins_pillar_01_32")
spawn("forest_ruins_pillar_01",15,21,0,0,"forest_ruins_pillar_01_33")
spawn("daemon_head_ruins",14,20,1,0,"daemon_head_ruins_2")
spawn("forest_ruins_wall_01",24,22,0,0,"forest_ruins_wall_01_26")
spawn("forest_ruins_pillar_01",23,22,1,0,"forest_ruins_pillar_01_34")
spawn("forest_ruins_pillar_01",24,22,1,0,"forest_ruins_pillar_01_35")
spawn("forest_ruins_pillar_01",25,22,1,0,"forest_ruins_pillar_01_36")
spawn("forest_ruins_wall_02",23,22,0,0,"forest_ruins_wall_02_10")
spawn("beach_rock_spire_pillar",22,6,0,-1,"beach_rock_spire_pillar_4")
spawn("pedestal",24,6,0,0,"pedestal_3")
spawn("spying_glass",24,6,0,0,"spying_glass_2")
pedestal_3.surface:addItem(spying_glass_2.item)
spawn("beach_rock_2x1",25,10,0,0,"beach_rock_2x1_11")
spawn("invisible_rocky_wall",25,9,0,0,"invisible_rocky_wall_53")
spawn("beach_rock_blocker_02",23,8,2,0,"beach_rock_blocker_02_1")
beach_rock_blocker_02_1.projectilecollider:disable()
spawn("beach_rock_blocker_02",25,6,3,0,"beach_rock_blocker_02_5")
beach_rock_blocker_02_5.projectilecollider:disable()
spawn("beach_rock_blocker_02",24,11,3,0,"beach_rock_blocker_02_6")
beach_rock_blocker_02_6.projectilecollider:disable()
spawn("dungeon_pillar",5,16,3,0,"dungeon_pillar_132")
spawn("dungeon_pillar",7,16,3,0,"dungeon_pillar_139")
spawn("dungeon_pillar",7,18,3,0,"dungeon_pillar_144")
spawn("dungeon_pillar",5,18,3,0,"dungeon_pillar_145")
spawn("mine_door_spear",5,18,0,0,"cliff_door_inside")
cliff_door_inside.door:setDoorState("open")
spawn("mine_door_spear",6,16,0,0,"cliff_door_beach")
spawn("dungeon_pillar",9,17,3,0,"dungeon_pillar_133")
spawn("mine_support_wall_01",6,16,1,0,"mine_support_wall_01_125")
mine_support_wall_01_125.model:disable()
spawn("dungeon_wall_01",5,22,0,0,"dungeon_wall_01_62")
spawn("dungeon_wall_01",7,16,3,0,"dungeon_wall_01_75")
spawn("dungeon_wall_01",6,16,1,0,"dungeon_wall_01_76")
spawn("dungeon_pillar",7,17,3,0,"dungeon_pillar_141")
spawn("dungeon_wall_open",5,15,2,0,"dungeon_wall_open_9")
spawn("dungeon_pillar",6,16,3,0,"dungeon_pillar_142")
spawn("dungeon_pillar",6,18,3,0,"dungeon_pillar_143")
spawn("forest_plant_cluster_01",4,13,3,0,"forest_plant_cluster_01_71")
spawn("forest_altar",5,16,3,0,"forest_altar_4")
spawn("hand_cannon",5,16,3,0,"hand_cannon_6")
hand_cannon_6.item:disable()
forest_altar_4.surface:addItem(hand_cannon_6.item)
spawn("dungeon_pillar",8,17,3,0,"dungeon_pillar_146")
spawn("mine_support_wall_01",7,16,2,0,"mine_support_wall_01_126")
mine_support_wall_01_126.model:disable()
spawn("dungeon_wall_01",7,16,2,0,"dungeon_wall_01_82")
spawn("mine_support_wall_01",8,16,2,0,"mine_support_wall_01_127")
mine_support_wall_01_127.model:disable()
spawn("dungeon_wall_01",8,17,0,0,"dungeon_wall_01_106")
spawn("dungeon_wall_01",8,16,2,0,"dungeon_wall_01_107")
spawn("mine_support_pillar_01",6,19,2,0,"mine_support_pillar_01_115")
spawn("mine_support_pillar_01",7,19,2,0,"mine_support_pillar_01_116")
spawn("mine_support_wall_01",5,18,1,0,"mine_support_wall_01_128")
spawn("mine_support_wall_01",6,18,2,0,"mine_support_wall_01_129")
spawn("forest_ruins_wall_01",10,21,0,0,"forest_ruins_wall_01_24")
forest_ruins_wall_01_24.door:disable()
spawn("forest_ruins_pillar_01",11,22,3,0,"forest_ruins_pillar_01_38")
spawn("beach_grass_pressure_plate",12,20,3,0,"beach_grass_pressure_plate_1")
beach_grass_pressure_plate_1.floortrigger:setTriggeredByParty(true)
beach_grass_pressure_plate_1.floortrigger:setTriggeredByMonster(true)
beach_grass_pressure_plate_1.floortrigger:setTriggeredByItem(true)
beach_grass_pressure_plate_1.floortrigger:setTriggeredByDigging(false)
beach_grass_pressure_plate_1.floortrigger:setDisableSelf(false)
beach_grass_pressure_plate_1.floortrigger:addConnector("onActivate", "spitter_script", "triggerTrigger")
beach_grass_pressure_plate_1.floortrigger:addConnector("onDeactivate", "spitter_script", "releaseTrigger")
spawn("mine_support_beam_01",10,21,0,1,"cliff_signal_beam")
spawn("mine_support_pillar_01",11,21,0,1,"mine_support_pillar_01_117")
spawn("mine_support_pillar_01",11,21,0,2,"mine_support_pillar_01_118")
spawn("red_flag",10,21,0,1,"cliff_signal_flag")
spawn("forest_ruins_pillar_02",11,21,0,0,"forest_ruins_pillar_02_6")
spawn("script_entity",10,22,2,0,"cliff_signals_script")
cliff_signals_script.script:setSource("cliff_signal_flag_up = false\
cliff_signal_flag_rising = true\
\
function shotReceptor()\
\9if cliff_signal_flag_up then\
\9\9cliff_signal_flag_rising = false\
\9\9cliff_door_inside.door:close()\9\9\
\9else\
\9\9cliff_signal_flag_rising = true\
\9\9cliff_door_beach.door:close()\
\9end\
\9cliff_signal_flag_timer.timer:start()\
\9cliff_signal_flag_up = not cliff_signal_flag_up\
end\
\
function flagMove()\
\9local elevation = 0\
\9if cliff_signal_flag_rising then\
\9\9if cliff_signal_flag.elevation >= 2 then\
\9\9\9elevation = 2\
\9\9\9cliff_signal_flag_timer.timer:stop()\
\9\9\9swapDoors()\
\9\9else\
\9\9\9elevation = cliff_signal_flag.elevation + 0.02\
\9\9end\
\9else\
\9\9if cliff_signal_flag.elevation <= 1 then\9\9\
\9\9\9elevation = 1\
\9\9\9cliff_signal_flag_timer.timer:stop()\
\9\9\9swapDoors()\
\9\9else\
\9\9\9elevation = cliff_signal_flag.elevation - 0.02\
\9\9end\
\9end\
\9helper.script.setElevation(cliff_signal_flag, elevation)\
\9helper.script.setElevation(cliff_signal_beam, elevation)\
end\
\
function swapDoors()\
\9if cliff_signal_flag_up then\
\9\9cliff_door_beach.door:open()\
\9\9cliff_door_inside.door:close()\
\9\9cliff_door_inside_2.door:close()\
\9else \
\9\9cliff_door_beach.door:close()\
\9\9cliff_door_inside.door:open()\
\9\9cliff_door_inside_2.door:open()\
\9end\
end\
\
function pushButton()\
\9if cliff_signal_flag_up then\
\9\9cliff_door_inside.door:toggle()\
\9else\
\9\9cliff_door_beach.door:toggle()\
\9end\9\
end")
spawn("timer",9,22,1,0,"cliff_signal_flag_timer")
cliff_signal_flag_timer.timer:setTimerInterval(0.1)
cliff_signal_flag_timer.timer:setDisableSelf(false)
cliff_signal_flag_timer.timer:setTriggerOnStart(false)
cliff_signal_flag_timer.timer:setCurrentLevelOnly(false)
cliff_signal_flag_timer.timer:addConnector("onActivate", "cliff_signals_script", "flagMove")
cliff_signal_flag_timer.timer:disable()
spawn("dungeon_secret_button_large",7,17,0,0,"dungeon_secret_button_large_1")
dungeon_secret_button_large_1.button:setDisableSelf(false)
dungeon_secret_button_large_1.button:addConnector("onActivate", "cliff_signals_script", "pushButton")
spawn("beach_pressure_plate",21,19,3,0,"beach_pressure_plate_1")
beach_pressure_plate_1.floortrigger:setTriggeredByParty(true)
beach_pressure_plate_1.floortrigger:setTriggeredByMonster(true)
beach_pressure_plate_1.floortrigger:setTriggeredByItem(true)
beach_pressure_plate_1.floortrigger:setTriggeredByDigging(false)
beach_pressure_plate_1.floortrigger:setDisableSelf(false)
beach_pressure_plate_1.floortrigger:addConnector("onActivate", "spikes_timer", "start")
beach_pressure_plate_1.floortrigger:addConnector("onDeactivate", "spikes_shutdown_timer", "start")
beach_pressure_plate_1.floortrigger:addConnector("onActivate", "spikes_shutdown_timer", "stop")
spawn("forest_exit_rock_tunnel",3,31,2,0,"forest_exit_rock_tunnel_4")
spawn("forest_wall_01",1,31,1,0,"forest_wall_01_3")
spawn("forest_wall_01",4,31,1,0,"forest_wall_01_4")
spawn("forest_wall_01",5,31,1,0,"forest_wall_01_5")
spawn("forest_lantern",24,7,2,1,"forest_lantern_1")
forest_lantern_1.light:disable()
forest_lantern_1.particle:disable()
spawn("forest_ruins_wall_end_right",10,21,1,0,"forest_ruins_wall_end_right_3")
spawn("forest_ruins_pillar_02",10,21,1,0,"forest_ruins_pillar_02_7")
spawn("attack_trigger",4,20,0,0,"attack_trigger_2")
spawn("attack_trigger",4,20,3,0,"attack_trigger_3")
spawn("script_entity",4,20,0,0,"script_entity_10")
script_entity_10.script:setSource("cliff_key_down = false\
function onAttacked()\
\9if not cliff_key_down then\
\9\9spawn(\"bunker_key\", party.level, party.x, party.y, party.facing, party.elevation + 1)\
\9\9helper.script.gainExp(500, \"Knocked bunker key from crow's nest.\")\
\9\9cliff_key_down = true\
\9end\
end")
spawn("forest_bridge",6,18,0,1,"forest_bridge_104")
spawn("beach_thicket_01",3,15,0,0,"beach_thicket_01_7")
spawn("forest_oak_cluster",3,14,0,0,"forest_oak_cluster_39")
spawn("forest_grass_01",4,15,1,0,"forest_grass_01_5")
spawn("forest_heather",3,17,3,0,"forest_heather_3")
spawn("forest_heather",3,16,3,0,"forest_heather_5")
spawn("mine_support_ceiling_01",3,17,2,0,"mine_support_ceiling_01_18")
spawn("beach_thicket_01",3,17,0,1,"beach_thicket_01_12")
spawn("mine_support_ceiling_01",2,17,2,0,"mine_support_ceiling_01_19")
spawn("beach_thicket_01",2,17,0,1,"beach_thicket_01_14")
spawn("mine_door_spear",3,16,0,0,"mine_door_spear_10")
spawn("mine_support_secret_button",3,16,1,0,"mine_support_secret_button_1")
mine_support_secret_button_1.button:setDisableSelf(false)
mine_support_secret_button_1.button:addConnector("onActivate", "mine_door_spear_10", "open")
spawn("mine_support_wall_01",3,16,3,0,"mine_support_wall_01_121")
spawn("mine_support_pillar_01",3,17,2,0,"mine_support_pillar_01_122")
spawn("mine_support_pillar_01",4,16,0,0,"mine_support_pillar_01_123")
spawn("mine_support_pillar_01",4,17,1,0,"mine_support_pillar_01_124")
spawn("mine_support_pillar_01",3,16,0,0,"mine_support_pillar_01_121")
spawn("mine_support_ceiling_01",3,16,2,0,"mine_support_ceiling_01_20")
spawn("beach_thicket_01",3,16,0,1,"beach_thicket_01_13")
spawn("forest_heather",16,8,3,0,"forest_heather_6")
spawn("scroll_make_torn_cloth",3,17,1,0,"scroll_make_torn_cloth_1")
spawn("note",10,15,2,0,"note_5")
note_5.scrollitem:setScrollText("Baruk, tell them to put warning flag down and let me in. I am here to visit Balbuino.\
\
Galena")
spawn("script_entity",16,7,3,0,"script_entity_11")
script_entity_11.script:setSource("function f1()\
\9tentacles_1.brain:performAction(\"hide\",1,1,1,0)\9\
\9invisible_teleporter_1.controller:deactivate()\
end")
spawn("beach_rock_border",4,22,0,0,"beach_rock_border_19")
spawn("invisible_rocky_wall",10,21,3,0,"invisible_rocky_wall_9")
spawn("forest_ruins_wall_01",10,21,3,0,"forest_ruins_wall_01_25")
forest_ruins_wall_01_25.door:disable()
spawn("receptor_ruins",9,21,1,0,"receptor_ruins_5")
receptor_ruins_5.walltrigger:setEntityType("signal")
receptor_ruins_5.walltrigger:addConnector("onActivate", "cliff_signals_script", "shotReceptor")
spawn("beach_rock_border",8,21,1,0,"beach_rock_border_20")
spawn("forest_ruins_wall_end_right",10,20,3,0,"forest_ruins_wall_end_right_4")
spawn("beach_rock_border",10,20,0,0,"beach_rock_border_21")
spawn("chest",5,27,2,0,"chest_9")
chest_9.lock:enable()
spawn("pirate_crystal",5,27,2,0,"pirate_crystal_6")
chest_9.surface:addItem(pirate_crystal_6.item)
spawn("dagger",5,27,2,0,"dagger_2")
chest_9.surface:addItem(dagger_2.item)
spawn("gunpowder",5,27,2,0,"gunpowder_21")
chest_9.surface:addItem(gunpowder_21.item)
spawn("pirate_vest",5,27,2,0,"pirate_vest_3")
chest_9.surface:addItem(pirate_vest_3.item)
chest_9.chest:setLocked(true)
spawn("mine_support_wall_01",5,27,0,0,"mine_support_wall_01_130")
spawn("mine_support_wall_01",4,27,0,0,"mine_support_wall_01_131")
spawn("mine_support_wall_01",5,27,1,0,"mine_support_wall_01_132")
spawn("mine_support_pillar_01",5,27,1,0,"mine_support_pillar_01_126")
spawn("mine_support_pillar_01",6,27,2,0,"mine_support_pillar_01_127")
spawn("mine_support_pillar_01",6,28,3,0,"mine_support_pillar_01_128")
spawn("mine_support_pillar_01",4,27,0,0,"mine_support_pillar_01_129")
spawn("forest_lantern",4,23,2,1,"lighter_3")
lighter_3.light:disable()
lighter_3.particle:disable()
spawn("forest_lantern",3,25,2,0,"lighter_1")
lighter_1.light:disable()
lighter_1.particle:disable()
spawn("forest_lantern",3,24,2,0,"lighter_2")
lighter_2.light:disable()
lighter_2.particle:disable()
spawn("beach_lever",1,24,3,0,"beach_lever_5")
beach_lever_5.lever:setDisableSelf(false)
beach_lever_5.lever:addConnector("onToggle", "lighter_script", "send")
spawn("beach_wall_button",1,25,1,0,"beach_wall_button_1")
beach_wall_button_1.button:setDisableSelf(false)
beach_wall_button_1.button:addConnector("onActivate", "lighter_script", "lighter")
spawn("receptor_ruins",1,26,2,0,"receptor_ruins_6")
receptor_ruins_6.walltrigger:setEntityType("signal")
receptor_ruins_6.walltrigger:addConnector("onActivate", "lighter_script", "signal")
spawn("forest_ruins_wall_01",1,26,2,0,"forest_ruins_wall_01_27")
forest_ruins_wall_01_27.door:disable()
spawn("forest_ruins_pillar_02",1,27,1,0,"forest_ruins_pillar_02_8")
spawn("forest_ruins_pillar_01",2,27,3,0,"forest_ruins_pillar_01_37")
spawn("script_entity",2,23,0,0,"lighter_script")
lighter_script.script:setSource("fire_1 = 0\
fire_2 = 0\
fire_3 = 0\
\
function _light(n)\
\9local lighter = findEntity(\"lighter_\" .. n)\
\9lighter.light:enable()\
\9lighter.particle:enable()\
end\
\
function _down(n)\
\9local lighter = findEntity(\"lighter_\" .. n)\
\9lighter.light:setColor(vec(0.92,0.52,0.2))\
\9lighter.light:disable()\
\9lighter.particle:disable()\
end\
\
function lighter()\
\9if fire_1 == 0 then\
\9\9fire_1 = 1\
\9\9_light(1)\
\9elseif fire_2 == 0 then\
\9\9fire_2 = 1\
\9\9_light(2)\
\9elseif fire_1 == 2 and fire_2 == 2 and fire_3 == 2 then\
\9\9_allDown()\
\9\9spawner_10.spawner:activate()\
\9end\
end\
\
function signal()\
\9if fire_2 > 0 then\
\9\9lighter_2.light:setColor(vec(0,1.5,0.5))\
\9\9fire_2 = 2\
\9\9forest_fireflies_13.light:setColor(vec(0,1.5,0.5))\
\9\9forest_fireflies_13.light:enable()\
\9\9forest_fireflies_13.particle:enable()\
\9elseif fire_1 > 0 then\9\
\9\9lighter_1.light:setColor(vec(1.5,0,0))\9\
\9\9fire_1 = 2\9\9\
\9end\
end\
\
function send()\
\9if fire_1 == 2 and fire_2 == 2 and fire_3 == 0 then\
\9\9_light(3)\
\9\9fire_3 = 2\
\9\9lighter_3.light:setColor(vec(1.5,1.5,0))\
\9\9forest_fireflies_12.light:setColor(vec(1.5,1.5,0))\
\9\9forest_fireflies_12.light:enable()\
\9\9forest_fireflies_12.particle:enable()\
\9else\
\9\9_allDown()\
\9end\
end\
\
function _allDown()\
\9_down(1)\
\9_down(2)\
\9_down(3)\
\9fire_1 = 0\
\9fire_2 = 0\
\9fire_3 = 0\
\9forest_fireflies_12.light:disable()\
\9forest_fireflies_12.particle:disable()\
\9forest_fireflies_13.light:disable()\
\9forest_fireflies_13.particle:disable()\
end")
spawn("forest_fireflies",4,23,3,1,"forest_fireflies_12")
forest_fireflies_12.particle:disable()
forest_fireflies_12.light:disable()
spawn("forest_fireflies",3,25,3,0,"forest_fireflies_13")
forest_fireflies_13.particle:disable()
forest_fireflies_13.light:disable()
spawn("spawner",3,23,2,0,"spawner_10")
spawner_10.spawner:setSpawnedEntity("wizard_explosion")
spawner_10.spawner:setMonsterLevel(1)
spawner_10.spawner:setCooldown(0)
spawner_10.spawner:setDisableSelf(false)
spawn("forest_oak_trunk",8,28,3,0,"forest_oak_trunk_4")
spawn("mine_support_pillar_lantern_01",10,26,2,0,"mine_support_pillar_lantern_01_10")
spawn("forest_pressure_plate",9,28,2,0,"forest_pressure_plate_1")
forest_pressure_plate_1.floortrigger:setTriggeredByParty(true)
forest_pressure_plate_1.floortrigger:setTriggeredByMonster(true)
forest_pressure_plate_1.floortrigger:setTriggeredByItem(true)
forest_pressure_plate_1.floortrigger:setTriggeredByDigging(false)
forest_pressure_plate_1.floortrigger:setDisableSelf(false)
forest_pressure_plate_1.floortrigger:addConnector("onActivate", "plates_script", "close")
spawn("forest_pressure_plate",11,29,2,0,"forest_pressure_plate_2")
forest_pressure_plate_2.floortrigger:setTriggeredByParty(true)
forest_pressure_plate_2.floortrigger:setTriggeredByMonster(true)
forest_pressure_plate_2.floortrigger:setTriggeredByItem(true)
forest_pressure_plate_2.floortrigger:setTriggeredByDigging(false)
forest_pressure_plate_2.floortrigger:setDisableSelf(false)
forest_pressure_plate_2.floortrigger:addConnector("onActivate", "plates_script", "close")
spawn("mine_door_spear",12,29,3,0,"plates_door_2")
plates_door_2.door:setDoorState("open")
spawn("dungeon_pillar",12,29,3,0,"dungeon_pillar_147")
spawn("dungeon_pillar",12,30,3,0,"dungeon_pillar_148")
spawn("dungeon_pillar",9,29,3,0,"dungeon_pillar_149")
spawn("mine_door_spear",9,28,3,0,"plates_door_1")
plates_door_1.door:setDoorState("open")
spawn("dungeon_pillar",9,28,3,0,"dungeon_pillar_150")
spawn("script_entity",8,26,1,0,"plates_script")
plates_script.script:setSource("\
solved = false\
\
function close()\
\9plates_door_1.door:close()\
\9plates_door_2.door:close()\
end\
\
function open()\
\9plates_door_1.door:open()\
\9plates_door_2.door:open()\
end\
\
function onAttacked()\
\9open()\9\
\9if not solved then\
\9\9solved = true\
\9\9helper.script.gainExp(150, \"Triggered button by hitting wall.\")\
\9end\
end\
\
function comment()\
\9if solved then\
\9\9if plates_door_1.door:isClosed() or plates_door_2.door:isClosed() then\
\9\9\9helper.script.talkChampion( {\
\9\9\9\9\"It worked. Hit it again.\",\
\9\9\9\9\"Kick it, slam it, punch it!\",\
\9\9\9\9\"Vibrations seems to trigger that switch.\",\
\9\9\9} )\
\9\9end\
\9else\
\9\9helper.script.talkChampion( {\
\9\9\9\"There is a button on the other side.\",\
\9\9\9\"Something is behind this wall.\",\
\9\9\9\"Button! We must somehow get to it.\",\
\9\9\9\"Let me kick this goddamned wall!\",\
\9\9\9\"Maybe if we shake that construction...\"\
\9\9} )\
\9end\
end")
spawn("attack_trigger",7,26,1,0,"attack_trigger_4")
spawn("mine_support_secret_button",7,26,1,0,"mine_support_secret_button_2")
mine_support_secret_button_2.button:setDisableSelf(false)
mine_support_secret_button_2.button:addConnector("onActivate", "plates_script", "open")
mine_support_secret_button_2.door:disable()
spawn("mine_support_wall_01",8,24,2,0,"mine_support_wall_01_113")
spawn("dungeon_pillar",9,25,3,0,"dungeon_pillar_151")
spawn("floor_trigger",8,26,2,0,"floor_trigger_27")
floor_trigger_27.floortrigger:setTriggeredByParty(true)
floor_trigger_27.floortrigger:setTriggeredByMonster(false)
floor_trigger_27.floortrigger:setTriggeredByItem(false)
floor_trigger_27.floortrigger:setTriggeredByDigging(false)
floor_trigger_27.floortrigger:setDisableSelf(false)
floor_trigger_27.floortrigger:addConnector("onActivate", "plates_script", "comment")
spawn("hand_cannon",16,28,3,0,"hand_cannon_7")
hand_cannon_7.item:disable()
spawn("forest_border_rocks_01",15,28,1,0,"forest_border_rocks_01_1")
spawn("forest_grass_01",16,29,1,0,"forest_grass_01_6")
spawn("forest_grass_01",15,29,0,0,"forest_grass_01_7")
spawn("forest_grass_01",14,29,0,0,"forest_grass_01_9")
spawn("forest_grass_01",14,28,0,0,"forest_grass_01_11")
spawn("forest_grass_01",13,28,0,0,"forest_grass_01_12")
spawn("forest_oak",16,29,0,0,"forest_oak_5")
spawn("forest_lantern",8,17,1,0,"forest_lantern_2")
spawn("floor_spike_trap",19,20,1,0,"floor_spike_trap_1")
spawn("floor_spike_trap",20,19,2,0,"floor_spike_trap_2")
spawn("beach_rock_1x1",21,17,0,0,"beach_rock_1x1_22")
spawn("dungeon_wall_01",11,28,1,0,"dungeon_wall_01_81")
spawn("dungeon_wall_01",12,28,3,0,"dungeon_wall_01_109")
spawn("dungeon_pillar",12,28,3,0,"dungeon_pillar_13")
spawn("mine_support_wall_01",11,26,2,0,"mine_support_wall_01_135")
spawn("mine_support_pillar_01",12,27,0,0,"mine_support_pillar_01_132")
spawn("mine_support_wall_01",8,27,2,0,"mine_support_wall_01_136")
spawn("mine_support_pillar_01",8,28,0,0,"mine_support_pillar_01_133")
spawn("tentacles",16,8,3,0,"tentacles_1")
tentacles_1.brainScript:setSource("")
spawn("floor_trigger",15,8,1,0,"floor_trigger_30")
floor_trigger_30.floortrigger:setTriggeredByParty(false)
floor_trigger_30.floortrigger:setTriggeredByMonster(false)
floor_trigger_30.floortrigger:setTriggeredByItem(true)
floor_trigger_30.floortrigger:setTriggeredByDigging(false)
floor_trigger_30.floortrigger:setDisableSelf(false)
floor_trigger_30.floortrigger:addConnector("onActivate", "script_entity_11", "f1")
floor_trigger_30.floortrigger:addConnector("onActivate", "invisible_teleporter_1", "activate")
floor_trigger_30.floortrigger:addConnector("onDeactivate", "invisible_teleporter_1", "deactivate")
spawn("rock",7,9,0,0,"rock_9")
spawn("rock",9,7,0,0,"rock_10")
spawn("barrel_crate_block_broken",8,8,0,0,"barrel_crate_block_broken_10")
spawn("barrel_crate_block_broken",9,6,2,0,"barrel_crate_block_broken_11")
spawn("branch",10,7,2,0,"branch_9")
spawn("branch",7,7,2,0,"branch_10")
spawn("torn_cloth",6,9,3,0,"torn_cloth_1")
spawn("torn_breeches",8,6,2,0,"torn_breeches_2")
spawn("pirate_vest",2,9,2,0,"pirate_vest_2")
spawn("invisible_teleporter",15,8,3,0,"invisible_teleporter_1")
invisible_teleporter_1.teleporter:setTeleportTarget(4,12,8,2)
invisible_teleporter_1.teleporter:setSpin("turn_around")
invisible_teleporter_1.teleporter:setTriggeredByParty(true)
invisible_teleporter_1.teleporter:setTriggeredByMonster(true)
invisible_teleporter_1.teleporter:setTriggeredByItem(true)
invisible_teleporter_1.teleporter:setTriggeredBySpell(true)
invisible_teleporter_1.controller:setInitialState("deactivate")
spawn("blob_hit_receptor",9,14,2,0,"blob_hit_receptor_1")
spawn("mine_spell_receptor",10,16,2,0,"mine_spell_receptor_3")
mine_spell_receptor_3.walltrigger:setEntityType("signal")
mine_spell_receptor_3.walltrigger:addConnector("onActivate", "cliff_signals_script", "shotReceptor")
spawn("height_receptor",19,14,1,0,"height_receptor_2")
height_receptor_2.walltrigger:setEntityType("signal")
height_receptor_2.walltrigger:addConnector("onActivate", "cliff_signals_script", "shotReceptor")
spawn("forest_ruins_wall_01",20,14,3,0,"forest_ruins_wall_01_1")
spawn("mine_door_spear",7,17,3,0,"cliff_door_inside_2")
cliff_door_inside_2.door:setDoorState("open")
spawn("mine_spell_receptor",14,19,1,0,"mine_spell_receptor_4")
mine_spell_receptor_4.walltrigger:setEntityType("signal")
mine_spell_receptor_4.walltrigger:addConnector("onActivate", "cliff_signals_script", "shotReceptor")
spawn("spawner",14,19,3,0,"spawner_11")
spawner_11.spawner:setSpawnedEntity("projectile_arrow")
spawner_11.spawner:setMonsterLevel(1)
spawner_11.spawner:setCooldown(0)
spawner_11.spawner:setDisableSelf(false)
spawn("script_entity",14,20,1,0,"spitter_script")
spitter_script.script:setSource("function triggerTrigger()\
\9spitter_door.door:close()\
\9spitter_shutdown_timer.timer:stop()\
\9spitter_timer.timer:enable()\
\9spitter_timer_2.timer:enable()\
\9spitter_timer_3.timer:enable()\
end\
\
function releaseTrigger()\
\9spitter_shutdown_timer.timer:enable()\
end\
\
function shutDown()\
\9spitter_door.door:open()\
\9spitter_shutdown_timer.timer:stop()\
\9spitter_timer.timer:stop()\
\9spitter_timer_2.timer:stop()\
\9spitter_timer_3.timer:stop()\
end")
spawn("timer",15,20,0,0,"spitter_timer")
spitter_timer.timer:setTimerInterval(1)
spitter_timer.timer:setDisableSelf(false)
spitter_timer.timer:setTriggerOnStart(false)
spitter_timer.timer:setCurrentLevelOnly(false)
spitter_timer.timer:addConnector("onActivate", "spawner_12", "activate")
spitter_timer.timer:disable()
spawn("spawner",14,20,3,0,"spawner_12")
spawner_12.spawner:setSpawnedEntity("fireball_large")
spawner_12.spawner:setMonsterLevel(10)
spawner_12.spawner:setCooldown(0)
spawner_12.spawner:setDisableSelf(false)
spawn("timer",15,19,0,0,"spitter_timer_2")
spitter_timer_2.timer:setTimerInterval(0.5)
spitter_timer_2.timer:setDisableSelf(false)
spitter_timer_2.timer:setTriggerOnStart(false)
spitter_timer_2.timer:setCurrentLevelOnly(false)
spitter_timer_2.timer:addConnector("onActivate", "spawner_11", "activate")
spitter_timer_2.timer:disable()
spawn("timer",16,19,0,0,"spitter_shutdown_timer")
spitter_shutdown_timer.timer:setTimerInterval(5)
spitter_shutdown_timer.timer:setDisableSelf(true)
spitter_shutdown_timer.timer:setTriggerOnStart(false)
spitter_shutdown_timer.timer:setCurrentLevelOnly(false)
spitter_shutdown_timer.timer:addConnector("onActivate", "spitter_script", "shutDown")
spitter_shutdown_timer.timer:disable()
spawn("timer",15,21,0,0,"spitter_timer_3")
spitter_timer_3.timer:setTimerInterval(1.05)
spitter_timer_3.timer:setDisableSelf(false)
spitter_timer_3.timer:setTriggerOnStart(false)
spitter_timer_3.timer:setCurrentLevelOnly(false)
spitter_timer_3.timer:addConnector("onActivate", "spawner_12", "activate")
spitter_timer_3.timer:disable()
spawn("mine_door_spear",15,21,3,0,"spitter_door")
spitter_door.door:setDoorState("open")
spawn("floor_spike_trap",19,21,1,0,"floor_spike_trap_3")
spawn("floor_spike_trap",21,18,1,0,"floor_spike_trap_4")
spawn("floor_spike_trap",21,20,1,0,"floor_spike_trap_5")
spawn("floor_spike_trap",22,19,1,0,"floor_spike_trap_6")
spawn("floor_spike_trap",22,21,1,0,"floor_spike_trap_7")
spawn("floor_spike_trap",24,20,1,0,"floor_spike_trap_8")
spawn("floor_spike_trap",21,21,1,0,"floor_spike_trap_9")
spawn("timer",19,18,2,0,"spikes_timer")
spikes_timer.timer:setTimerInterval(1)
spikes_timer.timer:setDisableSelf(false)
spikes_timer.timer:setTriggerOnStart(false)
spikes_timer.timer:setCurrentLevelOnly(false)
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_1", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_4", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_2", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_3", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_9", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_5", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_11", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_7", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_6", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_10", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_8", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_12", "activate")
spikes_timer.timer:addConnector("onActivate", "floor_spike_trap_13", "activate")
spikes_timer.timer:disable()
spawn("timer",20,18,2,0,"spikes_shutdown_timer")
spikes_shutdown_timer.timer:setTimerInterval(3)
spikes_shutdown_timer.timer:setDisableSelf(true)
spikes_shutdown_timer.timer:setTriggerOnStart(false)
spikes_shutdown_timer.timer:setCurrentLevelOnly(true)
spikes_shutdown_timer.timer:addConnector("onActivate", "spikes_timer", "stop")
spikes_shutdown_timer.timer:disable()
spawn("remains_bones",21,20,3,0,"remains_bones_6")
spawn("beach_rock_1x1",20,21,2,0,"beach_rock_1x1_23")
spawn("beach_pressure_plate",20,20,3,0,"beach_pressure_plate_2")
beach_pressure_plate_2.floortrigger:setTriggeredByParty(true)
beach_pressure_plate_2.floortrigger:setTriggeredByMonster(true)
beach_pressure_plate_2.floortrigger:setTriggeredByItem(true)
beach_pressure_plate_2.floortrigger:setTriggeredByDigging(false)
beach_pressure_plate_2.floortrigger:setDisableSelf(false)
beach_pressure_plate_2.floortrigger:addConnector("onActivate", "spikes_timer", "start")
beach_pressure_plate_2.floortrigger:addConnector("onDeactivate", "spikes_shutdown_timer", "start")
beach_pressure_plate_2.floortrigger:addConnector("onActivate", "spikes_shutdown_timer", "stop")
spawn("floor_spike_trap",23,20,1,0,"floor_spike_trap_10")
spawn("beach_pressure_plate",22,20,3,0,"beach_pressure_plate_3")
beach_pressure_plate_3.floortrigger:setTriggeredByParty(true)
beach_pressure_plate_3.floortrigger:setTriggeredByMonster(true)
beach_pressure_plate_3.floortrigger:setTriggeredByItem(true)
beach_pressure_plate_3.floortrigger:setTriggeredByDigging(false)
beach_pressure_plate_3.floortrigger:setDisableSelf(false)
beach_pressure_plate_3.floortrigger:addConnector("onActivate", "spikes_timer", "start")
beach_pressure_plate_3.floortrigger:addConnector("onDeactivate", "spikes_shutdown_timer", "start")
beach_pressure_plate_3.floortrigger:addConnector("onActivate", "spikes_shutdown_timer", "stop")
spawn("floor_spike_trap",22,18,1,0,"floor_spike_trap_11")
spawn("beach_pressure_plate",23,21,3,0,"beach_pressure_plate_4")
beach_pressure_plate_4.floortrigger:setTriggeredByParty(true)
beach_pressure_plate_4.floortrigger:setTriggeredByMonster(true)
beach_pressure_plate_4.floortrigger:setTriggeredByItem(true)
beach_pressure_plate_4.floortrigger:setTriggeredByDigging(false)
beach_pressure_plate_4.floortrigger:setDisableSelf(false)
beach_pressure_plate_4.floortrigger:addConnector("onActivate", "spikes_timer", "start")
beach_pressure_plate_4.floortrigger:addConnector("onDeactivate", "spikes_shutdown_timer", "start")
beach_pressure_plate_4.floortrigger:addConnector("onActivate", "spikes_shutdown_timer", "stop")
spawn("floor_spike_trap",24,21,1,0,"floor_spike_trap_12")
spawn("beach_rock_1x1_low",19,19,1,0,"beach_rock_1x1_low_7")
spawn("beach_rock_blocker_02",22,17,1,0,"beach_rock_blocker_02_7")
beach_rock_blocker_02_7.projectilecollider:disable()
spawn("beach_rock_1x1_low",19,18,0,0,"beach_rock_1x1_low_8")
spawn("beach_crab",23,12,3,0,"beach_crab_20")
spawn("beach_crab",24,10,0,0,"beach_crab_21")
spawn("beach_crab",24,14,3,0,"beach_crab_22")
spawn("beach_rock_2x1",30,16,2,0,"beach_rock_2x1_12")
beach_rock_2x1_12.projectilecollider:disable()
spawn("invisible_rocky_wall",30,17,0,0,"invisible_rocky_wall_13")
invisible_rocky_wall_13.projectilecollider:disable()
spawn("beach_rock_spire",30,15,1,0,"beach_rock_spire_6")
spawn("floor_spike_trap",23,19,1,0,"floor_spike_trap_13")
spawn("forest_border_rocks_01",23,19,0,0,"forest_border_rocks_01_8")
spawn("floor_dirt",23,19,3,0,"floor_dirt_39")
spawn("floor_dirt",21,20,3,0,"floor_dirt_40")
spawn("floor_dirt",22,21,3,0,"floor_dirt_41")
spawn("forest_blocker_stone",25,19,2,0,"forest_blocker_stone_1")
spawn("forest_blocker_stone",25,17,2,0,"forest_blocker_stone_7")
spawn("beach_cattail_blocker",25,13,1,0,"beach_cattail_blocker_90")
spawn("beach_cattail_blocker",28,15,1,0,"beach_cattail_blocker_92")
spawn("beach_cattail_damaged",27,12,3,0,"beach_cattail_damaged_28")
spawn("beach_cattail_damaged",27,15,3,0,"beach_cattail_damaged_38")
spawn("beach_cattail_blocker",25,15,1,0,"beach_cattail_blocker_93")
spawn("beach_cattail_blocker",26,14,1,0,"beach_cattail_blocker_96")
spawn("beach_cattail_blocker",29,15,1,0,"beach_cattail_blocker_117")
spawn("beach_cattail_blocker",26,16,1,0,"beach_cattail_blocker_118")
spawn("beach_cattail_blocker",29,16,1,0,"beach_cattail_blocker_119")
spawn("beach_rock_spire",25,18,1,0,"beach_rock_spire_7")
spawn("forest_thorn_blocker",23,14,2,0,"forest_thorn_blocker_1")
forest_thorn_blocker_1.obstacle:disable()
forest_thorn_blocker_1.projectilecollider:disable()
forest_thorn_blocker_1.animation:disable()
forest_thorn_blocker_1.health:disable()
spawn("beach_thicket_01",23,13,0,0,"beach_thicket_01_1")
beach_thicket_01_1.projectilecollider:disable()
spawn("beach_thicket_01",23,15,0,0,"beach_thicket_01_2")
beach_thicket_01_2.projectilecollider:disable()
spawn("beach_thicket_01",21,16,1,0,"beach_thicket_01_3")
spawn("beach_thicket_01",22,15,1,0,"beach_thicket_01_4")
spawn("forest_thorn_blocker",22,16,2,0,"forest_thorn_blocker_2")
forest_thorn_blocker_2.obstacle:disable()
forest_thorn_blocker_2.animation:disable()
forest_thorn_blocker_2.health:disable()
spawn("invisible_rocky_wall",23,14,0,0,"invisible_rocky_wall_52")
invisible_rocky_wall_52.projectilecollider:disable()
spawn("invisible_rocky_wall",22,16,0,0,"invisible_rocky_wall_55")
invisible_rocky_wall_55.projectilecollider:disable()
spawn("forest_seaweed_pillar",27,15,1,0,"forest_seaweed_pillar_6")
spawn("forest_seaweed_pillar",28,15,3,0,"forest_seaweed_pillar_12")
spawn("forest_oak_cluster",29,23,1,0,"forest_oak_cluster_43")
spawn("forest_oak_cluster",30,20,0,0,"forest_oak_cluster_44")
spawn("beach_thicket_01",23,18,1,0,"beach_thicket_01_5")
beach_thicket_01_5.projectilecollider:disable()
spawn("beach_thicket_01",24,18,1,0,"beach_thicket_01_15")
beach_thicket_01_15.projectilecollider:disable()
spawn("beach_thicket_01",24,19,1,0,"beach_thicket_01_16")
beach_thicket_01_16.projectilecollider:disable()
spawn("forest_oak",30,20,2,0,"forest_oak_7")
spawn("beach_rock_2x1",29,19,3,0,"beach_rock_2x1_13")
spawn("invisible_rocky_wall",28,19,0,0,"invisible_rocky_wall_56")
spawn("turtle_nest",25,24,0,0,"turtle_nest_2")
spawn("crow",25,24,3,0,"crow_4")
spawn("beach_thicket_01",26,24,1,0,"beach_thicket_01_17")
spawn("beach_thicket_01",27,23,1,0,"beach_thicket_01_18")
spawn("beach_thicket_01",26,22,0,0,"beach_thicket_01_19")
spawn("swamp_heather",27,24,1,0,"swamp_heather_3")
spawn("swamp_heather_low",27,22,1,0,"swamp_heather_low_3")
spawn("swamp_heather_low",26,23,3,0,"swamp_heather_low_4")
spawn("swamp_heather",27,23,1,0,"swamp_heather_4")
spawn("swamp_heather_low",26,22,1,0,"swamp_heather_low_5")
spawn("swamp_heather_low",26,24,1,0,"swamp_heather_low_6")
spawn("forest_grass_01",25,21,3,0,"forest_grass_01_14")
spawn("coin_silver",25,24,3,0,"coin_silver_3")
spawn("forest_grass_01",26,20,3,0,"forest_grass_01_15")
spawn("forest_grass_01",25,20,3,0,"forest_grass_01_16")
spawn("forest_grass_01",27,20,3,0,"forest_grass_01_17")
spawn("forest_grass_01",28,20,3,0,"forest_grass_01_18")
spawn("swamp_heather_low",29,20,1,0,"swamp_heather_low_7")
spawn("forest_thorn_blocker",30,19,2,0,"forest_thorn_blocker_3")
forest_thorn_blocker_3.obstacle:disable()
forest_thorn_blocker_3.animation:disable()
forest_thorn_blocker_3.health:disable()
spawn("beach_rock_spire",30,18,1,0,"beach_rock_spire_8")
spawn("mine_door_spear",3,27,0,0,"mine_door_spear_16")
spawn("forest_ruins_wall_01",2,26,2,0,"forest_ruins_wall_01_13")
forest_ruins_wall_01_13.door:disable()
spawn("forest_ruins_pillar_02",3,27,1,0,"forest_ruins_pillar_02_10")
spawn("bunker_key",25,24,1,0,"bunker_key_1")
spawn("floor_trigger",6,20,3,0,"floor_trigger_34")
floor_trigger_34.floortrigger:setTriggeredByParty(true)
floor_trigger_34.floortrigger:setTriggeredByMonster(false)
floor_trigger_34.floortrigger:setTriggeredByItem(false)
floor_trigger_34.floortrigger:setTriggeredByDigging(false)
floor_trigger_34.floortrigger:setDisableSelf(false)
floor_trigger_34.floortrigger:addConnector("onActivate", "cliff_cannon_script", "turnNorth")
floor_trigger_34.floortrigger:addConnector("onActivate", "cliff_cannon_script", "talk")
spawn("floor_trigger",5,20,3,0,"floor_trigger_35")
floor_trigger_35.floortrigger:setTriggeredByParty(true)
floor_trigger_35.floortrigger:setTriggeredByMonster(false)
floor_trigger_35.floortrigger:setTriggeredByItem(false)
floor_trigger_35.floortrigger:setTriggeredByDigging(false)
floor_trigger_35.floortrigger:setDisableSelf(false)
floor_trigger_35.floortrigger:addConnector("onActivate", "cliff_cannon_script", "turnNorth")
floor_trigger_35.floortrigger:addConnector("onActivate", "cliff_cannon_script", "talk")
spawn("forest_ruins_wall_end_right",9,20,0,0,"forest_ruins_wall_end_right_8")
spawn("forest_ruins_pillar_02",10,20,1,0,"forest_ruins_pillar_02_11")
spawn("mosquito_annoy",7,7,2,0,"mosquito_annoy_1")
mosquito_annoy_1.monster:setAIState("guard")
spawn("mosquito_annoy",12,14,2,0,"mosquito_annoy_3")
mosquito_annoy_3.monster:setAIState("guard")
spawn("mosquito_annoy",9,6,1,0,"cliff_mosq")
cliff_mosq.monster:setAIState("guard")
spawn("navy_cannon_ball",2,9,2,0,"navy_cannon_ball_35")
spawn("navy_cannon_ball",5,13,0,0,"navy_cannon_ball_36")
spawn("navy_cannon_ball",2,11,0,0,"navy_cannon_ball_37")
spawn("script_entity",9,6,2,0,"cliff_mosq_script")
cliff_mosq_script.script:setSource("function spawn()\
\9local e = findEntity(\"cliff_mosq\")\
\9if e == nil then\
\9\9e = helper.script.spawnAt( \"mosquito_annoy\", self.go, \"cliff_mosq\")\
\9\9e.brain:startGuarding()\
\9end\
end")
spawn("timer",9,5,2,0,"timer_10")
timer_10.timer:setTimerInterval(300)
timer_10.timer:setDisableSelf(false)
timer_10.timer:setTriggerOnStart(false)
timer_10.timer:setCurrentLevelOnly(true)
timer_10.timer:addConnector("onActivate", "beach_mosquito_script", "spawn")
spawn("torn_breeches",7,5,3,0,"torn_breeches_3")
spawn("torn_cloth",5,7,2,0,"torn_cloth_2")
spawn("beach_cattail_blocker",6,6,2,0,"beach_cattail_blocker_120")
spawn("beach_cattail_blocker",6,7,2,0,"beach_cattail_blocker_121")
spawn("beach_cattail_blocker",7,5,2,0,"beach_cattail_blocker_122")
spawn("beach_cattail_blocker",11,5,2,0,"beach_cattail_blocker_123")
spawn("beach_cattail_blocker",10,4,2,0,"beach_cattail_blocker_124")
spawn("peasant_cap",6,6,1,0,"peasant_cap_2")
spawn("mosquito_annoy",27,16,2,0,"mosquito_annoy_4")
mosquito_annoy_4.monster:setAIState("guard")
spawn("branch",27,15,1,0,"branch_11")
spawn("silk_hose",28,15,2,0,"silk_hose_1")
spawn("mine_support_pillar_01",27,21,2,2,"mine_support_pillar_01_151")
spawn("dungeon_pillar",28,21,3,1,"dungeon_pillar_158")
spawn("mine_support_pillar_01",28,21,2,2,"mine_support_pillar_01_153")
spawn("mine_support_pillar_01",28,22,2,2,"mine_support_pillar_01_154")
spawn("mine_support_pillar_01",27,22,2,2,"mine_support_pillar_01_155")
spawn("dungeon_pillar_high",27,21,2,0,"dungeon_pillar_high_4")
spawn("dungeon_pillar_high",27,22,2,0,"dungeon_pillar_high_52")
spawn("dungeon_pillar_high",28,22,2,0,"dungeon_pillar_high_53")
spawn("dungeon_pillar_high",28,21,2,0,"dungeon_pillar_high_54")
spawn("forest_chasm",27,21,3,0,"forest_chasm_3")
spawn("mine_counterweight_chains",27,21,0,0,"mine_counterweight_chains_1")
spawn("forest_bridge",27,21,3,3,"forest_bridge_31")
spawn("mine_support_beam_01",26,21,1,2,"mine_support_beam_01_51")
spawn("mine_support_beam_01",27,21,0,2,"mine_support_beam_01_52")
spawn("mine_support_beam_01",27,21,1,2,"mine_support_beam_01_53")
spawn("mine_support_beam_01",27,21,2,2,"mine_support_beam_01_54")
spawn("beach_pressure_plate",26,21,3,0,"passage_plate_2")
passage_plate_2.floortrigger:setTriggeredByParty(true)
passage_plate_2.floortrigger:setTriggeredByMonster(true)
passage_plate_2.floortrigger:setTriggeredByItem(true)
passage_plate_2.floortrigger:setTriggeredByDigging(false)
passage_plate_2.floortrigger:setDisableSelf(false)
spawn("rock",24,18,2,0,"rock_16")
spawn("branch",24,19,0,0,"branch_12")
spawn("mine_door_spear",30,7,2,0,"mine_door_spear_17")
spawn("mine_door_spear",28,8,0,0,"mine_door_spear_18")
spawn("mine_door_spear",29,7,2,0,"mine_door_spear_19")
spawn("beach_rock_1x1_low",26,8,1,0,"beach_rock_1x1_low_9")
beach_rock_1x1_low_9.projectilecollider:disable()
spawn("forest_blocker_stone",27,8,1,0,"forest_blocker_stone_8")
forest_blocker_stone_8.projectilecollider:disable()
spawn("forest_thorn_blocker",26,9,2,0,"forest_thorn_blocker_5")
forest_thorn_blocker_5.obstacle:disable()
forest_thorn_blocker_5.animation:disable()
forest_thorn_blocker_5.health:disable()
spawn("invisible_rocky_wall",26,9,0,0,"invisible_rocky_wall_12")
spawn("mine_door_spear",27,8,0,0,"mine_door_spear_20")
spawn("beach_rock_1x1_low",30,12,0,0,"beach_rock_1x1_low_10")
beach_rock_1x1_low_10.projectilecollider:disable()
spawn("invisible_rocky_wall",30,13,0,0,"invisible_rocky_wall_35")
invisible_rocky_wall_35.projectilecollider:disable()
spawn("forest_seaweed_pillar",28,12,1,0,"forest_seaweed_pillar_54")
spawn("forest_seaweed_pillar",29,10,1,0,"forest_seaweed_pillar_55")
spawn("beach_cattail_blocker",28,14,1,0,"beach_cattail_blocker_126")
spawn("beach_cattail_blocker",30,11,1,0,"beach_cattail_blocker_127")
spawn("beach_cattail_blocker",30,10,1,0,"beach_cattail_blocker_128")
spawn("beach_cattail_blocker",30,9,1,0,"beach_cattail_blocker_129")
spawn("beach_cattail_blocker",30,8,1,0,"beach_cattail_blocker_130")
spawn("beach_cattail_blocker",28,9,1,0,"beach_cattail_blocker_131")

--- level 5 ---

newMap{
	name = "Passage",
	width = 32,
	height = 32,
	levelCoord = {1,-1,1},
	ambientTrack = "wind",
	tiles = {
		"forest_ground2",
		"forest_underwater",
		"forest_wall",
		"mine_floor",
		"mine_wall",
	}
}

loadLayer("floor_elevation", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,0,0,-2,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,0,-1,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,0,-2,-2,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("ceiling_elevation", {
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

loadLayer("tiles", {
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	1,1,1,1,1,2,1,1,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	2,2,2,2,2,2,2,1,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
	1,1,1,1,1,2,1,1,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,
	3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,4,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,4,4,4,4,4,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,4,4,4,4,5,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,5,4,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,4,4,5,4,4,4,4,4,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,4,4,4,4,5,4,5,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,5,5,4,4,5,4,4,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,5,5,5,
	5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
})

spawn("mine_stairs_up",29,21,0,0,"mine_stairs_up_1")
spawn("mine_rockpile_01",23,25,2,0,"mine_rockpile_01_1")
spawn("mine_ceiling_shaft",25,25,3,0,"mine_ceiling_shaft_1")
spawn("mine_ceiling_shaft_roots_01",25,23,1,0,"mine_ceiling_shaft_roots_01_1")
spawn("mine_ceiling_roots_01",25,23,1,0,"mine_ceiling_roots_01_1")
spawn("mine_bridge_01",25,26,1,0,"mine_bridge_01_1")
spawn("mine_bridge_01",24,26,3,0,"mine_bridge_01_2")
spawn("mine_ceiling_shaft",25,23,3,0,"mine_ceiling_shaft_2")
spawn("mine_ceiling_shaft",24,25,3,0,"mine_ceiling_shaft_3")
spawn("castle_arena_sky",0,0,2,0,"castle_arena_sky_1")
spawn("mine_ceiling_shaft",24,24,3,0,"mine_ceiling_shaft_4")
spawn("mine_ceiling_shaft",24,26,3,0,"mine_ceiling_shaft_5")
spawn("mine_ceiling_shaft",25,24,3,0,"mine_ceiling_shaft_6")
spawn("mine_ceiling_shaft",28,24,3,0,"mine_ceiling_shaft_7")
spawn("ceiling_roots_01",23,25,0,0,"ceiling_roots_01_1")
spawn("mine_support_pillar_01",25,27,3,-2,"mine_support_pillar_01_2")
spawn("mine_ceiling_shaft",22,26,3,0,"mine_ceiling_shaft_8")
spawn("mine_ceiling_shaft",23,25,3,0,"mine_ceiling_shaft_9")
spawn("mine_ceiling_shaft",24,28,3,0,"mine_ceiling_shaft_10")
spawn("mine_ceiling_shaft",25,29,3,0,"mine_ceiling_shaft_11")
spawn("mine_ceiling_shaft",24,30,1,0,"mine_ceiling_shaft_12")
spawn("ceiling_roots_01",25,23,0,1,"ceiling_roots_01_2")
spawn("ceiling_roots_01",25,23,0,2,"ceiling_roots_01_3")
spawn("ceiling_roots_01",25,23,0,3,"ceiling_roots_01_4")
spawn("mine_door_camo",26,30,3,-2,"mine_door_camo_1")
spawn("mine_support_pillar_01",25,27,3,-1,"mine_support_pillar_01_3")
spawn("mine_support_pillar_01",25,26,3,-1,"mine_support_pillar_01_4")
spawn("floor_dirt",24,29,0,-2,"floor_dirt_4")
spawn("floor_dirt",25,30,2,-2,"floor_dirt_5")
spawn("floor_dirt",24,30,1,-2,"floor_dirt_6")
spawn("mine_stairs_up",18,28,2,0,"mine_stairs_up_2")
spawn("mine_ceiling_shaft",18,26,3,0,"mine_ceiling_shaft_13")
spawn("mine_ceiling_shaft",22,30,3,0,"mine_ceiling_shaft_14")
spawn("mine_cave_in",27,24,1,0,"mine_cave_in_1")
spawn("forest_exit_underwater",0,17,3,-1,"forest_exit_underwater_1")
spawn("mine_stairs_up",3,17,1,-1,"mine_stairs_up_4")
spawn("forest_heightmap",1,0,1,0,"forest_heightmap_6")
spawn("water_surface_underground",2,0,2,0,"water_surface_underground_3")
spawn("forest_wall_02",3,18,3,-1,"forest_wall_02_3")
spawn("forest_wall_02",3,16,3,-1,"forest_wall_02_4")
spawn("forest_seaweed_floor_01",3,17,3,-1,"forest_seaweed_floor_01_83")
spawn("forest_seaweed_floor_01",2,17,3,-1,"forest_seaweed_floor_01_84")
spawn("forest_seaweed_floor_01",1,17,3,-1,"forest_seaweed_floor_01_85")
spawn("forest_seaweed_floor_01",0,17,3,-1,"forest_seaweed_floor_01_86")
spawn("forest_underwater_plankton",2,17,1,-1,"forest_underwater_plankton_19")
spawn("forest_underwater_plankton",1,17,1,-1,"forest_underwater_plankton_20")
spawn("forest_underwater_plankton",3,17,1,-1,"forest_underwater_plankton_21")
spawn("forest_underwater_plankton",3,17,1,-1,"forest_underwater_plankton_22")
spawn("forest_seaweed_wall_decoration_01",2,17,2,-1,"forest_seaweed_wall_decoration_01_29")
spawn("forest_seaweed_wall_decoration_01",3,17,2,-1,"forest_seaweed_wall_decoration_01_30")
spawn("forest_seaweed_wall_decoration_01",3,17,0,-1,"forest_seaweed_wall_decoration_01_31")
spawn("forest_seaweed_wall_decoration_01",1,17,0,-1,"forest_seaweed_wall_decoration_01_32")
spawn("mine_support_pillar_01",25,26,3,-2,"mine_support_pillar_01_96")
spawn("script_entity",26,29,1,0,"onigin_script")
onigin_script.script:setSource("onigin_talk_1 = 1\
onigin_talk_1_msgs = {\
\9\9\"Don't be scared of me.\",\
\9\9\"My name is Onigin.\",\
\9\9\"Pirates put me in here. For nothing.\",\
\9\9\"Get me out of here. Please!\",\
\9\9\"There is a hidden door somewhere.\",\
\9\9\"Men cannot pass the door, but items can.\"\
\9\9}\
\
function oniginTalk1()\
\9helper.script.talk(\"Onigin\", onigin_talk_1_msgs[onigin_talk_1])\
\9onigin_talk_1 = onigin_talk_1 + 1\
\9if onigin_talk_1 > #onigin_talk_1_msgs then\
\9\9onigin_talk_1 = 1\
\9end\9\
end\
\
function onActivateParty()\
 if onigin_1 then\
\9if not onigin_trigger.floortrigger:isActivated() then\
\9\9onigin_1.brainScript.in_place = false\
\9else\
\9\9oniginTalk1()\
\9end\
 end\
end\
\
function onDeactParty()\
\9if onigin_1 then\
\9\9onigin_1.brainScript.in_place = true\
\9end\
end\
\
function onActivateOnigin()\
\9if party_trigger_onigin.floortrigger:isActivated() then\
\9\9oniginTalk1()\
\9end\
\9onigin_1.brainScript.in_place = true\
end\
\
function onDeactOnigin()\
\9if party_trigger_onigin.floortrigger:isActivated() then\
\9\9onigin_1.brainScript.in_place = false\
\9end\
end\
\
-- door\
\
function openDoor()\
\9door_closing = false\
\9onigin_door_timer.timer:start()\
end\
\
function closeDoor()\
\9door_closing = true\
\9onigin_door_timer.timer:start()\
end\
\
\
door_closing = false\
door_position = -2\
\
function doorMove()\
\9if not door_closing then\
\9\9if door_position <= -3.3 then\
\9\9\9door_position = -3.3\
\9\9\9onigin_door_timer.timer:stop()\
\9\9\9--onigin_door_sound.sound:stop()\
\9\9else\
\9\9\9door_position = door_position - 0.02\
\9\9end\
\9else\
\9\9if door_position >= -2 then\
\9\9\9door_position = -2\
\9\9\9onigin_door_timer.timer:stop()\
\9\9\9--onigin_door_sound.sound:stop()\
\9\9else\
\9\9\9door_position = door_position + 0.015\
\9\9end\
\9end\
\9helper.script.setElevation(onigin_door, door_position)\9\9\
end\
\
function completed()\
\9if onigin_1 then\
\9\9mine_door_camo_1.door:open()\
\9\9helper.script.gainExp(1000, \"Onigin is free.\")\
\9\9onigin_1:destroy()\
\9end\
\9\
end")
spawn("floor_trigger",25,30,2,-2,"party_trigger_onigin")
party_trigger_onigin.floortrigger:setTriggeredByParty(true)
party_trigger_onigin.floortrigger:setTriggeredByMonster(false)
party_trigger_onigin.floortrigger:setTriggeredByItem(false)
party_trigger_onigin.floortrigger:setTriggeredByDigging(false)
party_trigger_onigin.floortrigger:setDisableSelf(false)
party_trigger_onigin.floortrigger:addConnector("onActivate", "onigin_script", "onActivateParty")
party_trigger_onigin.floortrigger:addConnector("onDeactivate", "onigin_script", "onDeactParty")
spawn("floor_trigger",26,30,2,-2,"onigin_trigger")
onigin_trigger.floortrigger:setTriggeredByParty(false)
onigin_trigger.floortrigger:setTriggeredByMonster(true)
onigin_trigger.floortrigger:setTriggeredByItem(false)
onigin_trigger.floortrigger:setTriggeredByDigging(false)
onigin_trigger.floortrigger:setDisableSelf(false)
onigin_trigger.floortrigger:addConnector("onActivate", "onigin_script", "onActivateOnigin")
onigin_trigger.floortrigger:addConnector("onDeactivate", "onigin_script", "onDeactOnigin")
spawn("onigin",28,29,3,-2,"onigin_1")
onigin_1.brainScript:setSource("-- in_place = true\
place = \"onigin_trigger\"")
spawn("mine_secret_door",26,27,3,-2,"onigin_door")
onigin_door.projectilecollider:disable()
onigin_door.sound:disable()
spawn("mine_ceiling_shaft",27,27,3,0,"mine_ceiling_shaft_15")
spawn("mine_counterweight_platform",25,29,3,0,"pit_platform_2")
spawn("mine_counterweight_chains",24,30,0,0,"pit_platform_0")
spawn("mine_bridge_01",26,27,2,0,"mine_bridge_01_10")
spawn("timer",26,28,1,0,"onigin_door_timer")
onigin_door_timer.timer:setTimerInterval(0.1)
onigin_door_timer.timer:setDisableSelf(false)
onigin_door_timer.timer:setTriggerOnStart(false)
onigin_door_timer.timer:setCurrentLevelOnly(false)
onigin_door_timer.timer:addConnector("onActivate", "onigin_script", "doorMove")
onigin_door_timer.timer:disable()
spawn("mine_pressure_plate",28,27,3,-2,"mine_pressure_plate_1")
mine_pressure_plate_1.floortrigger:setTriggeredByParty(true)
mine_pressure_plate_1.floortrigger:setTriggeredByMonster(true)
mine_pressure_plate_1.floortrigger:setTriggeredByItem(true)
mine_pressure_plate_1.floortrigger:setTriggeredByDigging(false)
mine_pressure_plate_1.floortrigger:setDisableSelf(false)
mine_pressure_plate_1.floortrigger:addConnector("onActivate", "onigin_script", "openDoor")
mine_pressure_plate_1.floortrigger:addConnector("onDeactivate", "onigin_script", "closeDoor")
spawn("rock",24,24,0,-2,"rock_8")
spawn("ladder_metal",27,27,2,-2,"ladder_metal_22")
spawn("ladder_metal",27,28,2,-1,"ladder_metal_23")
spawn("mine_bridge_01",27,29,2,0,"mine_bridge_01_12")
spawn("mine_bridge_01",28,29,3,0,"mine_bridge_01_13")
spawn("mine_bridge_01",28,30,0,0,"mine_bridge_01_14")
spawn("mine_bridge_01",27,30,1,0,"mine_bridge_01_15")
spawn("mine_bridge_01",26,30,2,0,"mine_bridge_01_16")
spawn("mine_counterweight_platform",24,28,3,0,"pit_platform_1")
spawn("ceiling_roots_01",23,25,0,1,"ceiling_roots_01_7")
spawn("ceiling_roots_01",23,25,0,2,"ceiling_roots_01_8")
spawn("mine_support_pillar_01",26,30,1,0,"mine_support_pillar_01_103")
spawn("mine_support_pillar_01",26,31,0,0,"mine_support_pillar_01_104")
spawn("forest_bridge",27,27,3,0,"forest_bridge_94")
spawn("forest_bridge",28,27,3,0,"forest_bridge_95")
spawn("forest_bridge",28,26,2,0,"forest_bridge_102")
spawn("mine_support_pillar_01",27,27,0,0,"mine_support_pillar_01_105")
spawn("mine_support_pillar_01",27,28,1,0,"mine_support_pillar_01_106")
spawn("barrel_crate_block",28,30,0,0,"barrel_crate_block_20")
spawn("terracotta_jars_block",28,29,3,0,"terracotta_jars_block_9")
spawn("food_sausage",28,30,1,0,"food_sausage_4")
spawn("mine_lever",26,30,3,0,"mine_lever_5")
mine_lever_5.lever:setDisableSelf(false)
mine_lever_5.lever:addConnector("onToggle", "platform_script", "pullLever")
spawn("ladder_metal",24,28,3,-2,"ladder_metal_24")
spawn("ladder_metal",24,28,3,-1,"ladder_metal_25")
spawn("floor_dirt",27,30,0,-2,"floor_dirt_29")
spawn("floor_dirt",28,30,0,-2,"floor_dirt_30")
spawn("mine_support_pillar_01",27,31,1,0,"mine_support_pillar_01_107")
spawn("mine_support_pillar_01",28,31,1,0,"mine_support_pillar_01_108")
spawn("mine_support_pillar_01",27,30,2,0,"mine_support_pillar_01_109")
spawn("mine_support_wall_button",27,30,2,0,"mine_support_wall_button_1")
spawn("wall_button",27,30,2,0,"wall_button_1")
wall_button_1.button:setDisableSelf(false)
wall_button_1.button:addConnector("onActivate", "platform_script", "switchPlatform")
spawn("onigin_box",27,29,0,-1,"onigin_box_1")
spawn("script_entity",24,31,1,0,"platform_script")
platform_script.script:loadFile("mod_assets/scripts/platforms.lua")
spawn("mine_counterweight_platform",27,27,3,0,"pit_platform_3")
spawn("timer",25,31,0,0,"platform_timer")
platform_timer.timer:setTimerInterval(0.1)
platform_timer.timer:setDisableSelf(false)
platform_timer.timer:setTriggerOnStart(false)
platform_timer.timer:setCurrentLevelOnly(false)
platform_timer.timer:addConnector("onActivate", "platform_script", "doMove")
spawn("mine_counterweight_chains",24,28,0,2,"pit_platform_1_upper")
spawn("mine_support_wall_01",26,29,2,0,"mine_support_wall_01_122")
spawn("mine_support_wall_01",27,29,3,0,"mine_support_wall_01_123")
spawn("mine_support_wall_01",26,30,2,0,"mine_support_wall_01_124")
spawn("mine_support_pillar_01",27,29,2,0,"mine_support_pillar_01_110")
spawn("mine_counterweight_chains",25,29,3,2,"pit_platform_2_upper")
spawn("barrel_crate_block",28,26,2,0,"barrel_crate_block_21")
spawn("mine_spell_receptor",24,30,2,0,"mine_spell_receptor_1")
mine_spell_receptor_1.walltrigger:setEntityType("signal_secret")
mine_spell_receptor_1.walltrigger:addConnector("onActivate", "onigin_script", "completed")
spawn("signal_rod_secret",28,26,0,0,"signal_rod_secret_1")
spawn("food_water_flask",27,29,1,-2,"food_water_flask_7")
spawn("food_water_flask",27,29,2,-2,"food_water_flask_8")
spawn("scroll_signal_secret",28,29,1,0,"scroll_signal_secret_1")
spawn("mine_spell_receptor",22,30,3,0,"mine_spell_receptor_2")
mine_spell_receptor_2.walltrigger:setEntityType("signal_secret")
mine_spell_receptor_2.walltrigger:addConnector("onActivate", "onigin_script", "completed")
spawn("invisible_wall",25,30,2,0,"invisible_wall_104")
invisible_wall_104.projectilecollider:disable()
spawn("script_entity",20,19,0,0,"onigin_talk")
onigin_talk.script:loadFile("mod_assets/scripts/onigin.lua")
spawn("mine_ceiling_shaft",27,21,3,0,"mine_ceiling_shaft_16")
spawn("forest_oak_trunk",27,22,2,0,"forest_oak_trunk_5")
spawn("barrel_crate_block",21,27,0,0,"barrel_crate_block_22")
spawn("pickaxe",21,27,3,0,"pickaxe_1")
spawn("floor_dirt",21,27,1,0,"floor_dirt_31")
spawn("floor_dirt",21,26,2,0,"floor_dirt_32")
spawn("floor_dirt",21,25,2,0,"floor_dirt_33")
spawn("mine_support_pillar_01",21,26,3,0,"mine_support_pillar_01_98")
spawn("mine_support_pillar_lantern_01",22,26,2,0,"mine_support_pillar_lantern_01_11")
spawn("mine_support_beam_01",21,26,0,0,"mine_support_beam_01_45")
spawn("mine_alcove",21,24,0,0,"mine_alcove_1")
spawn("barrel_crate_block_broken",22,28,3,0,"barrel_crate_block_broken_9")
spawn("floor_trigger",25,27,2,0,"floor_trigger_31")
floor_trigger_31.floortrigger:setTriggeredByParty(true)
floor_trigger_31.floortrigger:setTriggeredByMonster(true)
floor_trigger_31.floortrigger:setTriggeredByItem(true)
floor_trigger_31.floortrigger:setTriggeredByDigging(false)
floor_trigger_31.floortrigger:setDisableSelf(false)
spawn("mine_ceiling_shaft",27,22,3,0,"mine_ceiling_shaft_17")
spawn("mine_counterweight_platform",27,22,2,0,"passage_platform")
spawn("mine_counterweight_chains",27,21,1,1,"passage_counterweight")
spawn("script_entity",26,21,1,0,"passage_script")
passage_script.script:setSource("passage_open = false\
moving_to = 0\
moving_by = 0\
\
function leverTriggered()\
\9if canLift() then\
\9\9if passage_open then\
\9\9\9moving_to = 0\
\9\9\9moving_by = -0.02\
\9\9else\
\9\9\9moving_to = 1\
\9\9\9moving_by = 0.02\9\9\9\
\9\9end\
\9\9passage_open = not passage_open\
\9\9passage_timer.timer:start()\
\9else\
\9\9playSound(\"gate_lock\")\
\9end\9\9\
end\
\
function canLift()\
\9return passage_plate_1.floortrigger:isActivated() or passage_plate_2.floortrigger:isActivated()\
end\
\
function doMove()\
\9local platform = passage_platform\
\9local counterweight = passage_counterweight\
\9\
\9if (platform.elevation <= moving_to and moving_by < 0) or (platform.elevation >= moving_to and moving_by > 0) then\9\9\9\
\9\9passage_timer.timer:stop()\9\9\
\9\9helper.script.setElevation(platform, moving_to)\
\9\9if moving_to == 1 then\
\9\9\9helper.script.setElevation(counterweight, 0 )\
\9\9else\
\9\9\9helper.script.setElevation(counterweight, 1 )\
\9\9end\
\9else\
\9\9helper.script.setElevation(platform, platform.elevation + moving_by)\
\9\9helper.script.setElevation(counterweight, counterweight.elevation - moving_by)\
\9end\9\
end")
spawn("mine_pressure_plate",26,22,0,0,"passage_plate_1")
passage_plate_1.floortrigger:setTriggeredByParty(true)
passage_plate_1.floortrigger:setTriggeredByMonster(true)
passage_plate_1.floortrigger:setTriggeredByItem(true)
passage_plate_1.floortrigger:setTriggeredByDigging(false)
passage_plate_1.floortrigger:setDisableSelf(false)
spawn("timer",28,21,0,0,"passage_timer")
passage_timer.timer:setTimerInterval(0.1)
passage_timer.timer:setDisableSelf(false)
passage_timer.timer:setTriggerOnStart(false)
passage_timer.timer:setCurrentLevelOnly(false)
passage_timer.timer:addConnector("onActivate", "passage_script", "doMove")
passage_timer.timer:disable()
spawn("mine_lever",29,22,1,0,"mine_lever_7")
mine_lever_7.lever:setDisableSelf(false)
mine_lever_7.lever:addConnector("onToggle", "passage_script", "leverTriggered")
spawn("mine_lever",25,22,3,0,"mine_lever_8")
mine_lever_8.lever:setDisableSelf(false)
mine_lever_8.lever:addConnector("onToggle", "passage_script", "leverTriggered")
spawn("mine_wooden_support",29,22,1,0,"mine_wooden_support_1")
spawn("mine_wooden_support",25,22,3,0,"mine_wooden_support_2")
spawn("invisible_rocky_wall",27,21,3,0,"invisible_rocky_wall_11")

--- level 6 ---

newMap{
	name = "Blue Lagoon",
	width = 32,
	height = 32,
	levelCoord = {1,0,0},
	ambientTrack = "forest",
	tiles = {
		"forest_hedge",
		"forest_trees",
		"forest_underwater",
		"swamp_ground",
		"swamp_ground2",
		"swamp_trees",
		"swamp_trees_saplings",
	}
}

loadLayer("floor_elevation", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,-1,-1,0,0,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,0,0,1,1,1,1,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,0,0,1,2,2,3,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,0,1,1,1,3,1,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,0,1,0,0,0,0,-1,-1,-1,-1,0,0,0,1,0,1,1,0,0,0,
	0,0,0,0,0,0,0,-1,-1,-1,0,0,0,1,1,1,0,0,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,-1,-1,0,0,0,1,1,1,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,-1,-1,-1,-1,0,0,0,0,0,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("ceiling_elevation", {
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
	7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
})

loadLayer("heightmap", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("reflection", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("tiles", {
	1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,2,2,4,2,2,2,2,2,2,2,2,2,2,2,2,2,6,4,6,2,2,5,2,2,1,1,1,1,1,1,1,
	4,4,4,4,2,2,2,2,2,2,2,5,5,5,5,5,5,6,4,5,5,5,5,5,2,2,2,2,1,1,1,1,
	1,2,2,5,2,6,6,2,2,5,5,5,5,5,5,5,4,4,4,4,5,5,5,5,5,5,5,2,2,1,1,1,
	1,2,2,5,5,5,5,5,5,5,5,5,4,3,3,3,3,3,3,5,5,5,5,5,5,5,5,5,2,2,1,1,
	1,2,2,5,5,5,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,2,2,1,
	1,2,5,5,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,2,2,1,
	1,2,5,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,2,2,1,
	1,5,5,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,4,2,1,
	1,2,5,5,5,5,5,3,3,3,5,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,5,5,2,1,
	1,6,5,5,5,5,5,3,3,3,5,5,3,3,3,3,3,3,3,3,3,3,5,5,5,4,5,5,5,6,2,1,
	1,6,5,2,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,4,4,4,4,6,2,1,
	1,2,2,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,4,4,4,4,6,2,1,
	1,2,2,2,2,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,4,4,4,5,6,2,1,
	1,2,5,2,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,4,4,4,4,5,2,1,
	1,2,5,5,5,2,5,3,3,3,5,5,3,3,5,4,3,3,3,3,3,5,5,5,5,5,4,4,5,5,5,1,
	1,2,2,2,2,2,5,3,3,3,5,5,5,5,5,5,5,3,3,3,3,3,5,5,5,5,5,5,5,5,5,1,
	1,2,5,5,5,5,5,3,3,3,5,4,4,4,5,5,5,5,3,3,3,3,5,5,5,5,5,5,5,5,5,1,
	1,2,5,2,5,2,6,3,3,3,5,4,4,4,5,5,5,5,3,3,3,3,5,5,5,5,5,5,5,5,5,1,
	1,2,5,2,5,2,5,3,3,3,5,5,4,5,5,5,5,5,3,3,3,3,5,5,5,5,5,5,5,5,5,1,
	1,2,5,2,5,2,5,3,3,3,5,5,4,5,5,5,5,5,3,3,3,3,5,5,5,5,5,5,5,5,5,1,
	1,2,5,5,5,5,5,3,3,3,5,4,4,5,5,4,5,5,3,3,3,3,5,5,5,5,5,5,5,5,2,1,
	1,2,5,5,5,5,5,5,3,3,5,5,4,5,4,5,5,5,3,3,3,5,5,5,5,5,5,5,5,5,5,1,
	1,6,5,5,5,5,5,5,3,3,3,3,5,5,5,5,5,3,3,3,3,5,5,5,5,2,2,2,5,2,2,1,
	1,6,5,5,5,5,5,5,5,5,2,3,3,3,3,3,3,3,5,5,5,5,5,2,5,5,5,2,6,2,1,1,
	1,6,2,5,5,5,5,5,5,5,2,2,5,4,4,5,2,5,5,5,5,5,2,2,5,5,5,2,6,2,1,1,
	1,2,2,5,5,5,5,5,5,5,5,5,5,7,7,5,5,2,5,2,5,5,2,5,5,5,5,2,5,2,1,1,
	1,2,2,2,5,5,5,5,5,5,5,5,5,5,2,5,5,5,5,5,5,5,2,5,5,2,2,2,2,2,1,1,
	1,2,2,2,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,2,5,5,5,5,2,2,2,2,1,1,1,
	1,2,2,2,6,2,2,2,2,2,2,5,2,2,2,2,2,6,6,6,6,2,2,2,2,2,2,2,1,1,1,1,
	1,2,2,2,2,2,2,2,2,2,2,2,6,6,6,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

spawn("forest_day_sky",6,0,1,0,"lagoon_sky")
spawn("water_surface",8,0,3,0,"water_surface_2")
spawn("forest_heightmap",7,0,0,0,"forest_heightmap_3")
spawn("swamp_dead_tree",22,17,1,0,"swamp_dead_tree_2")
spawn("swamp_dead_tree",19,4,1,0,"swamp_dead_tree_4")
spawn("forest_oak_cluster",3,12,1,0,"forest_oak_cluster_3")
spawn("forest_oak_cluster",4,19,1,0,"forest_oak_cluster_4")
spawn("forest_oak_cluster",8,24,3,0,"forest_oak_cluster_6")
spawn("forest_oak_cluster",5,24,0,0,"forest_oak_cluster_7")
spawn("forest_oak_cluster",3,7,2,0,"forest_oak_cluster_8")
spawn("forest_oak_cluster",6,23,0,0,"forest_oak_cluster_9")
spawn("forest_oak_cluster",11,4,3,0,"forest_oak_cluster_10")
spawn("forest_oak_cluster",23,6,2,0,"forest_oak_cluster_11")
spawn("forest_oak_cluster",28,13,1,0,"forest_oak_cluster_12")
spawn("forest_oak_cluster",27,20,1,1,"forest_oak_cluster_13")
spawn("forest_oak_cluster",23,27,3,0,"forest_oak_cluster_14")
spawn("forest_oak_cluster",14,28,3,0,"forest_oak_cluster_15")
spawn("forest_oak_cluster",9,28,0,0,"forest_oak_cluster_16")
spawn("forest_oak_cluster",24,7,1,0,"forest_oak_cluster_17")
spawn("forest_oak_cluster",22,7,0,0,"forest_oak_cluster_18")
spawn("forest_oak_stump",11,16,2,0,"forest_oak_stump_1")
spawn("forest_oak_stump",5,9,2,0,"forest_oak_stump_2")
spawn("forest_oak_stump",25,13,2,0,"forest_oak_stump_3")
spawn("forest_oak_stump",25,23,0,0,"forest_oak_stump_4")
spawn("forest_oak_stump",19,26,2,0,"forest_oak_stump_5")
spawn("forest_oak_stump",12,27,3,0,"forest_oak_stump_6")
spawn("forest_old_oak",11,2,1,0,"forest_old_oak_1")
spawn("forest_old_oak",28,18,0,2,"forest_old_oak_2")
spawn("swamp_oak",10,25,3,0,"swamp_oak_1")
spawn("swamp_oak",6,13,1,0,"swamp_oak_3")
spawn("swamp_oak_cluster",6,27,0,0,"swamp_oak_cluster_1")
spawn("swamp_oak_cluster",5,22,0,0,"swamp_oak_cluster_2")
spawn("swamp_oak_cluster",21,25,2,0,"swamp_oak_cluster_3")
spawn("swamp_oak_cluster",22,5,3,0,"swamp_oak_cluster_5")
spawn("swamp_oak_cluster",8,5,2,0,"swamp_oak_cluster_6")
spawn("swamp_oak_cluster",24,14,2,0,"swamp_oak_cluster_7")
spawn("swamp_oak_cluster",24,23,0,0,"swamp_oak_cluster_8")
spawn("swamp_oak_cluster",25,25,1,0,"swamp_oak_cluster_9")
spawn("swamp_oak_cluster",25,17,2,0,"swamp_oak_cluster_10")
spawn("swamp_oak_cluster",4,10,1,0,"swamp_oak_cluster_11")
spawn("swamp_oak_cluster",15,2,3,0,"swamp_oak_cluster_12")
spawn("swamp_oak_cluster_polypore",3,10,3,0,"swamp_oak_cluster_polypore_1")
spawn("swamp_oak_cluster_polypore",3,8,0,0,"swamp_oak_cluster_polypore_2")
spawn("swamp_oak_cluster_polypore",3,22,2,0,"swamp_oak_cluster_polypore_3")
spawn("swamp_oak_cluster_polypore",11,19,3,0,"swamp_oak_cluster_polypore_4")
spawn("forest_spruce_01",6,4,0,0,"forest_spruce_01_1")
spawn("forest_spruce_01",13,3,0,0,"forest_spruce_01_2")
spawn("forest_spruce_01",23,2,0,0,"forest_spruce_01_3")
spawn("forest_spruce_01",28,15,3,0,"forest_spruce_01_4")
spawn("forest_spruce_01",21,12,1,0,"forest_spruce_01_5")
spawn("forest_spruce_01",23,10,1,0,"forest_spruce_01_6")
spawn("forest_spruce_01",16,26,3,0,"forest_spruce_01_7")
spawn("forest_spruce_01",20,27,3,0,"forest_spruce_01_8")
spawn("forest_spruce_01",24,20,0,0,"forest_spruce_01_9")
spawn("forest_spruce_01",23,22,1,0,"forest_spruce_01_10")
spawn("forest_spruce_01",22,14,2,0,"forest_spruce_01_11")
spawn("forest_spruce_01",26,10,3,0,"forest_spruce_01_12")
spawn("forest_spruce_01",22,8,2,0,"forest_spruce_01_13")
spawn("forest_spruce_01",22,1,1,0,"forest_spruce_01_14")
spawn("forest_spruce_01",5,5,1,0,"forest_spruce_01_15")
spawn("forest_spruce_01",3,5,0,0,"forest_spruce_01_16")
spawn("forest_spruce_01",11,29,1,0,"forest_spruce_01_17")
spawn("forest_spruce_01",8,26,2,0,"forest_spruce_01_18")
spawn("forest_spruce_01",17,28,3,0,"forest_spruce_01_19")
spawn("forest_spruce_01",18,28,3,0,"forest_spruce_01_20")
spawn("forest_spruce_01",26,26,0,0,"forest_spruce_01_21")
spawn("forest_spruce_01",23,13,0,0,"forest_spruce_01_22")
spawn("forest_spruce_01",28,10,1,0,"forest_spruce_01_23")
spawn("forest_spruce_sapling_02",10,4,2,0,"forest_spruce_sapling_02_1")
spawn("forest_spruce_sapling_02",21,7,0,0,"forest_spruce_sapling_02_3")
spawn("forest_spruce_sapling_02",16,2,0,0,"forest_spruce_sapling_02_4")
spawn("forest_spruce_sapling_02",21,3,1,0,"forest_spruce_sapling_02_5")
spawn("forest_spruce_sapling_02",21,22,1,0,"forest_spruce_sapling_02_6")
spawn("forest_spruce_sapling_02",6,24,2,0,"forest_spruce_sapling_02_7")
spawn("forest_spruce_sapling_02",23,23,3,0,"forest_spruce_sapling_02_8")
spawn("forest_spruce_sapling_02",27,22,2,0,"forest_spruce_sapling_02_9")
spawn("forest_spruce_sapling_02",4,20,1,0,"forest_spruce_sapling_02_10")
spawn("forest_spruce_sapling_02",6,10,0,0,"forest_spruce_sapling_02_11")
spawn("forest_spruce_sapling_02",5,7,1,0,"forest_spruce_sapling_02_12")
spawn("forest_spruce_sapling_pillar",19,25,2,0,"forest_spruce_sapling_pillar_1")
spawn("forest_spruce_sapling_pillar",5,12,3,0,"forest_spruce_sapling_pillar_2")
spawn("forest_spruce_small_01",7,22,1,0,"forest_spruce_small_01_1")
spawn("forest_spruce_small_01",4,25,1,0,"forest_spruce_small_01_2")
spawn("forest_spruce_small_01",6,19,1,0,"forest_spruce_small_01_3")
spawn("forest_spruce_small_01",25,21,1,0,"forest_spruce_small_01_4")
spawn("forest_spruce_small_01",27,11,3,0,"forest_spruce_small_01_5")
spawn("forest_spruce_small_01",28,20,1,1,"forest_spruce_small_01_6")
spawn("beach_rock_3x2",12,7,3,-1,"beach_rock_3x2_4")
spawn("ladder",7,11,3,-1,"ladder_6")
spawn("ladder",21,19,1,-1,"ladder_7")
spawn("ladder",15,13,1,-1,"ladder_8")
spawn("forest_exit_rock_tunnel",18,0,0,0,"forest_exit_rock_tunnel_1")
spawn("forest_exit",0,2,3,0,"forest_exit_2")
spawn("beach_rock_arch_small",15,19,3,0,"beach_rock_arch_small_2")
spawn("invisible_rocky_wall",13,19,2,0,"invisible_rocky_wall_41")
spawn("beach_rock_1x1",14,20,1,1,"beach_rock_1x1_9")
spawn("dungeon_stairs_down",14,19,2,0,"dungeon_stairs_down_4")
spawn("script_entity",10,0,1,0,"lagoon_script")
lagoon_script.script:setSource("function setFog()\
\9local v = vec(0.1, 0.2, 2.55, 0)\
\9local v2 = vec(0.2, 0.3, 3.55, 0)\
\9local v3 = vec(0.1, 0.2, 2.55, 0)\
\9if true then\
\9\9lagoon_fog.fogparticles:setColor1(v)\
\9\9lagoon_fog.fogparticles:setColor2(v2)\
\9\9lagoon_fog.fogparticles:setColor3(v3)\
\9end\9\
end")
spawn("timer",11,0,3,0,"lagoon_timer")
lagoon_timer.timer:setTimerInterval(0.1)
lagoon_timer.timer:setDisableSelf(true)
lagoon_timer.timer:setTriggerOnStart(false)
lagoon_timer.timer:setCurrentLevelOnly(false)
lagoon_timer.timer:addConnector("onActivate", "lagoon_script", "setFog")
spawn("swamp_dungeon_fog",5,0,2,0,"lagoon_fog")
lagoon_fog.fogparams:disable()
spawn("forest_bridge",16,14,0,0,"forest_bridge_76")
spawn("forest_bridge",16,13,0,0,"forest_bridge_77")
spawn("forest_bridge",16,12,2,0,"forest_bridge_78")
spawn("forest_bridge",16,11,0,0,"forest_bridge_79")
spawn("forest_bridge",16,15,0,0,"forest_bridge_80")
spawn("forest_bridge_middle_pillar",16,11,2,0,"forest_bridge_middle_pillar_1")
spawn("forest_bridge_middle_pillar",16,12,2,0,"forest_bridge_middle_pillar_2")
spawn("forest_bridge_middle_pillar",16,13,2,0,"forest_bridge_middle_pillar_3")
spawn("mine_support_pillar_01",16,11,0,0,"mine_support_pillar_01_62")
spawn("mine_support_pillar_lantern_01",17,11,3,0,"mine_support_pillar_lantern_01_8")
spawn("mine_support_pillar_01",16,11,0,-1,"mine_support_pillar_01_63")
spawn("mine_support_pillar_01",17,11,0,-1,"mine_support_pillar_01_68")
spawn("mine_support_pillar_01",17,13,0,-1,"mine_support_pillar_01_69")
spawn("mine_support_pillar_01",16,13,0,-1,"mine_support_pillar_01_70")
spawn("dungeon_pillar",14,19,2,0,"dungeon_pillar_100")
spawn("dungeon_pillar",15,19,2,0,"dungeon_pillar_109")
spawn("dungeon_wall_01",13,19,1,0,"dungeon_wall_01_50")
spawn("dungeon_wall_01",15,19,3,0,"dungeon_wall_01_51")
spawn("beach_cattail_wall",11,17,0,0,"beach_cattail_wall_7")
spawn("beach_cattail_wall",12,17,0,0,"beach_cattail_wall_8")
spawn("beach_cattail_wall",13,17,0,0,"beach_cattail_wall_9")
spawn("beach_cattail_wall",11,17,3,0,"beach_cattail_wall_10")
spawn("beach_cattail_wall",11,18,3,0,"beach_cattail_wall_11")
spawn("swamp_mushrooms_01",12,17,2,0,"swamp_mushrooms_01_1")
spawn("mine_support_wall_01",15,13,1,-1,"mine_support_wall_01_98")
spawn("mine_support_pillar_01",16,14,0,-1,"mine_support_pillar_01_72")
spawn("mine_support_pillar_01",17,14,0,-1,"mine_support_pillar_01_73")
spawn("beach_rock_arch",14,23,2,0,"beach_rock_arch_2")
spawn("silver_roach",16,11,3,0,"silver_roach_3")
spawn("small_fish",18,10,3,-1,"small_fish_1")
spawn("small_fish",13,14,3,-1,"small_fish_2")
spawn("small_fish",17,14,3,-1,"small_fish_3")
spawn("small_fish",7,7,3,-1,"small_fish_4")
spawn("small_fish",13,5,3,-1,"small_fish_5")
spawn("small_fish",17,7,3,-1,"small_fish_6")
spawn("small_fish",15,8,3,-1,"small_fish_7")
spawn("small_fish",20,19,3,-1,"small_fish_8")
spawn("small_fish",8,19,3,-1,"small_fish_9")
spawn("small_fish",9,14,3,-1,"small_fish_10")
spawn("small_fish",10,23,3,-1,"small_fish_11")
spawn("small_fish",16,24,3,-1,"small_fish_12")
spawn("forest_seaweed_floor_01",16,14,3,-1,"forest_seaweed_floor_01_5")
spawn("forest_seaweed_floor_01",15,14,3,-1,"forest_seaweed_floor_01_6")
spawn("forest_seaweed_floor_02",11,11,1,-1,"forest_seaweed_floor_02_3")
spawn("forest_seaweed_floor_02",13,11,1,-1,"forest_seaweed_floor_02_4")
spawn("forest_seaweed_pillar",13,11,2,-1,"forest_seaweed_pillar_13")
spawn("forest_seaweed_pillar",10,12,1,-1,"forest_seaweed_pillar_14")
spawn("forest_seaweed_pillar",14,8,2,-1,"forest_seaweed_pillar_15")
spawn("forest_seaweed_pillar",19,8,1,-1,"forest_seaweed_pillar_16")
spawn("forest_seaweed_pillar",9,8,0,-1,"forest_seaweed_pillar_17")
spawn("forest_seaweed_pillar",19,11,2,-1,"forest_seaweed_pillar_18")
spawn("forest_seaweed_pillar",17,6,2,-1,"forest_seaweed_pillar_19")
spawn("forest_seaweed_pillar",20,18,0,-1,"forest_seaweed_pillar_20")
spawn("forest_seaweed_pillar",8,16,0,-1,"forest_seaweed_pillar_21")
spawn("forest_seaweed_pillar",14,11,0,-1,"forest_seaweed_pillar_22")
spawn("forest_seaweed_pillar",19,22,2,-1,"forest_seaweed_pillar_23")
spawn("forest_seaweed_pillar",9,21,2,-1,"forest_seaweed_pillar_24")
spawn("forest_seaweed_pillar",14,10,1,-1,"forest_seaweed_pillar_25")
spawn("forest_seaweed_wall_decoration_01",20,12,1,-1,"forest_seaweed_wall_decoration_01_2")
spawn("forest_seaweed_wall_decoration_01",22,9,3,-1,"forest_seaweed_wall_decoration_01_3")
spawn("forest_seaweed_wall_decoration_01",21,7,3,-1,"forest_seaweed_wall_decoration_01_4")
spawn("forest_seaweed_wall_decoration_01",16,4,0,-1,"forest_seaweed_wall_decoration_01_5")
spawn("forest_seaweed_wall_decoration_01",14,4,0,-1,"forest_seaweed_wall_decoration_01_6")
spawn("forest_seaweed_wall_decoration_02",9,6,0,-1,"forest_seaweed_wall_decoration_02_1")
spawn("forest_seaweed_floor_01",16,15,3,-1,"forest_seaweed_floor_01_7")
spawn("forest_seaweed_floor_01",17,16,3,-1,"forest_seaweed_floor_01_8")
spawn("forest_seaweed_floor_01",17,15,3,-1,"forest_seaweed_floor_01_9")
spawn("forest_seaweed_floor_01",18,16,3,-1,"forest_seaweed_floor_01_10")
spawn("forest_seaweed_floor_01",18,17,3,-1,"forest_seaweed_floor_01_11")
spawn("forest_seaweed_floor_01",7,17,3,-1,"forest_seaweed_floor_01_12")
spawn("forest_seaweed_floor_01",13,14,3,-1,"forest_seaweed_floor_01_13")
spawn("forest_seaweed_floor_01",13,15,3,-1,"forest_seaweed_floor_01_14")
spawn("forest_seaweed_floor_01",12,15,3,-1,"forest_seaweed_floor_01_15")
spawn("forest_seaweed_floor_01",12,14,3,-1,"forest_seaweed_floor_01_16")
spawn("forest_seaweed_floor_01",11,14,3,-1,"forest_seaweed_floor_01_17")
spawn("forest_seaweed_floor_01",10,14,3,-1,"forest_seaweed_floor_01_18")
spawn("forest_seaweed_floor_02",9,13,1,-1,"forest_seaweed_floor_02_5")
spawn("forest_seaweed_floor_02",9,17,1,-1,"forest_seaweed_floor_02_6")
spawn("forest_seaweed_floor_02",8,7,1,-1,"forest_seaweed_floor_02_7")
spawn("forest_seaweed_floor_02",8,18,1,-1,"forest_seaweed_floor_02_8")
spawn("forest_seaweed_floor_02",7,13,1,-1,"forest_seaweed_floor_02_9")
spawn("forest_seaweed_floor_02",7,12,1,-1,"forest_seaweed_floor_02_10")
spawn("forest_seaweed_floor_02",7,14,1,-1,"forest_seaweed_floor_02_11")
spawn("forest_seaweed_floor_02",9,11,1,-1,"forest_seaweed_floor_02_12")
spawn("forest_seaweed_floor_02",8,11,1,-1,"forest_seaweed_floor_02_13")
spawn("forest_seaweed_floor_02",18,10,1,-1,"forest_seaweed_floor_02_14")
spawn("forest_seaweed_floor_02",16,4,1,-1,"forest_seaweed_floor_02_16")
spawn("forest_seaweed_floor_02",17,4,1,-1,"forest_seaweed_floor_02_17")
spawn("forest_seaweed_floor_02",20,18,1,-1,"forest_seaweed_floor_02_18")
spawn("forest_seaweed_floor_02",20,19,1,-1,"forest_seaweed_floor_02_19")
spawn("forest_seaweed_pillar",15,10,2,-1,"forest_seaweed_pillar_26")
spawn("forest_seaweed_pillar",17,10,0,-1,"forest_seaweed_pillar_27")
spawn("forest_seaweed_pillar",13,7,0,-1,"forest_seaweed_pillar_28")
spawn("forest_seaweed_pillar",15,9,1,-1,"forest_seaweed_pillar_29")
spawn("forest_seaweed_floor_02",17,8,3,-1,"forest_seaweed_floor_02_20")
spawn("forest_border_rocks_01",14,18,3,0,"forest_border_rocks_01_2")
spawn("beach_rock_1x1",13,22,3,1,"beach_rock_1x1_12")
spawn("beach_boulder",13,23,2,0,"beach_boulder_8")
spawn("swamp_dead_tree",11,15,2,0,"swamp_dead_tree_3")
spawn("forest_old_oak",14,15,3,0,"forest_old_oak_3")
spawn("forest_seaweed_wall_decoration_02",12,16,2,-1,"forest_seaweed_wall_decoration_02_2")
spawn("forest_seaweed_wall_decoration_01",13,16,2,-1,"forest_seaweed_wall_decoration_01_7")
spawn("forest_pillar_01",15,22,0,1,"forest_pillar_01_2")
spawn("dungeon_pillar",15,16,2,0,"dungeon_pillar_119")
spawn("dungeon_pillar",16,16,2,0,"dungeon_pillar_120")
spawn("dungeon_pillar_lantern_01",16,16,3,0,"dungeon_pillar_lantern_01_4")
spawn("forest_bridge",15,15,2,1,"forest_bridge_83")
spawn("mine_support_pillar_01",15,15,0,0,"mine_support_pillar_01_71")
spawn("mine_support_pillar_01",16,15,3,0,"mine_support_pillar_01_74")
spawn("beach_rock_3x1",15,21,0,0,"beach_rock_3x1_9")
spawn("invisible_rocky_wall",15,20,2,0,"invisible_rocky_wall_48")
spawn("invisible_rocky_wall",15,21,2,0,"invisible_rocky_wall_49")
spawn("forest_border_rocks_01",12,18,2,0,"forest_border_rocks_01_3")
spawn("forest_border_rocks_01",11,18,2,0,"forest_border_rocks_01_4")
spawn("forest_stairs_down",12,9,3,-1,"forest_stairs_down_7")
forest_stairs_down_7.stairs:setTeleportTarget(7,10,9,-1)
spawn("forest_plant_cluster_01",14,9,3,-1,"forest_plant_cluster_01_1")
spawn("forest_plant_cluster_01",14,8,2,-1,"forest_plant_cluster_01_2")
spawn("forest_seaweed_floor_01",14,9,3,-1,"forest_seaweed_floor_01_19")
spawn("forest_seaweed_floor_01",14,8,3,-1,"forest_seaweed_floor_01_20")
spawn("forest_plant_cluster_01",14,5,3,-1,"forest_plant_cluster_01_3")
spawn("forest_plant_cluster_01",15,5,3,-1,"forest_plant_cluster_01_4")
spawn("forest_plant_cluster_01",16,5,3,-1,"forest_plant_cluster_01_5")
spawn("forest_plant_cluster_01",16,6,3,-1,"forest_plant_cluster_01_6")
spawn("forest_plant_cluster_01",16,7,3,-1,"forest_plant_cluster_01_7")
spawn("forest_seaweed_floor_01",16,7,3,-1,"forest_seaweed_floor_01_21")
spawn("forest_seaweed_floor_01",16,6,3,-1,"forest_seaweed_floor_01_22")
spawn("forest_seaweed_floor_01",16,5,3,-1,"forest_seaweed_floor_01_23")
spawn("forest_seaweed_floor_01",15,5,3,-1,"forest_seaweed_floor_01_24")
spawn("forest_seaweed_floor_01",14,5,3,-1,"forest_seaweed_floor_01_25")
spawn("forest_seaweed_floor_01",14,7,3,-1,"forest_seaweed_floor_01_26")
spawn("forest_seaweed_floor_01",9,10,3,-1,"forest_seaweed_floor_01_27")
spawn("forest_plant_cluster_01",10,7,2,-1,"forest_plant_cluster_01_8")
spawn("forest_plant_cluster_01",11,7,2,-1,"forest_plant_cluster_01_9")
spawn("forest_plant_cluster_01",12,7,2,-1,"forest_plant_cluster_01_10")
spawn("forest_plant_cluster_01",13,7,2,-1,"forest_plant_cluster_01_11")
spawn("forest_plant_cluster_01",14,7,2,-1,"forest_plant_cluster_01_12")
spawn("forest_seaweed_floor_01",13,7,3,-1,"forest_seaweed_floor_01_28")
spawn("forest_seaweed_floor_01",11,7,3,-1,"forest_seaweed_floor_01_29")
spawn("forest_seaweed_floor_01",10,7,3,-1,"forest_seaweed_floor_01_30")
spawn("forest_seaweed_pillar",11,7,2,-1,"forest_seaweed_pillar_30")
spawn("forest_seaweed_pillar",10,8,2,-1,"forest_seaweed_pillar_31")
spawn("invisible_rocky_wall",10,8,0,-1,"invisible_rocky_wall_50")
spawn("beach_rock_2x1",12,10,3,-1,"beach_rock_2x1_6")
spawn("forest_falling_leaves",18,2,2,0,"forest_falling_leaves_1")
spawn("forest_falling_leaves",17,3,0,0,"forest_falling_leaves_2")
spawn("forest_falling_leaves",19,3,2,0,"forest_falling_leaves_3")
spawn("forest_falling_leaves",1,8,0,0,"forest_falling_leaves_4")
spawn("forest_falling_leaves",2,8,3,0,"forest_falling_leaves_5")
spawn("forest_falling_leaves",4,9,2,0,"forest_falling_leaves_6")
spawn("forest_falling_leaves",3,9,2,0,"forest_falling_leaves_7")
spawn("beach_rock_1x1_low",11,9,0,0,"beach_rock_1x1_low_2")
spawn("beach_boulder",12,9,3,0,"beach_boulder_9")
spawn("swamp_oak_cluster",10,9,2,0,"swamp_oak_cluster_13")
spawn("swamp_oak_cluster_polypore",11,10,2,0,"swamp_oak_cluster_polypore_5")
spawn("swamp_mushrooms_01",10,9,3,0,"swamp_mushrooms_01_3")
spawn("swamp_heather",10,10,2,0,"swamp_heather_2")
spawn("swamp_dead_tree",10,10,3,0,"swamp_dead_tree_5")
spawn("beach_rock_spire_pillar",12,10,1,0,"beach_rock_spire_pillar_3")
spawn("invisible_rocky_wall",12,8,0,-1,"invisible_rocky_wall_51")
spawn("forest_seaweed_floor_01",19,6,3,-1,"forest_seaweed_floor_01_32")
spawn("forest_seaweed_floor_01",19,7,3,-1,"forest_seaweed_floor_01_33")
spawn("forest_seaweed_floor_01",19,8,3,-1,"forest_seaweed_floor_01_34")
spawn("forest_seaweed_floor_01",19,9,3,-1,"forest_seaweed_floor_01_35")
spawn("forest_seaweed_floor_01",19,11,3,-1,"forest_seaweed_floor_01_36")
spawn("forest_seaweed_floor_01",19,12,3,-1,"forest_seaweed_floor_01_37")
spawn("forest_seaweed_floor_01",19,13,3,-1,"forest_seaweed_floor_01_38")
spawn("forest_underwater_bubbles",14,8,2,-1,"forest_underwater_bubbles_1")
spawn("forest_seaweed_floor_01",19,15,3,-1,"forest_seaweed_floor_01_39")
spawn("forest_seaweed_floor_01",18,15,3,-1,"forest_seaweed_floor_01_40")
spawn("forest_seaweed_floor_01",14,14,3,-1,"forest_seaweed_floor_01_41")
spawn("forest_seaweed_floor_01",13,12,3,-1,"forest_seaweed_floor_01_42")
spawn("forest_seaweed_floor_01",14,10,3,-1,"forest_seaweed_floor_01_43")
spawn("forest_plant_cluster_01",8,13,3,-1,"forest_plant_cluster_01_13")
spawn("forest_plant_cluster_01",13,12,3,-1,"forest_plant_cluster_01_14")
spawn("forest_plant_cluster_01",14,10,3,-1,"forest_plant_cluster_01_15")
spawn("forest_plant_cluster_01",19,15,3,-1,"forest_plant_cluster_01_16")
spawn("forest_plant_cluster_01",18,15,3,-1,"forest_plant_cluster_01_17")
spawn("forest_plant_cluster_01",19,13,3,-1,"forest_plant_cluster_01_18")
spawn("forest_plant_cluster_01",18,11,3,-1,"forest_plant_cluster_01_19")
spawn("forest_plant_cluster_01",19,18,3,-1,"forest_plant_cluster_01_20")
spawn("forest_plant_cluster_01",19,9,3,-1,"forest_plant_cluster_01_21")
spawn("forest_plant_cluster_01",19,8,3,-1,"forest_plant_cluster_01_22")
spawn("forest_plant_cluster_01",19,7,3,-1,"forest_plant_cluster_01_23")
spawn("forest_plant_cluster_01",19,21,3,-1,"forest_plant_cluster_01_24")
spawn("forest_plant_cluster_01",17,6,3,-1,"forest_plant_cluster_01_25")
spawn("forest_seaweed_pillar",20,12,2,-1,"forest_seaweed_pillar_32")
spawn("forest_seaweed_pillar",20,9,2,-1,"forest_seaweed_pillar_33")
spawn("forest_seaweed_pillar",20,7,2,-1,"forest_seaweed_pillar_34")
spawn("forest_seaweed_pillar",19,15,2,-1,"forest_seaweed_pillar_35")
spawn("forest_seaweed_pillar",16,7,2,-1,"forest_seaweed_pillar_36")
spawn("forest_seaweed_pillar",15,5,2,-1,"forest_seaweed_pillar_37")
spawn("forest_seaweed_pillar",15,6,2,-1,"forest_seaweed_pillar_38")
spawn("forest_seaweed_pillar",13,12,2,-1,"forest_seaweed_pillar_39")
spawn("forest_seaweed_pillar",14,13,2,-1,"forest_seaweed_pillar_40")
spawn("forest_underwater_bubbles",16,5,2,-1,"forest_underwater_bubbles_2")
spawn("forest_underwater_bubbles",19,8,2,-1,"forest_underwater_bubbles_3")
spawn("forest_underwater_bubbles",18,11,2,-1,"forest_underwater_bubbles_4")
spawn("forest_underwater_bubbles",11,12,2,-1,"forest_underwater_bubbles_5")
spawn("beach_cattail_blocker",13,10,3,-1,"beach_cattail_blocker_63")
spawn("beach_cattail_blocker",8,21,0,-1,"beach_cattail_blocker_64")
spawn("beach_cattail_blocker",19,17,3,-1,"beach_cattail_blocker_65")
spawn("beach_cattail_blocker",8,15,2,-1,"beach_cattail_blocker_66")
spawn("beach_cattail_blocker",7,19,2,-1,"beach_cattail_blocker_67")
spawn("beach_cattail_blocker",15,9,2,-1,"beach_cattail_blocker_68")
spawn("beach_cattail_blocker",17,9,2,-1,"beach_cattail_blocker_69")
spawn("beach_cattail_blocker",18,9,2,-1,"beach_cattail_blocker_70")
spawn("beach_cattail_blocker",8,14,0,-1,"beach_cattail_blocker_71")
spawn("beach_cattail_blocker",8,9,0,-1,"beach_cattail_blocker_72")
spawn("beach_cattail_blocker",19,14,0,-1,"beach_cattail_blocker_74")
spawn("beach_cattail_blocker",19,19,0,-1,"beach_cattail_blocker_75")
spawn("beach_cattail_blocker",10,12,0,-1,"beach_cattail_blocker_76")
spawn("beach_cattail_blocker",19,20,0,-1,"beach_cattail_blocker_77")
spawn("forest_seaweed_floor_01",17,9,3,-1,"forest_seaweed_floor_01_44")
spawn("forest_seaweed_floor_01",18,9,3,-1,"forest_seaweed_floor_01_45")
spawn("forest_seaweed_floor_01",15,9,3,-1,"forest_seaweed_floor_01_46")
spawn("beach_cattail_blocker",19,16,2,-1,"beach_cattail_blocker_78")
spawn("forest_seaweed_floor_01",16,9,3,-1,"forest_seaweed_floor_01_47")
spawn("forest_seaweed_floor_01",13,10,3,-1,"forest_seaweed_floor_01_48")
spawn("forest_plant_cluster_01",16,8,3,-1,"forest_plant_cluster_01_26")
spawn("forest_plant_cluster_01",16,9,3,-1,"forest_plant_cluster_01_27")
spawn("forest_seaweed_floor_01",16,8,3,-1,"forest_seaweed_floor_01_49")
spawn("forest_seaweed_floor_02",17,7,3,-1,"forest_seaweed_floor_02_21")
spawn("forest_seaweed_floor_02",18,7,3,-1,"forest_seaweed_floor_02_22")
spawn("forest_seaweed_floor_02",18,8,3,-1,"forest_seaweed_floor_02_23")
spawn("forest_seaweed_floor_02",18,4,3,-1,"forest_seaweed_floor_02_24")
spawn("forest_seaweed_floor_01",18,6,3,-1,"forest_seaweed_floor_01_50")
spawn("forest_seaweed_floor_02",18,5,3,-1,"forest_seaweed_floor_02_25")
spawn("forest_seaweed_floor_02",19,5,3,-1,"forest_seaweed_floor_02_26")
spawn("forest_seaweed_floor_02",20,6,3,-1,"forest_seaweed_floor_02_27")
spawn("forest_seaweed_floor_02",20,7,3,-1,"forest_seaweed_floor_02_28")
spawn("forest_seaweed_floor_02",20,8,3,-1,"forest_seaweed_floor_02_29")
spawn("forest_seaweed_floor_02",20,9,3,-1,"forest_seaweed_floor_02_30")
spawn("forest_seaweed_floor_02",20,10,3,-1,"forest_seaweed_floor_02_31")
spawn("forest_seaweed_floor_02",20,11,3,-1,"forest_seaweed_floor_02_32")
spawn("forest_seaweed_floor_02",20,12,3,-1,"forest_seaweed_floor_02_33")
spawn("forest_seaweed_floor_02",20,13,3,-1,"forest_seaweed_floor_02_34")
spawn("forest_seaweed_floor_02",20,14,3,-1,"forest_seaweed_floor_02_35")
spawn("forest_seaweed_floor_02",20,15,3,-1,"forest_seaweed_floor_02_36")
spawn("forest_seaweed_floor_02",15,4,3,-1,"forest_seaweed_floor_02_37")
spawn("forest_seaweed_floor_02",14,4,3,-1,"forest_seaweed_floor_02_38")
spawn("forest_seaweed_floor_02",13,4,3,-1,"forest_seaweed_floor_02_39")
spawn("forest_seaweed_floor_02",13,5,3,-1,"forest_seaweed_floor_02_40")
spawn("forest_seaweed_floor_02",13,6,3,-1,"forest_seaweed_floor_02_41")
spawn("forest_seaweed_floor_02",15,6,3,-1,"forest_seaweed_floor_02_42")
spawn("forest_seaweed_floor_01",12,12,3,-1,"forest_seaweed_floor_01_51")
spawn("forest_seaweed_floor_02",15,8,1,-1,"forest_seaweed_floor_02_43")
spawn("forest_seaweed_floor_02",15,7,1,-1,"forest_seaweed_floor_02_44")
spawn("forest_seaweed_floor_02",16,11,1,-1,"forest_seaweed_floor_02_45")
spawn("forest_seaweed_floor_02",16,12,1,-1,"forest_seaweed_floor_02_46")
spawn("forest_seaweed_floor_02",16,13,1,-1,"forest_seaweed_floor_02_47")
spawn("forest_seaweed_floor_02",15,13,1,-1,"forest_seaweed_floor_02_48")
spawn("forest_seaweed_floor_02",15,12,1,-1,"forest_seaweed_floor_02_49")
spawn("forest_seaweed_floor_02",15,11,1,-1,"forest_seaweed_floor_02_50")
spawn("forest_seaweed_floor_02",15,10,1,-1,"forest_seaweed_floor_02_51")
spawn("forest_seaweed_floor_02",16,10,1,-1,"forest_seaweed_floor_02_52")
spawn("forest_seaweed_floor_02",17,10,1,-1,"forest_seaweed_floor_02_53")
spawn("forest_seaweed_floor_02",17,11,1,-1,"forest_seaweed_floor_02_54")
spawn("forest_seaweed_floor_02",18,19,1,-1,"forest_seaweed_floor_02_55")
spawn("forest_seaweed_floor_02",17,12,1,-1,"forest_seaweed_floor_02_56")
spawn("forest_seaweed_floor_02",18,12,1,-1,"forest_seaweed_floor_02_57")
spawn("forest_seaweed_floor_02",18,13,1,-1,"forest_seaweed_floor_02_58")
spawn("forest_seaweed_floor_02",17,13,1,-1,"forest_seaweed_floor_02_59")
spawn("forest_seaweed_floor_02",20,17,1,-1,"forest_seaweed_floor_02_60")
spawn("forest_seaweed_floor_02",19,18,1,-1,"forest_seaweed_floor_02_61")
spawn("forest_seaweed_floor_02",12,11,1,-1,"forest_seaweed_floor_02_62")
spawn("forest_underwater_bubbles",16,7,2,-1,"forest_underwater_bubbles_6")
spawn("forest_seaweed_floor_01",13,13,3,-1,"forest_seaweed_floor_01_52")
spawn("forest_seaweed_floor_01",8,16,3,-1,"forest_seaweed_floor_01_53")
spawn("forest_seaweed_floor_01",14,6,3,-1,"forest_seaweed_floor_01_54")
spawn("forest_seaweed_floor_01",9,13,3,-1,"forest_seaweed_floor_01_55")
spawn("forest_seaweed_floor_01",8,14,3,-1,"forest_seaweed_floor_01_56")
spawn("forest_seaweed_floor_01",8,9,3,-1,"forest_seaweed_floor_01_57")
spawn("forest_seaweed_wall_decoration_01",12,15,2,-1,"forest_seaweed_wall_decoration_01_8")
spawn("forest_seaweed_wall_decoration_01",13,15,2,-1,"forest_seaweed_wall_decoration_01_9")
spawn("forest_seaweed_wall_decoration_02",10,11,0,-1,"forest_seaweed_wall_decoration_02_3")
spawn("forest_seaweed_wall_decoration_02",11,14,2,-1,"forest_seaweed_wall_decoration_02_4")
spawn("forest_seaweed_floor_01",10,12,3,-1,"forest_seaweed_floor_01_58")
spawn("forest_seaweed_floor_02",12,5,3,-1,"forest_seaweed_floor_02_63")
spawn("forest_seaweed_floor_02",12,6,3,-1,"forest_seaweed_floor_02_64")
spawn("forest_seaweed_floor_02",11,6,3,-1,"forest_seaweed_floor_02_65")
spawn("forest_seaweed_floor_02",11,5,3,-1,"forest_seaweed_floor_02_66")
spawn("forest_seaweed_floor_02",10,5,3,-1,"forest_seaweed_floor_02_67")
spawn("forest_seaweed_floor_02",10,6,3,-1,"forest_seaweed_floor_02_68")
spawn("forest_seaweed_floor_02",9,6,3,-1,"forest_seaweed_floor_02_69")
spawn("forest_seaweed_floor_02",8,6,3,-1,"forest_seaweed_floor_02_70")
spawn("forest_seaweed_floor_02",7,7,3,-1,"forest_seaweed_floor_02_71")
spawn("forest_seaweed_floor_02",7,8,3,-1,"forest_seaweed_floor_02_72")
spawn("forest_seaweed_floor_02",7,9,3,-1,"forest_seaweed_floor_02_73")
spawn("forest_seaweed_floor_02",7,10,3,-1,"forest_seaweed_floor_02_74")
spawn("forest_seaweed_floor_02",7,11,3,-1,"forest_seaweed_floor_02_75")
spawn("forest_seaweed_floor_02",7,16,3,-1,"forest_seaweed_floor_02_76")
spawn("forest_seaweed_floor_02",7,18,3,-1,"forest_seaweed_floor_02_77")
spawn("forest_seaweed_floor_02",8,17,3,-1,"forest_seaweed_floor_02_78")
spawn("forest_seaweed_floor_02",7,15,3,-1,"forest_seaweed_floor_02_79")
spawn("forest_seaweed_floor_02",10,11,3,-1,"forest_seaweed_floor_02_80")
spawn("small_fish",7,10,3,-1,"small_fish_13")
spawn("small_fish",18,4,3,-1,"small_fish_14")
spawn("ladder",17,4,0,-1,"ladder_11")
spawn("forest_seaweed_floor_02",20,5,3,-1,"forest_seaweed_floor_02_81")
spawn("forest_seaweed_floor_01",19,10,3,-1,"forest_seaweed_floor_01_59")
spawn("forest_seaweed_floor_01",20,16,3,-1,"forest_seaweed_floor_01_31")
spawn("forest_seaweed_floor_02",17,5,3,-1,"forest_seaweed_floor_02_15")
spawn("forest_seaweed_floor_01",13,9,3,-1,"forest_seaweed_floor_01_60")
spawn("small_fish",15,12,3,-1,"small_fish_15")
spawn("small_fish",20,7,3,-1,"small_fish_16")
spawn("small_fish",20,13,3,-1,"small_fish_17")
spawn("forest_seaweed_floor_01",19,14,3,-1,"forest_seaweed_floor_01_61")
spawn("forest_seaweed_floor_01",19,16,3,-1,"forest_seaweed_floor_01_62")
spawn("forest_plant_cluster_01",14,14,3,-1,"forest_plant_cluster_01_28")
spawn("forest_plant_cluster_01",9,7,2,-1,"forest_plant_cluster_01_29")
spawn("small_fish",10,6,3,-1,"small_fish_18")
spawn("forest_plant_cluster_01",9,8,2,-1,"forest_plant_cluster_01_30")
spawn("forest_seaweed_floor_01",9,7,3,-1,"forest_seaweed_floor_01_63")
spawn("forest_seaweed_floor_01",9,8,3,-1,"forest_seaweed_floor_01_64")
spawn("forest_plant_cluster_01",8,8,2,-1,"forest_plant_cluster_01_31")
spawn("forest_plant_cluster_01",8,10,2,-1,"forest_plant_cluster_01_32")
spawn("forest_seaweed_floor_01",8,8,3,-1,"forest_seaweed_floor_01_65")
spawn("forest_seaweed_floor_01",8,10,3,-1,"forest_seaweed_floor_01_66")
spawn("forest_seaweed_floor_01",9,9,3,-1,"forest_seaweed_floor_01_67")
spawn("forest_plant_cluster_01",14,13,3,-1,"forest_plant_cluster_01_33")
spawn("forest_plant_cluster_01",9,12,3,-1,"forest_plant_cluster_01_34")
spawn("forest_plant_cluster_01",11,12,3,-1,"forest_plant_cluster_01_35")
spawn("forest_seaweed_floor_01",11,12,3,-1,"forest_seaweed_floor_01_68")
spawn("forest_seaweed_floor_01",8,15,3,-1,"forest_seaweed_floor_01_69")
spawn("forest_seaweed_floor_01",14,13,3,-1,"forest_seaweed_floor_01_70")
spawn("forest_seaweed_floor_01",9,12,3,-1,"forest_seaweed_floor_01_71")
spawn("forest_seaweed_floor_02",14,11,1,-1,"forest_seaweed_floor_02_82")
spawn("forest_seaweed_floor_02",14,12,1,-1,"forest_seaweed_floor_02_83")
spawn("small_fish",10,11,3,-1,"small_fish_19")
spawn("small_fish",13,11,3,-1,"small_fish_20")
spawn("forest_seaweed_pillar",14,14,2,-1,"forest_seaweed_pillar_41")
spawn("forest_seaweed_pillar",15,14,2,-1,"forest_seaweed_pillar_42")
spawn("forest_seaweed_pillar",12,12,2,-1,"forest_seaweed_pillar_43")
spawn("forest_seaweed_pillar",12,13,2,-1,"forest_seaweed_pillar_44")
spawn("forest_seaweed_pillar",8,14,2,-1,"forest_seaweed_pillar_45")
spawn("forest_seaweed_pillar",9,14,2,-1,"forest_seaweed_pillar_46")
spawn("forest_seaweed_pillar",8,10,2,-1,"forest_seaweed_pillar_47")
spawn("forest_seaweed_pillar",9,11,2,-1,"forest_seaweed_pillar_48")
spawn("forest_seaweed_pillar",8,8,2,-1,"forest_seaweed_pillar_49")
spawn("forest_seaweed_pillar",9,10,2,-1,"forest_seaweed_pillar_50")
spawn("forest_plant_cluster_01",9,13,3,-1,"forest_plant_cluster_01_36")
spawn("forest_seaweed_pillar",9,13,2,-1,"forest_seaweed_pillar_51")
spawn("forest_seaweed_floor_01",8,13,3,-1,"forest_seaweed_floor_01_72")
spawn("forest_plant_cluster_01",13,13,3,-1,"forest_plant_cluster_01_37")
spawn("forest_underwater_bubbles",13,12,2,-1,"forest_underwater_bubbles_7")
spawn("forest_underwater_bubbles",9,13,2,-1,"forest_underwater_bubbles_8")
spawn("forest_underwater_bubbles",8,10,2,-1,"forest_underwater_bubbles_9")
spawn("forest_underwater_bubbles",9,7,2,-1,"forest_underwater_bubbles_10")
spawn("forest_underwater_bubbles",14,5,2,-1,"forest_underwater_bubbles_11")
spawn("ladder",12,15,2,-1,"ladder_12")
spawn("forest_plant_cluster_01",8,16,3,-1,"forest_plant_cluster_01_38")
spawn("forest_plant_cluster_01",8,20,3,-1,"forest_plant_cluster_01_39")
spawn("forest_seaweed_floor_01",12,13,3,-1,"forest_seaweed_floor_01_73")
spawn("floor_trigger",20,12,3,-1,"floor_trigger_11")
floor_trigger_11.floortrigger:setTriggeredByParty(true)
floor_trigger_11.floortrigger:setTriggeredByMonster(false)
floor_trigger_11.floortrigger:setTriggeredByItem(false)
floor_trigger_11.floortrigger:setTriggeredByDigging(false)
floor_trigger_11.floortrigger:setDisableSelf(false)
floor_trigger_11.floortrigger:addConnector("onActivate", "script_entity_3", "turnEast")
spawn("floor_trigger",18,12,1,-1,"floor_trigger_13")
floor_trigger_13.floortrigger:setTriggeredByParty(true)
floor_trigger_13.floortrigger:setTriggeredByMonster(false)
floor_trigger_13.floortrigger:setTriggeredByItem(false)
floor_trigger_13.floortrigger:setTriggeredByDigging(false)
floor_trigger_13.floortrigger:setDisableSelf(false)
floor_trigger_13.floortrigger:addConnector("onActivate", "script_entity_3", "turnWest")
spawn("script_entity",18,13,1,0,"script_entity_3")
script_entity_3.script:setSource("function turnNorth()\
\9helper.script.turnNorth(water_root_4)\
end\
\
function turnSouth()\
\9helper.script.turnSouth(water_root_4)\
end\
\
function turnEast()\
\9helper.script.turnEast(water_root_4)\
end\
\
function turnWest()\
\9helper.script.turnWest(water_root_4)\
end\
")
spawn("water_root",19,12,3,-1,"water_root_4")
spawn("forest_seaweed_floor_01",18,18,3,-1,"forest_seaweed_floor_01_74")
spawn("forest_seaweed_pillar",19,13,2,-1,"forest_seaweed_pillar_52")
spawn("forest_seaweed_pillar",19,12,2,-1,"forest_seaweed_pillar_53")
spawn("water_root",13,9,2,-1,"water_root_1")
spawn("water_root",11,13,3,-1,"water_root_2")
spawn("script_entity",9,12,1,0,"script_entity_4")
script_entity_4.script:setSource("function turnNorth()\
\9helper.script.turnNorth(water_root_2)\
end\
\
function turnSouth()\
\9helper.script.turnSouth(water_root_2)\
end\
\
function turnEast()\
\9helper.script.turnEast(water_root_2)\
end\
\
function turnWest()\
\9helper.script.turnWest(water_root_2)\
end\
")
spawn("floor_trigger",10,13,1,-1,"floor_trigger_16")
floor_trigger_16.floortrigger:setTriggeredByParty(true)
floor_trigger_16.floortrigger:setTriggeredByMonster(false)
floor_trigger_16.floortrigger:setTriggeredByItem(false)
floor_trigger_16.floortrigger:setTriggeredByDigging(false)
floor_trigger_16.floortrigger:setDisableSelf(false)
floor_trigger_16.floortrigger:addConnector("onActivate", "script_entity_4", "turnWest")
spawn("floor_trigger",11,14,1,-1,"floor_trigger_17")
floor_trigger_17.floortrigger:setTriggeredByParty(true)
floor_trigger_17.floortrigger:setTriggeredByMonster(false)
floor_trigger_17.floortrigger:setTriggeredByItem(false)
floor_trigger_17.floortrigger:setTriggeredByDigging(false)
floor_trigger_17.floortrigger:setDisableSelf(false)
floor_trigger_17.floortrigger:addConnector("onActivate", "script_entity_4", "turnSouth")
spawn("floor_trigger",12,13,1,-1,"floor_trigger_18")
floor_trigger_18.floortrigger:setTriggeredByParty(true)
floor_trigger_18.floortrigger:setTriggeredByMonster(false)
floor_trigger_18.floortrigger:setTriggeredByItem(false)
floor_trigger_18.floortrigger:setTriggeredByDigging(false)
floor_trigger_18.floortrigger:setDisableSelf(false)
floor_trigger_18.floortrigger:addConnector("onActivate", "script_entity_4", "turnEast")
spawn("forest_seaweed_floor_01",11,13,3,-1,"forest_seaweed_floor_01_75")
spawn("forest_seaweed_floor_01",10,13,3,-1,"forest_seaweed_floor_01_76")
spawn("forest_seaweed_floor_01",9,14,3,-1,"forest_seaweed_floor_01_77")
spawn("water_root",9,10,2,-1,"water_root_3")
spawn("water_root",14,6,3,-1,"water_root_5")
spawn("water_root",18,6,0,-1,"water_root_6")
spawn("beach_cattail_blocker",12,12,0,-1,"beach_cattail_blocker_79")
spawn("forest_seaweed_floor_01",17,14,3,-1,"forest_seaweed_floor_01_78")
spawn("forest_seaweed_floor_01",18,14,3,-1,"forest_seaweed_floor_01_79")
spawn("forest_seaweed_floor_02",8,12,1,-1,"forest_seaweed_floor_02_84")
spawn("forest_seaweed_wall_decoration_02",7,21,3,-1,"forest_seaweed_wall_decoration_02_5")
spawn("forest_seaweed_wall_decoration_02",7,14,3,-1,"forest_seaweed_wall_decoration_02_6")
spawn("forest_seaweed_wall_decoration_02",7,19,3,-1,"forest_seaweed_wall_decoration_02_7")
spawn("forest_seaweed_wall_decoration_01",7,7,3,-1,"forest_seaweed_wall_decoration_01_10")
spawn("forest_seaweed_wall_decoration_01",7,9,3,-1,"forest_seaweed_wall_decoration_01_11")
spawn("forest_seaweed_wall_decoration_01",7,10,3,-1,"forest_seaweed_wall_decoration_01_12")
spawn("forest_seaweed_wall_decoration_01",7,12,3,-1,"forest_seaweed_wall_decoration_01_13")
spawn("forest_seaweed_wall_decoration_01",9,20,1,-1,"forest_seaweed_wall_decoration_01_14")
spawn("forest_seaweed_wall_decoration_01",7,15,3,-1,"forest_seaweed_wall_decoration_01_15")
spawn("forest_seaweed_wall_decoration_01",7,17,3,-1,"forest_seaweed_wall_decoration_01_16")
spawn("forest_seaweed_wall_decoration_01",9,18,1,-1,"forest_seaweed_wall_decoration_01_17")
spawn("forest_underwater_bubbles",14,13,2,-1,"forest_underwater_bubbles_12")
spawn("forest_underwater_bubbles",14,10,2,-1,"forest_underwater_bubbles_13")
spawn("forest_underwater_bubbles",16,9,2,-1,"forest_underwater_bubbles_14")
spawn("forest_underwater_bubbles",8,16,2,-1,"forest_underwater_bubbles_15")
spawn("forest_underwater_bubbles",19,7,2,-1,"forest_underwater_bubbles_16")
spawn("forest_seaweed_floor_01",13,8,3,-1,"forest_seaweed_floor_01_80")
spawn("forest_seaweed_floor_01",18,11,3,-1,"forest_seaweed_floor_01_81")
spawn("forest_underwater_bubbles",19,13,2,-1,"forest_underwater_bubbles_17")
spawn("forest_underwater_bubbles",19,15,2,-1,"forest_underwater_bubbles_18")
spawn("script_entity",19,5,1,0,"script_entity_5")
script_entity_5.script:setSource("function turnNorth()\
\9helper.script.turnNorth(water_root_6)\
end\
\
function turnSouth()\
\9helper.script.turnSouth(water_root_6)\
end\
\
function turnEast()\
\9helper.script.turnEast(water_root_6)\
end\
\
function turnWest()\
\9helper.script.turnWest(water_root_6)\
end\
")
spawn("floor_trigger",18,7,1,-1,"floor_trigger_14")
floor_trigger_14.floortrigger:setTriggeredByParty(true)
floor_trigger_14.floortrigger:setTriggeredByMonster(false)
floor_trigger_14.floortrigger:setTriggeredByItem(false)
floor_trigger_14.floortrigger:setTriggeredByDigging(false)
floor_trigger_14.floortrigger:setDisableSelf(false)
floor_trigger_14.floortrigger:addConnector("onActivate", "script_entity_5", "turnSouth")
spawn("floor_trigger",18,5,1,-1,"floor_trigger_15")
floor_trigger_15.floortrigger:setTriggeredByParty(true)
floor_trigger_15.floortrigger:setTriggeredByMonster(false)
floor_trigger_15.floortrigger:setTriggeredByItem(false)
floor_trigger_15.floortrigger:setTriggeredByDigging(false)
floor_trigger_15.floortrigger:setDisableSelf(false)
floor_trigger_15.floortrigger:addConnector("onActivate", "script_entity_5", "turnNorth")
spawn("script_entity",14,7,1,0,"script_entity_6")
script_entity_6.script:setSource("function turnNorth()\
\9helper.script.turnNorth(water_root_5)\
end\
\
function turnSouth()\
\9helper.script.turnSouth(water_root_5)\
end\
\
function turnEast()\
\9helper.script.turnEast(water_root_5)\
end\
\
function turnWest()\
\9helper.script.turnWest(water_root_5)\
end\
")
spawn("floor_trigger",13,6,1,-1,"floor_trigger_19")
floor_trigger_19.floortrigger:setTriggeredByParty(true)
floor_trigger_19.floortrigger:setTriggeredByMonster(false)
floor_trigger_19.floortrigger:setTriggeredByItem(false)
floor_trigger_19.floortrigger:setTriggeredByDigging(false)
floor_trigger_19.floortrigger:setDisableSelf(false)
floor_trigger_19.floortrigger:addConnector("onActivate", "script_entity_6", "turnWest")
spawn("floor_trigger",15,6,1,-1,"floor_trigger_20")
floor_trigger_20.floortrigger:setTriggeredByParty(true)
floor_trigger_20.floortrigger:setTriggeredByMonster(false)
floor_trigger_20.floortrigger:setTriggeredByItem(false)
floor_trigger_20.floortrigger:setTriggeredByDigging(false)
floor_trigger_20.floortrigger:setDisableSelf(false)
floor_trigger_20.floortrigger:addConnector("onActivate", "script_entity_6", "turnEast")
spawn("beach_boulder",19,11,1,-1,"beach_boulder_10")
spawn("beach_cattail_damaged",19,10,1,-1,"beach_cattail_damaged_20")
spawn("beach_rock_blocker_01",17,6,3,-1,"beach_rock_blocker_01_4")
spawn("beach_boulder",19,6,0,-1,"beach_boulder_11")
spawn("note",16,3,2,0,"note_4")
note_4.scrollitem:setScrollText("Hanus was cutting cattails in the lagoon\
and was grabbed by a monster.\
I think he is still alive.\
I will jump into water and try to save him.")
spawn("tombstone",5,4,1,0,"tombstone_1")
tombstone_1.walltext:setWallText("Helementin the Pirate, the first captain of Pirate Island.")
spawn("forest_border_rocks_01",14,17,3,0,"forest_border_rocks_01_6")
spawn("forest_altar",15,15,2,0,"forest_altar_3")
spawn("forest_border_rocks_01",13,18,2,0,"forest_border_rocks_01_7")
spawn("woodcutting_axe",12,20,2,0,"woodcutting_axe_1")
spawn("mine_support_wall_01",12,20,0,0,"mine_support_wall_01_120")
spawn("mine_support_pillar_01",12,20,2,0,"mine_support_pillar_01_99")
spawn("forest_oak_trunk",11,22,1,0,"forest_oak_trunk_3")
spawn("barrel_crate_block_broken",12,22,2,0,"barrel_crate_block_broken_7")
spawn("barrel_crate_block_broken",12,21,1,0,"barrel_crate_block_broken_8")
spawn("forest_oak_stump",12,21,3,0,"forest_oak_stump_8")
spawn("beach_thicket_01",12,23,3,0,"beach_thicket_01_10")
spawn("branch",12,22,0,0,"branch_5")
spawn("mine_support_pillar_01",13,20,2,0,"mine_support_pillar_01_100")
spawn("beach_stone_ring",11,21,3,0,"beach_stone_ring_3")
spawn("beach_cattail_blocker",12,19,0,0,"beach_cattail_blocker_108")
spawn("coin_copper",12,19,1,0,"coin_copper_4")
spawn("ladder",12,20,1,0,"ladder_2")
spawn("invisible_rocky_wall",13,19,2,1,"invisible_rocky_wall_24")
spawn("invisible_rocky_wall",14,20,2,1,"invisible_rocky_wall_26")
spawn("invisible_rocky_wall",15,21,2,1,"invisible_rocky_wall_27")
spawn("invisible_rocky_wall",15,22,2,1,"invisible_rocky_wall_28")
spawn("invisible_rocky_wall",14,23,2,1,"invisible_rocky_wall_29")
spawn("beach_stone_ring",14,22,2,1,"beach_stone_ring_4")
spawn("advice",14,22,0,1,"advice_1")
advice_1.scrollitem:setScrollText("Dear Hanus,\
\
my wolves are terrified when pirates shoot\
their firearms. Steal all pellets from \
the lighthouse and our friends will be calm again.\
\
Juan the Hermit")
spawn("forest_oak_cluster",17,19,3,0,"forest_oak_cluster_30")
spawn("forest_oak_cluster",17,20,3,0,"forest_oak_cluster_31")
spawn("forest_oak_cluster",17,21,2,0,"forest_oak_cluster_32")
spawn("swamp_oak_cluster",17,22,2,0,"swamp_oak_cluster_14")
spawn("swamp_oak_cluster",16,23,3,0,"swamp_oak_cluster_15")
spawn("swamp_oak_cluster",15,23,1,0,"swamp_oak_cluster_16")
spawn("swamp_oak_cluster",16,22,2,0,"swamp_oak_cluster_17")
spawn("pellet_box",26,12,0,0,"pellet_box_4")
spawn("pellet_box",27,13,3,0,"pellet_box_7")
spawn("pellet_box",27,12,2,0,"pellet_box_8")
spawn("pellet_box",27,12,3,0,"pellet_box_9")
spawn("pellet_box",26,12,3,0,"pellet_box_10")
spawn("pellet_box",26,13,0,0,"pellet_box_11")
spawn("pellet_box",26,13,1,0,"pellet_box_12")
spawn("pellet_box",27,12,3,0,"pellet_box_13")
spawn("remains_bones",26,14,0,0,"remains_bones_2")
spawn("wolf",29,8,2,0,"wolf_1")
wolf_1.brainScript:setSource("place = \"wolf_lair_1\"")
spawn("script_entity",28,5,3,0,"wolves_script")
wolves_script.script:setSource("function startAttacking()\
\9wolf_1.brainScript.attacking = true\
\9wolf_1.brain:stopGuarding()\
\9wolf_1.brain:setSight(2.5)\
end\
\
function stopAttacking()\
\9wolf_1.brainScript.attacking = false\
end\
\
function comeHome(lair)\
\9if helper.script.isAt(lair.go, wolf_1) then\
\9\9wolf_1.brainScript.in_place = true\
\9\9wolf_1.brain:startGuarding()\
\9\9wolf_1.brain:setSight(1)\
\9end\9\
end\
\
function leftHome()\
\9wolf_1.brainScript.in_place = false\9\
end")
spawn("floor_trigger",29,8,1,0,"wolf_lair_1")
wolf_lair_1.floortrigger:setTriggeredByParty(false)
wolf_lair_1.floortrigger:setTriggeredByMonster(true)
wolf_lair_1.floortrigger:setTriggeredByItem(false)
wolf_lair_1.floortrigger:setTriggeredByDigging(false)
wolf_lair_1.floortrigger:setDisableSelf(false)
wolf_lair_1.floortrigger:addConnector("onActivate", "wolves_script", "comeHome")
wolf_lair_1.floortrigger:addConnector("onDeactivate", "wolves_script", "leftHome")
spawn("beach_thicket_broken",12,22,2,0,"beach_thicket_broken_2")
spawn("forest_plant_cluster_01",27,10,0,0,"forest_plant_cluster_01_45")
spawn("forest_plant_cluster_01",22,6,2,0,"forest_plant_cluster_01_46")
spawn("forest_plant_cluster_01",23,5,2,0,"forest_plant_cluster_01_47")
spawn("forest_plant_cluster_01",23,4,1,0,"forest_plant_cluster_01_48")
spawn("forest_plant_cluster_01",25,7,0,0,"forest_plant_cluster_01_49")
spawn("forest_plant_cluster_01",24,6,3,0,"forest_plant_cluster_01_50")
spawn("forest_plant_cluster_01",28,8,3,0,"forest_plant_cluster_01_51")
spawn("forest_plant_cluster_01",22,12,1,0,"forest_plant_cluster_01_52")
spawn("forest_plant_cluster_01",23,12,1,0,"forest_plant_cluster_01_53")
spawn("forest_plant_cluster_01",24,12,1,0,"forest_plant_cluster_01_54")
spawn("forest_plant_cluster_01",26,16,1,0,"forest_plant_cluster_01_55")
spawn("forest_plant_cluster_01",28,16,3,0,"forest_plant_cluster_01_56")
spawn("forest_falling_leaves",18,3,2,0,"forest_falling_leaves_8")
spawn("beach_cattail_broken",16,3,1,0,"beach_cattail_broken_13")
spawn("beach_cattail_blocker",15,3,2,0,"beach_cattail_blocker_109")
spawn("beach_cattail_blocker",12,4,2,0,"beach_cattail_blocker_110")
spawn("beach_cattail_blocker",21,5,2,0,"beach_cattail_blocker_111")
spawn("beach_cattail_blocker",9,5,0,0,"beach_cattail_blocker_112")
spawn("beach_cattail_blocker",7,6,3,0,"beach_cattail_blocker_113")
spawn("forest_oak_cluster",25,8,1,0,"forest_oak_cluster_33")
spawn("forest_spruce_01",24,8,2,0,"forest_spruce_01_24")
spawn("forest_oak_cluster",25,10,0,0,"forest_oak_cluster_34")
spawn("forest_fireflies",23,4,3,0,"forest_fireflies_7")
spawn("forest_fireflies",28,8,3,0,"forest_fireflies_8")
spawn("forest_fireflies",27,10,2,0,"forest_fireflies_9")
spawn("forest_fireflies",22,12,1,0,"forest_fireflies_10")
spawn("forest_fireflies",25,7,3,0,"forest_fireflies_11")
spawn("beach_rock_1x1",25,4,1,0,"beach_rock_1x1_17")
spawn("beach_rock_blocker_01",28,7,3,0,"beach_rock_blocker_01_9")
spawn("forest_oak_cluster",26,7,1,0,"forest_oak_cluster_35")
spawn("forest_oak_cluster",26,6,1,0,"forest_oak_cluster_36")
spawn("forest_oak_cluster",23,7,0,0,"forest_oak_cluster_37")
spawn("forest_oak_cluster",26,8,0,0,"forest_oak_cluster_38")
spawn("floor_trigger",22,3,1,0,"floor_trigger_25")
floor_trigger_25.floortrigger:setTriggeredByParty(true)
floor_trigger_25.floortrigger:setTriggeredByMonster(false)
floor_trigger_25.floortrigger:setTriggeredByItem(false)
floor_trigger_25.floortrigger:setTriggeredByDigging(false)
floor_trigger_25.floortrigger:setDisableSelf(false)
floor_trigger_25.floortrigger:addConnector("onActivate", "wolves_script", "stopAttacking")
spawn("coin_copper",21,6,2,0,"coin_copper_5")
spawn("remains_bones",21,6,1,0,"remains_bones_3")
spawn("pirate_vest",21,6,2,0,"pirate_vest_1")
spawn("monk_cape",14,16,0,2,"monk_cape_1")
spawn("mosquito_annoy",26,4,3,0,"mosquito_1")
mosquito_1.monster:setAIState("guard")
spawn("mosquito_annoy",11,11,0,0,"mosquito_annoy_2")
spawn("spawner",10,8,0,0,"mosquito_spawner_1")
mosquito_spawner_1.spawner:setSpawnedEntity("mosquito_annoy")
mosquito_spawner_1.spawner:setMonsterLevel(1)
mosquito_spawner_1.spawner:setCooldown(0)
mosquito_spawner_1.spawner:setDisableSelf(false)
spawn("timer",11,8,2,0,"mosquito_timer_1")
mosquito_timer_1.timer:setTimerInterval(60)
mosquito_timer_1.timer:setDisableSelf(false)
mosquito_timer_1.timer:setTriggerOnStart(false)
mosquito_timer_1.timer:setCurrentLevelOnly(false)
mosquito_timer_1.timer:addConnector("onActivate", "mosquito_script", "spawn")
spawn("script_entity",12,8,3,0,"mosquito_script")
mosquito_script.script:setSource("function spawn()\
\9local e = findEntity(\"mosquito_1\")\
\9if e == nil then\
\9\9helper.script._spawn( \"mosquito_annoy\", mosquito_spawner_1.level, mosquito_spawner_1.x, mosquito_spawner_1.y, mosquito_spawner_1.direction, mosquito_spawner_1.elevation, \"mosquito_1\")\
\9end\
end")
spawn("invisible_rocky_wall",11,8,0,0,"invisible_rocky_wall_30")
spawn("floor_dirt",29,8,3,0,"floor_dirt_27")
spawn("floor_dirt",17,3,1,0,"floor_dirt_28")
spawn("forest_plant_cluster_01",29,7,3,0,"forest_plant_cluster_01_57")
spawn("forest_plant_cluster_01",29,6,3,0,"forest_plant_cluster_01_58")
spawn("forest_plant_cluster_01",23,6,3,0,"forest_plant_cluster_01_59")
spawn("forest_plant_cluster_01",24,7,3,0,"forest_plant_cluster_01_60")
spawn("forest_plant_cluster_01",26,7,3,0,"forest_plant_cluster_01_61")
spawn("forest_plant_cluster_01",26,6,3,0,"forest_plant_cluster_01_62")
spawn("forest_plant_cluster_01",26,8,3,0,"forest_plant_cluster_01_63")
spawn("forest_plant_cluster_01",25,8,3,0,"forest_plant_cluster_01_64")
spawn("forest_plant_cluster_01",23,7,3,0,"forest_plant_cluster_01_65")
spawn("forest_plant_cluster_01",22,7,3,0,"forest_plant_cluster_01_66")
spawn("forest_plant_cluster_01",22,5,3,0,"forest_plant_cluster_01_67")
spawn("forest_plant_cluster_01",25,10,3,0,"forest_plant_cluster_01_68")
spawn("forest_exit_rock_tunnel",3,0,0,0,"forest_exit_rock_tunnel_6")
spawn("giant_snake",4,23,0,0,"giant_snake_1")
giant_snake_1.monster:setAIState("guard")
giant_snake_1.monster:disable()
spawn("forest_chasm",15,28,1,0,"forest_chasm_2")
spawn("forest_fireflies",15,28,1,0,"forest_fireflies_14")
spawn("forest_seaweed_floor_02",21,8,3,-1,"forest_seaweed_floor_02_91")
spawn("forest_seaweed_floor_02",21,9,3,-1,"forest_seaweed_floor_02_92")
spawn("forest_seaweed_floor_02",21,10,3,-1,"forest_seaweed_floor_02_93")
spawn("forest_seaweed_floor_02",21,11,3,-1,"forest_seaweed_floor_02_94")
spawn("forest_seaweed_floor_02",21,16,3,-1,"forest_seaweed_floor_02_95")
spawn("forest_seaweed_floor_02",21,17,3,-1,"forest_seaweed_floor_02_96")
spawn("forest_seaweed_floor_02",21,18,3,-1,"forest_seaweed_floor_02_97")
spawn("forest_seaweed_floor_02",21,19,3,-1,"forest_seaweed_floor_02_98")
spawn("forest_seaweed_floor_02",21,20,3,-1,"forest_seaweed_floor_02_99")
spawn("forest_seaweed_floor_02",21,21,3,-1,"forest_seaweed_floor_02_100")
spawn("forest_seaweed_floor_02",20,21,3,-1,"forest_seaweed_floor_02_101")
spawn("forest_seaweed_floor_02",20,20,3,-1,"forest_seaweed_floor_02_102")
spawn("forest_seaweed_floor_02",18,20,3,-1,"forest_seaweed_floor_02_103")
spawn("forest_seaweed_floor_02",14,24,3,-1,"forest_seaweed_floor_02_104")
spawn("forest_seaweed_floor_02",18,22,3,-1,"forest_seaweed_floor_02_105")
spawn("forest_seaweed_floor_02",19,22,3,-1,"forest_seaweed_floor_02_106")
spawn("forest_seaweed_floor_02",20,22,3,-1,"forest_seaweed_floor_02_107")
spawn("forest_seaweed_floor_02",20,23,3,-1,"forest_seaweed_floor_02_108")
spawn("forest_seaweed_floor_02",19,23,3,-1,"forest_seaweed_floor_02_109")
spawn("forest_seaweed_floor_02",18,23,3,-1,"forest_seaweed_floor_02_110")
spawn("forest_seaweed_floor_02",17,24,3,-1,"forest_seaweed_floor_02_111")
spawn("forest_seaweed_floor_02",17,23,3,-1,"forest_seaweed_floor_02_112")
spawn("forest_seaweed_floor_02",16,24,3,-1,"forest_seaweed_floor_02_113")
spawn("forest_seaweed_floor_02",15,24,3,-1,"forest_seaweed_floor_02_114")
spawn("forest_plant_cluster_01",18,21,3,-1,"forest_plant_cluster_01_42")
spawn("forest_seaweed_floor_01",19,17,3,-1,"forest_seaweed_floor_01_2")
spawn("forest_seaweed_floor_01",19,19,3,-1,"forest_seaweed_floor_01_4")
spawn("forest_seaweed_floor_01",19,20,3,-1,"forest_seaweed_floor_01_82")
spawn("crowern",25,19,3,1,"crowern_1")
spawn("forest_oak_cluster",24,15,1,0,"forest_oak_cluster_42")
spawn("mine_support_pillar_01",1,2,0,0,"mine_support_pillar_01_134")
spawn("mine_support_pillar_01",2,2,2,0,"mine_support_pillar_01_135")
spawn("mine_support_pillar_01",3,2,3,0,"mine_support_pillar_01_136")
spawn("mine_support_pillar_01",3,1,0,0,"mine_support_pillar_01_137")
spawn("mine_support_pillar_01",1,3,3,0,"mine_support_pillar_01_138")
spawn("mine_support_pillar_01",2,3,0,0,"mine_support_pillar_01_139")
spawn("mine_support_pillar_01",3,3,2,0,"mine_support_pillar_01_140")
spawn("mine_support_pillar_01",4,2,2,0,"mine_support_pillar_01_141")
spawn("mine_support_pillar_01",4,3,0,0,"mine_support_pillar_01_142")
spawn("mine_support_wall_01",1,2,0,0,"mine_support_wall_01_137")
spawn("mine_support_wall_01",2,1,2,0,"mine_support_wall_01_138")
spawn("mine_support_wall_01",3,1,3,0,"mine_support_wall_01_139")
spawn("mine_support_wall_01",3,1,1,0,"mine_support_wall_01_140")
spawn("mine_support_wall_01",3,2,1,0,"mine_support_wall_01_141")
spawn("mine_support_wall_01",2,2,2,0,"mine_support_wall_01_142")
spawn("mine_support_wall_01",1,2,2,0,"mine_support_wall_01_143")
spawn("mine_support_pillar_01",4,1,2,0,"mine_support_pillar_01_143")
spawn("mine_door_spear",3,2,2,0,"mine_door_spear_14")
spawn("giant_snake",3,4,0,0,"giant_snake_3")
giant_snake_3.monster:setAIState("guard")
spawn("script_entity",22,11,2,0,"luassa_script")
luassa_script.script:loadFile("mod_assets/scripts/luassa.lua")
spawn("floor_trigger",23,11,3,0,"luassa_trigger")
luassa_trigger.floortrigger:setTriggeredByParty(true)
luassa_trigger.floortrigger:setTriggeredByMonster(true)
luassa_trigger.floortrigger:setTriggeredByItem(true)
luassa_trigger.floortrigger:setTriggeredByDigging(false)
luassa_trigger.floortrigger:setDisableSelf(false)
luassa_trigger.floortrigger:addConnector("onActivate", "luassa_script", "spawn")
luassa_trigger.floortrigger:addConnector("onDeactivate", "luassa_script", "destroy")
luassa_trigger.floortrigger:addConnector("onDeactivate", "luassa_timer", "start")
luassa_trigger.floortrigger:addConnector("onDeactivate", "invisible_platform_18", "activate")
spawn("forest_thorn_blocker",22,10,1,0,"forest_thorn_blocker_4")
forest_thorn_blocker_4.obstacle:disable()
forest_thorn_blocker_4.health:disable()
spawn("pedestal",23,11,3,0,"luassa_pedestal")
luassa_pedestal.model:disable()
luassa_pedestal.surface:disable()
luassa_pedestal.clickable:disable()
luassa_pedestal.itemconstrainbox:disable()
spawn("invisible_rocky_wall",22,10,2,0,"invisible_rocky_wall_57")
spawn("floor_trigger",21,11,3,0,"luassa_home")
luassa_home.floortrigger:setTriggeredByParty(true)
luassa_home.floortrigger:setTriggeredByMonster(true)
luassa_home.floortrigger:setTriggeredByItem(false)
luassa_home.floortrigger:setTriggeredByDigging(false)
luassa_home.floortrigger:setDisableSelf(false)
luassa_home.floortrigger:addConnector("onActivate", "luassa_timer", "stop")
luassa_home.floortrigger:addConnector("onActivate", "invisible_platform_18", "deactivate")
spawn("timer",23,10,3,0,"luassa_timer")
luassa_timer.timer:setTimerInterval(0.5)
luassa_timer.timer:setDisableSelf(false)
luassa_timer.timer:setTriggerOnStart(false)
luassa_timer.timer:setCurrentLevelOnly(false)
luassa_timer.timer:addConnector("onActivate", "luassa_script", "goHome")
luassa_timer.timer:disable()
spawn("invisible_platform",21,11,3,0,"invisible_platform_18")
spawn("beach_thicket_01",21,6,1,0,"beach_thicket_01_20")
spawn("forest_oak_cluster",31,17,1,0,"forest_oak_cluster_45")
spawn("forest_oak_cluster",31,18,1,0,"forest_oak_cluster_46")
spawn("forest_oak_cluster",31,19,1,0,"forest_oak_cluster_47")
spawn("forest_oak_cluster",31,20,1,0,"forest_oak_cluster_48")
spawn("forest_oak_cluster",31,16,1,0,"forest_oak_cluster_49")
spawn("forest_oak_cluster",31,15,1,0,"forest_oak_cluster_50")
spawn("forest_oak_cluster",31,14,1,0,"forest_oak_cluster_51")
spawn("forest_oak_cluster",31,21,1,0,"forest_oak_cluster_52")
spawn("forest_oak_cluster",31,22,1,0,"forest_oak_cluster_53")
spawn("forest_oak_cluster",31,23,1,0,"forest_oak_cluster_54")
spawn("forest_oak_cluster",30,24,1,0,"forest_oak_cluster_55")
spawn("forest_oak_cluster",31,24,1,0,"forest_oak_cluster_56")
spawn("etherweed",12,17,2,0,"etherweed_6")
spawn("etherweed",12,18,0,0,"etherweed_7")
spawn("food_mushroom",13,17,3,0,"food_mushroom_1")
spawn("food_mushroom",12,18,1,0,"food_mushroom_2")
spawn("forest_oak",20,3,0,0,"forest_oak_8")
spawn("food_fruit",19,3,0,0,"food_fruit_3")
spawn("attack_trigger",19,3,0,0,"attack_trigger_6")
spawn("script_entity",19,3,3,0,"script_entity_12")
script_entity_12.script:setSource("fruit_tree_pieces = 2\
\
function onAttacked()\
\9if fruit_tree_pieces > 0 then\
\9\9spawn(\"food_fruit\", party.level, party.x, party.y, party.facing, party.elevation + 1)\
\9\9fruit_tree_pieces = fruit_tree_pieces - 1\
\9else\
\9\9helper.script.talkChampion( { \
\9\9\9\"No more ripe fruits.\",\
\9\9\9\"We must come again later.\",\
\9\9\9\"No fruit seems to be ready to fall down.\",\
\9\9\9\"That's it for now.\",\
\9\9\9\"We have to wait until fruit regrow.\"\
\9\9} )\
\9end\
end\
\
function regrow()\
\9if fruit_tree_pieces == 0 then\
\9\9fruit_tree_pieces = math.random(1,3)\
\9end\
end\
\
function comeBy()\
\9if fruit_tree_pieces > 0 then\
\9\9helper.script.talkChampion( { \
\9\9\9\"We should try to shake this tree to get more fruit down.\",\
\9\9\9\"There is still some fruit on the tree.\",\
\9\9\9\"Look. Some fruit is ready to fall down.\"\
\9\9} )\
\9end\
end")
spawn("floor_trigger",19,3,2,0,"floor_trigger_36")
floor_trigger_36.floortrigger:setTriggeredByParty(true)
floor_trigger_36.floortrigger:setTriggeredByMonster(false)
floor_trigger_36.floortrigger:setTriggeredByItem(false)
floor_trigger_36.floortrigger:setTriggeredByDigging(false)
floor_trigger_36.floortrigger:setDisableSelf(false)
floor_trigger_36.floortrigger:addConnector("onActivate", "script_entity_12", "comeBy")
spawn("forest_oak_cluster",19,2,3,0,"forest_oak_cluster_57")
spawn("timer",19,2,2,0,"timer_11")
timer_11.timer:setTimerInterval(450)
timer_11.timer:setDisableSelf(false)
timer_11.timer:setTriggerOnStart(false)
timer_11.timer:setCurrentLevelOnly(true)
timer_11.timer:addConnector("onActivate", "script_entity_12", "regrow")
spawn("invisible_platform",14,16,2,2,"invisible_platform_19")
spawn("attack_trigger",14,16,0,0,"attack_trigger_7")
spawn("script_entity",14,16,2,0,"script_entity_13")
script_entity_13.script:setSource("function onAttacked()\
\9invisible_platform_19.controller:deactivate()\
end")
spawn("beach_cattail_blocker",9,16,2,-1,"beach_cattail_blocker_125")

--- level 7 ---

newMap{
	name = "Juan's Hermitage",
	width = 32,
	height = 32,
	levelCoord = {1,0,1},
	ambientTrack = "dungeon",
	tiles = {
		"dungeon_floor",
		"dungeon_floor_water",
		"dungeon_wall",
		"mine_floor",
		"mine_wall",
	}
}

loadLayer("floor_elevation", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,-2,-2,-2,-2,-2,-2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,-2,-2,-2,-2,0,-2,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,0,-2,-2,-2,-2,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,-2,-2,-2,-2,-2,0,0,0,-1,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,-2,-2,-2,-2,-2,0,0,-1,-1,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,0,-2,-2,-2,-2,0,0,-1,-1,-1,-1,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,-2,-2,-2,-2,-1,0,0,-1,-1,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	-2,-2,-2,-2,-2,-2,-2,0,0,0,-1,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,0,-2,-2,-2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,-2,-2,-2,-2,-2,-2,-2,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,-2,-2,-2,-2,-2,0,0,-2,0,0,0,0,0,0,0,0,0,0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,
	0,0,0,0,0,0,0,0,-2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("ceiling_elevation", {
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

loadLayer("reflection", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("tiles", {
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	5,5,5,5,5,5,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	5,4,4,4,4,4,4,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	5,4,4,4,4,4,4,5,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,3,
	5,4,4,4,4,4,4,5,5,5,5,5,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,3,
	5,4,4,4,4,4,4,5,5,5,2,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,3,
	5,4,4,4,4,4,4,5,4,2,2,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,3,
	5,4,4,4,4,4,4,4,4,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,3,
	5,4,4,4,4,4,4,5,5,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,3,
	4,4,4,4,4,4,4,5,5,5,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,3,
	5,4,4,4,4,4,5,5,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,3,
	5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,3,
	3,4,4,4,4,4,3,3,4,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,3,
	3,3,3,3,3,3,3,3,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,1,1,1,3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,1,1,1,3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
})

spawn("dungeon_stairs_up",14,19,0,0,"dungeon_stairs_up_6")
spawn("dungeon_support_ceiling_01",14,21,3,0,"dungeon_support_ceiling_01_1")
spawn("dungeon_support_ceiling_01",13,21,3,0,"dungeon_support_ceiling_01_2")
spawn("dungeon_support_ceiling_01",13,20,3,0,"dungeon_support_ceiling_01_3")
spawn("dungeon_support_ceiling_01",14,20,3,0,"dungeon_support_ceiling_01_4")
spawn("dungeon_support_ceiling_01",15,20,3,0,"dungeon_support_ceiling_01_5")
spawn("dungeon_support_ceiling_01",15,21,1,0,"dungeon_support_ceiling_01_6")
spawn("dungeon_support_ceiling_01",15,22,3,0,"dungeon_support_ceiling_01_7")
spawn("dungeon_support_ceiling_01",14,22,3,0,"dungeon_support_ceiling_01_8")
spawn("dungeon_support_ceiling_01",13,22,1,0,"dungeon_support_ceiling_01_9")
spawn("dungeon_pillar_high",14,21,3,0,"dungeon_pillar_high_22")
spawn("dungeon_pillar_high",15,22,2,0,"dungeon_pillar_high_27")
spawn("dungeon_wall_broken_01",15,21,1,0,"dungeon_wall_broken_01_2")
spawn("dungeon_wall_broken_02",14,22,2,0,"dungeon_wall_broken_02_1")
spawn("dungeon_wall_chains_01",13,22,3,0,"dungeon_wall_chains_01_2")
spawn("dungeon_wall_chains_02",15,22,1,0,"dungeon_wall_chains_02_1")
spawn("dungeon_wall_chains_hooks_01",13,20,3,0,"dungeon_wall_chains_hooks_01_2")
spawn("dungeon_wall_drain",15,20,1,0,"dungeon_wall_drain_2")
spawn("dungeon_wall_drain",13,22,2,0,"dungeon_wall_drain_3")
spawn("dungeon_wall_ivy_01",15,22,2,0,"dungeon_wall_ivy_01_3")
spawn("dungeon_wall_ivy_02",13,20,0,0,"dungeon_wall_ivy_02_2")
spawn("dungeon_wall_ivy_01",15,20,0,0,"dungeon_wall_ivy_01_4")
spawn("dungeon_wall_ivy_02",15,20,1,0,"dungeon_wall_ivy_02_3")
spawn("dungeon_ceiling_shaft_1111",14,22,0,0,"dungeon_ceiling_shaft_1111_1")
spawn("dungeon_door_iron_barred",13,21,3,0,"dungeon_door_iron_barred_2")
spawn("dungeon_ceiling_0000",14,21,3,0,"dungeon_ceiling_0000_1")
spawn("dungeon_ceiling_shaft_0000",14,20,1,0,"dungeon_ceiling_shaft_0000_1")
spawn("torch_holder",10,22,2,0,"torch_holder_6")
torch_holder_6.controller:setHasTorch(true)
spawn("script_entity",10,21,0,0,"juan_script")
juan_script.script:setSource("found_juan = false\
hermit_advice_1 = false\
\
function visitedJuan()\
\9if not found_juan then\
\9\9found_juan = true\
\9\9local n = hermit.brainScript.character_name\9\9\
\9\9hermit:setPosition(hermit.x,hermit.y, hermit.facing, 0.15, hermit.level)\
\9\9beach_sandpile_3:setPosition(beach_sandpile_3.x,beach_sandpile_3.y, beach_sandpile_3.facing, -0.025, beach_sandpile_3.level)\
\9\9beach_sandpile_4:setPosition(beach_sandpile_4.x,beach_sandpile_4.y, beach_sandpile_4.facing, -0.04, beach_sandpile_4.level)\
\9\9local m = string.gsub(\"You found nnn.\", \"nnn\", n)\
\9\9helper.script.gainExp(500, m)\
\9elseif juan_timer_1.timer:isEnabled() then\
\9\9local n = hermit.brainScript.character_name\
\9\9helper.script.talk(n, \"Wait. I will write down some advices for you.\")\
\9end\
end\
\
function knockJuan()\
\9local n = hermit.brainScript.character_name\
\9if not hermit_advice_1 then\
\9\9hermit_advice_1 = true\9\9\
\9\9local t = string.gsub(hermit_letter_1.scrollitem:getScrollText(), \"bbb\", butcher.brainScript.character_name)\
\9\9t = string.gsub(t, \"aaa\", butcher_apprentice_script.script.character_name)\
\9\9hermit_letter_1.scrollitem:setScrollText(t)\
\9\9hermit_letter_1.scrollitem:setTextAlignment(\"left\")\
\9\9hermit_drop_sound.sound:stop()\
\9\9juan_timer_1.timer:start()\
\9\9helper.script.talk(n, \"I think you need some advice now.\")\
\9elseif juan_timer_1.timer:isEnabled() then\
\9\9helper.script.talkRandom(n, {\
\9\9\9\"I know who sent you.\",\
\9\9\9\"I know who you are.\",\9\9\9\
\9\9\9\"I know what you want.\"\
\9\9\9}\
\9\9)\
\9else\
\9\9helper.script.talkRandom(n, {\
\9\9\9\"I want to meditate in solitude.\",\
\9\9\9\"Be quitet. I appreciate silence.\",\9\9\9\
\9\9\9\"I gave you instructions. Now leave.\"\
\9\9\9}\
\9\9)\
\9end\
\9\
end\
\
function letter1()\
\9hermit_letter_1:setPosition(juan_trigger.x, juan_trigger.y,  hermit_letter_1.facing , juan_trigger.elevation, juan_trigger.level)\
\9hermit_necklace_1:setPosition(juan_trigger.x, juan_trigger.y, hermit_necklace_1.facing , juan_trigger.elevation, juan_trigger.level)\
\9hermit_drop_sound.controller:activate()\
end")
spawn("floor_trigger",13,21,2,0,"juan_trigger")
juan_trigger.floortrigger:setTriggeredByParty(true)
juan_trigger.floortrigger:setTriggeredByMonster(false)
juan_trigger.floortrigger:setTriggeredByItem(false)
juan_trigger.floortrigger:setTriggeredByDigging(false)
juan_trigger.floortrigger:setDisableSelf(false)
juan_trigger.floortrigger:addConnector("onActivate", "juan_script", "knockJuan")
spawn("timer",10,19,2,0,"juan_timer_1")
juan_timer_1.timer:setTimerInterval(10)
juan_timer_1.timer:setDisableSelf(true)
juan_timer_1.timer:setTriggerOnStart(false)
juan_timer_1.timer:setCurrentLevelOnly(false)
juan_timer_1.timer:addConnector("onActivate", "juan_script", "letter1")
juan_timer_1.timer:disable()
spawn("floor_trigger",14,20,2,0,"juan_visit_trigger")
juan_visit_trigger.floortrigger:setTriggeredByParty(true)
juan_visit_trigger.floortrigger:setTriggeredByMonster(false)
juan_visit_trigger.floortrigger:setTriggeredByItem(false)
juan_visit_trigger.floortrigger:setTriggeredByDigging(false)
juan_visit_trigger.floortrigger:setDisableSelf(false)
juan_visit_trigger.floortrigger:addConnector("onActivate", "juan_script", "visitedJuan")
spawn("wizard_scriptable",12,21,0,0,"hermit")
hermit.gravity:disable()
hermit.monster:disable()
hermit.iceShards:disable()
hermit.mirrorImage:disable()
hermit.crystal:disable()
hermit.particle:disable()
hermit.light:disable()
hermit.brainScript:setSource("character_name = \"Juan the Hermit\"")
spawn("advice",10,20,3,0,"hermit_letter_1")
hermit_letter_1.scrollitem:setScrollText("My friends, I wish to be left alone. \
My deep meditations could be disturbed by accepting visitors.\
\
I know why are you here. I can give you what is the most valuable...\
\
I can give you help. Always read my words carefully.\
\
All living creatures feel fear. Peasants, kings, pirates or beach crabs. \
You only need to find what is it that your enemy fears the most.\
\
Talk to aaa. He is apprentice to bbb. Give him my neclace.")
spawn("hermit_necklace",10,20,3,0,"hermit_necklace_1")
spawn("sound",13,21,2,0,"hermit_drop_sound")
hermit_drop_sound.sound:setSound("monster_item_drop")
hermit_drop_sound.sound:disable()
spawn("mine_support_wall_02",15,22,0,0,"mine_support_wall_02_11")
spawn("mine_support_wall_01",15,22,3,0,"mine_support_wall_01_45")
spawn("beach_sandpile",15,22,2,0,"beach_sandpile_3")
spawn("beach_cattail_blocker",15,22,2,0,"beach_cattail_blocker_62")
spawn("dungeon_alcove",9,20,3,0,"dungeon_alcove_8")
spawn("dungeon_alcove",9,22,3,0,"dungeon_alcove_9")
spawn("mine_support_wall_01",15,20,3,0,"mine_support_wall_01_97")
spawn("dungeon_pillar_high",15,21,2,0,"dungeon_pillar_high_28")
spawn("beach_sandpile",15,20,2,0,"beach_sandpile_4")
spawn("forest_heather",15,20,2,0,"forest_heather_4")
spawn("swamp_mushrooms_01",15,20,0,0,"swamp_mushrooms_01_2")
spawn("swamp_mushroom_cluster",15,22,1,0,"swamp_mushroom_cluster_1")
spawn("floor_dirt",15,22,3,0,"floor_dirt_21")
spawn("forest_seaweed_wall_decoration_01",15,20,0,0,"forest_seaweed_wall_decoration_01_1")
spawn("invisible_wall",15,20,3,0,"invisible_wall_49")
spawn("altar",12,21,3,0,"altar_2")
spawn("ladder",9,9,3,-1,"ladder_5")
spawn("water_surface_underground",0,0,2,0,"water_surface_underground_1")
spawn("dungeon_stairs_up",11,9,1,-1,"dungeon_stairs_up_7")
dungeon_stairs_up_7.stairs:setTeleportTarget(6,13,9,-1)
spawn("forest_fireflies",3,8,0,0,"forest_fireflies_1")
forest_fireflies_1.light:disable()
spawn("forest_fireflies",2,8,0,0,"forest_fireflies_2")
forest_fireflies_2.light:disable()
spawn("mine_ceiling_roots_01",9,10,2,0,"mine_ceiling_roots_01_2")
spawn("mine_ceiling_roots_01",10,7,2,0,"mine_ceiling_roots_01_3")
spawn("ceiling_roots_01",10,9,1,0,"ceiling_roots_01_5")
spawn("ceiling_roots_01",10,11,3,0,"ceiling_roots_01_6")
spawn("dungeon_wall_ivy_01",10,10,1,0,"dungeon_wall_ivy_01_5")
spawn("dungeon_wall_ivy_01",10,7,1,0,"dungeon_wall_ivy_01_6")
spawn("dungeon_wall_ivy_02",10,8,1,0,"dungeon_wall_ivy_02_4")
spawn("dungeon_wall_ivy_02",10,11,1,0,"dungeon_wall_ivy_02_5")
spawn("dungeon_wall_ivy_02",9,10,2,0,"dungeon_wall_ivy_02_6")
spawn("dungeon_wall_ivy_01",9,8,0,0,"dungeon_wall_ivy_01_7")
spawn("dungeon_pillar",11,11,3,0,"dungeon_pillar_115")
spawn("forest_fireflies",1,9,0,0,"forest_fireflies_3")
forest_fireflies_3.light:disable()
spawn("forest_fireflies",10,9,0,0,"forest_fireflies_4")
forest_fireflies_4.light:disable()
spawn("mine_bridge_01",5,9,1,0,"mine_bridge_01_3")
spawn("mine_bridge_01",6,9,3,0,"mine_bridge_01_4")
spawn("forest_fireflies",2,10,0,0,"forest_fireflies_5")
forest_fireflies_5.light:disable()
spawn("forest_fireflies",3,12,0,0,"pillon_1")
spawn("script_entity",7,8,0,0,"script_entity_2")
script_entity_2.script:setSource("pillon_1_color = 1\
pillon_2_color = 2\
pillon_3_color = 3\
\
function turnLights()\9\
\9local pillon_colors = {\
\9\9vec(0.1, 0.3, 3, 0),\
\9\9vec(3.5, 5, 0, 0),\
\9\9vec(0.1, 3.3, 0.3, 0)\
\9}\
\9pillon_1.light:setColor(pillon_colors[pillon_1_color])\
\9pillon_2.light:setColor(pillon_colors[pillon_2_color])\
\9pillon_3.light:setColor(pillon_colors[pillon_3_color])\9\
end\
\
function pillon1()\
\9pillon_1_color = pillon_1_color + 1\
\9if pillon_1_color > 3 then\
\9\9pillon_1_color = 1\
\9end\
\9turnLights()\
end\
\
function pillon2()\
\9pillon_2_color = pillon_2_color + 1\
\9if pillon_2_color > 3 then\
\9\9pillon_2_color = 1\
\9end\
\9turnLights()\
end\
\
function pillon3()\
\9pillon_3_color = pillon_3_color + 1\
\9if pillon_3_color > 3 then\
\9\9pillon_3_color = 1\
\9end\
\9turnLights()\
end")
spawn("floor_trigger",8,9,3,0,"floor_trigger_9")
floor_trigger_9.floortrigger:setTriggeredByParty(true)
floor_trigger_9.floortrigger:setTriggeredByMonster(true)
floor_trigger_9.floortrigger:setTriggeredByItem(true)
floor_trigger_9.floortrigger:setTriggeredByDigging(false)
floor_trigger_9.floortrigger:setDisableSelf(false)
floor_trigger_9.floortrigger:addConnector("onActivate", "script_entity_2", "turnLights")
spawn("mine_pillar_crystal",2,9,1,0,"mine_pillar_crystal_1")
spawn("mine_bridge_01",5,8,3,0,"mine_bridge_01_5")
spawn("mine_bridge_01",6,8,1,0,"mine_bridge_01_6")
spawn("mine_pillar_crystal",2,6,2,0,"mine_pillar_crystal_2")
spawn("mine_pillar_crystal",2,12,0,0,"mine_pillar_crystal_3")
spawn("forest_fireflies",3,6,0,0,"pillon_3")
spawn("ladder_metal",5,10,1,-2,"ladder_metal_10")
spawn("mine_support_pillar_01",5,10,0,-2,"mine_support_pillar_01_75")
spawn("mine_support_pillar_01",5,8,0,-2,"mine_support_pillar_01_76")
spawn("mine_support_pillar_01",6,9,0,-2,"mine_support_pillar_01_77")
spawn("mine_support_pillar_01",6,9,0,-1,"mine_support_pillar_01_78")
spawn("mine_support_pillar_01",5,10,0,-1,"mine_support_pillar_01_79")
spawn("mine_support_pillar_01",5,8,0,-1,"mine_support_pillar_01_80")
spawn("mine_support_pillar_01",6,8,0,-2,"mine_support_pillar_01_81")
spawn("mine_support_pillar_01",6,8,0,-1,"mine_support_pillar_01_82")
spawn("mine_support_pillar_01",5,9,0,-1,"mine_support_pillar_01_83")
spawn("mine_support_pillar_01",5,9,0,-2,"mine_support_pillar_01_84")
spawn("forest_fireflies",3,9,0,0,"pillon_2")
spawn("ladder",6,10,0,-1,"ladder_10")
spawn("mine_lever",5,9,3,0,"mine_lever_2")
mine_lever_2.lever:setDisableSelf(false)
mine_lever_2.lever:addConnector("onToggle", "script_entity_2", "pillon2")
spawn("mine_lever",5,8,3,0,"mine_lever_3")
mine_lever_3.lever:setDisableSelf(false)
mine_lever_3.lever:addConnector("onToggle", "script_entity_2", "pillon3")
spawn("mine_bridge_01",5,10,1,0,"mine_bridge_01_7")
spawn("mine_lever",5,10,3,0,"mine_lever_4")
mine_lever_4.lever:setDisableSelf(false)
mine_lever_4.lever:addConnector("onToggle", "script_entity_2", "pillon1")
spawn("mine_support_pillar_01",5,11,0,-2,"mine_support_pillar_01_85")
spawn("mine_support_pillar_01",5,11,0,-1,"mine_support_pillar_01_86")
spawn("mine_support_wall_01",5,10,3,0,"mine_support_wall_01_99")
mine_support_wall_01_99.model:disable()
spawn("mine_support_wall_01",5,9,3,0,"mine_support_wall_01_100")
mine_support_wall_01_100.model:disable()
spawn("mine_support_wall_01",4,8,1,0,"mine_support_wall_01_101")
mine_support_wall_01_101.model:disable()
spawn("mine_support_pillar_lantern_01",7,9,3,0,"mine_support_pillar_lantern_01_9")
spawn("mine_bridge_01",5,11,1,0,"mine_bridge_01_8")
spawn("mine_bridge_01",6,11,1,0,"mine_bridge_01_9")
spawn("mine_door_camo",6,13,3,-2,"mine_door_camo_2")
spawn("mine_wall_text",5,14,1,-2,"mine_wall_text_3")
mine_wall_text_3.walltext:setWallText("FADHRO. GOTHRI. MISINUL.")
spawn("mine_alcove",0,11,3,-2,"mine_alcove_2")
spawn("mine_ceiling_pit_light",15,28,0,0,"mine_ceiling_pit_light_1")
spawn("floor_dirt",15,28,2,0,"floor_dirt_42")
spawn("floor_spike_trap",15,28,2,0,"floor_spike_trap_14")
floor_spike_trap_14.animation:disable()

--- level 8 ---

newMap{
	name = "Lighthouse basement",
	width = 32,
	height = 32,
	levelCoord = {0,0,1},
	ambientTrack = "dungeon",
	tiles = {
		"dungeon_floor",
		"dungeon_wall",
	}
}

loadLayer("floor_elevation", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("ceiling_elevation", {
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,2,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

loadLayer("tiles", {
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,1,1,1,2,1,2,2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,1,2,1,2,1,2,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,1,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,1,1,1,2,2,2,2,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,1,1,1,1,2,1,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
	2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
})

spawn("dungeon_stairs_up",14,14,1,0,"dungeon_stairs_up_1")
spawn("torch_holder",13,14,3,0,"torch_holder_1")
torch_holder_1.controller:setHasTorch(true)
spawn("torch_holder",18,16,1,0,"torch_holder_2")
torch_holder_2.controller:setHasTorch(true)
spawn("chest",15,16,2,0,"chest_1")
chest_1.lock:enable()
spawn("pellet_box",15,16,2,0,"pellet_box_1")
pellet_box_1.item:setStackSize(17)
chest_1.surface:addItem(pellet_box_1.item)
spawn("letter",15,16,2,0,"letter_1")
letter_1.scrollitem:setScrollText("Dear mom,\
\
I am going to join pirates. I will come back home when I am rich pirate.\
\
Hans")
chest_1.surface:addItem(letter_1.item)
spawn("flintlock",15,16,2,0,"flintlock_1")
chest_1.surface:addItem(flintlock_1.item)
spawn("cutlass",15,16,2,0,"cutlass_1")
chest_1.surface:addItem(cutlass_1.item)
chest_1.chest:setLocked(true)
spawn("barrel_crate_block",18,17,1,0,"barrel_crate_block_1")
spawn("barrel_crate_block",18,14,3,0,"barrel_crate_block_2")
spawn("barrel_crate_block",17,18,3,0,"barrel_crate_block_3")
spawn("barrel_crate_block",14,18,2,0,"barrel_crate_block_4")
spawn("barrel_crate_block_damaged",17,14,2,0,"barrel_crate_block_damaged_1")
spawn("barrel_crate_block_damaged",16,18,1,0,"barrel_crate_block_damaged_2")
spawn("pellet_box",18,17,1,0,"pellet_box_2")
pellet_box_2.item:setStackSize(8)
spawn("sling",17,14,1,0,"sling_1")
spawn("bread",14,18,3,0,"bread_1")
spawn("bread",16,18,2,0,"bread_2")
spawn("cheese",18,14,0,0,"cheese_1")
spawn("compass",17,18,1,0,"compass_1")
spawn("lock_pick",14,18,2,0,"lock_pick_2")
spawn("lock_pick",17,18,1,0,"lock_pick_3")
spawn("dagger",18,14,1,0,"dagger_1")
spawn("shoes",14,18,2,0,"shoes_1")
spawn("shoes",17,14,0,0,"shoes_2")
spawn("sandals",18,17,2,0,"sandals_1")
spawn("peasant_breeches",17,14,0,0,"peasant_breeches_1")
spawn("peasant_cap",18,17,2,0,"peasant_cap_1")
spawn("peasant_tunic",16,18,2,0,"peasant_tunic_1")
spawn("dungeon_wall_text",13,14,0,0,"dungeon_wall_text_1")
dungeon_wall_text_1.walltext:setWallText("Storage room")
spawn("dungeon_alcove",16,15,3,0,"dungeon_alcove_2")
spawn("fire_bomb",16,15,3,0,"fire_bomb_2")
dungeon_alcove_2.surface:addItem(fire_bomb_2.item)
spawn("dungeon_door_wooden",13,16,0,0,"storage_door")
spawn("lock_round",13,15,3,0,"storage_lock")
storage_lock.lock:setOpenedBy("lock_pick")
storage_lock.lock:addConnector("onActivate", "storage_portcullis", "close")
storage_lock.lock:addConnector("onActivate", "storage_unlocked_counter", "decrement")
storage_lock.lock:addConnector("onActivate", "storage_script", "startTrap")
spawn("script_entity",14,15,3,0,"storage_script")
storage_script.script:setSource("function button()\
\9if storage_unlocked_counter.counter:getValue() == 0 then\
\9\9storage_door.door:open()\
\9\9trapEnd()\
\9else\
\9\9storage_portcullis.door:close()\
\9\9startTrap()\9\9\
\9end\9\
end\
\
function trapSolved()\
\9helper.script.gainExp(1000, \"Storage room trap disabled.\")\
end\
\
function startTrap()\
\9trap_fire.light:enable()\
\9trap_fire.particle:enable()\
\9trap_fire.particle:enable()\
\9trap_start_timer.timer:start()\
\9trap_click_timer.timer:start()\
end\
\
function trapKill()\
\9spawn(\"flame_wave\", 2, 13, 15, 0, 0)\
end\
\
function trapEnd()\
\9trap_solved_counter.counter:decrement()\
\9trap_fire.light:disable()\
\9trap_fire.particle:disable()\
\9trap_fire.sound:disable()\
\9trap_killing_timer.timer:disable()\
\9trap_start_timer.timer:disable()\
\9trap_click_timer.timer:stop()\
end")
spawn("dungeon_secret_door",19,15,3,0,"dungeon_secret_door_1")
spawn("dungeon_door_portcullis",13,15,0,0,"storage_portcullis")
storage_portcullis.door:setDoorState("open")
spawn("teleporter",15,20,3,0,"teleporter_1")
teleporter_1.teleporter:setTeleportTarget(8,17,11,0)
teleporter_1.teleporter:setSpin("none")
teleporter_1.teleporter:setTriggeredByParty(true)
teleporter_1.teleporter:setTriggeredByMonster(true)
teleporter_1.teleporter:setTriggeredByItem(true)
teleporter_1.teleporter:setTriggeredBySpell(true)
spawn("teleporter",17,10,3,0,"teleporter_2")
teleporter_2.teleporter:setTeleportTarget(8,15,19,0)
teleporter_2.teleporter:setSpin("none")
teleporter_2.teleporter:setTriggeredByParty(true)
teleporter_2.teleporter:setTriggeredByMonster(true)
teleporter_2.teleporter:setTriggeredByItem(true)
teleporter_2.teleporter:setTriggeredBySpell(true)
teleporter_2.controller:setInitialState("deactivate")
spawn("ladder_metal",14,11,3,0,"ladder_metal_3")
spawn("ladder_metal",18,11,3,-1,"ladder_metal_4")
spawn("counter",12,15,0,0,"storage_unlocked_counter")
storage_unlocked_counter.counter:setValue(1)
spawn("dungeon_alcove",18,11,0,-1,"dungeon_alcove_3")
spawn("blooddrop_cap",18,11,0,-1,"blooddrop_cap_10")
blooddrop_cap_10.item:setStackSize(3)
dungeon_alcove_3.surface:addItem(blooddrop_cap_10.item)
spawn("scroll_recipe",18,11,0,-1,"scroll_recipe_1")
scroll_recipe_1.scrollitem:setScrollText("Etherweed provides energy while Blooddrop cap provides health. What would happen if I create potion from both of them?")
dungeon_alcove_3.surface:addItem(scroll_recipe_1.item)
spawn("dungeon_alcove",16,11,0,0,"dungeon_alcove_4")
spawn("note",16,11,0,0,"note_1")
note_1.scrollitem:setScrollText("Crystal flowers growing on this island seem to have strange powers.")
dungeon_alcove_4.surface:addItem(note_1.item)
dungeon_alcove_4.surface:addConnector("onInsertItem", "laboratory_script", "alcoveInsertItem")
dungeon_alcove_4.surface:addConnector("onRemoveItem", "laboratory_script", "alcoveRemoveItem")
spawn("dungeon_pit_trapdoor",15,10,2,0,"dungeon_pit_trapdoor_1")
dungeon_pit_trapdoor_1.pit:setState("open")
dungeon_pit_trapdoor_1.platform:disable()
spawn("dungeon_pit_trapdoor",15,9,2,0,"dungeon_pit_trapdoor_2")
dungeon_pit_trapdoor_2.pit:setState("open")
dungeon_pit_trapdoor_2.platform:disable()
spawn("dungeon_pressure_plate",15,8,0,0,"dungeon_pressure_plate_1")
dungeon_pressure_plate_1.floortrigger:setTriggeredByParty(true)
dungeon_pressure_plate_1.floortrigger:setTriggeredByMonster(true)
dungeon_pressure_plate_1.floortrigger:setTriggeredByItem(true)
dungeon_pressure_plate_1.floortrigger:setTriggeredByDigging(false)
dungeon_pressure_plate_1.floortrigger:setDisableSelf(false)
dungeon_pressure_plate_1.floortrigger:addConnector("onToggle", "dungeon_pit_trapdoor_1", "toggle")
dungeon_pressure_plate_1.floortrigger:addConnector("onToggle", "dungeon_pit_trapdoor_2", "toggle")
spawn("dungeon_secret_door",15,19,0,0,"dungeon_secret_door_2")
spawn("dungeon_secret_button_small",15,19,3,0,"dungeon_secret_button_small_2")
dungeon_secret_button_small_2.button:setDisableSelf(false)
dungeon_secret_button_small_2.button:addConnector("onActivate", "dungeon_secret_door_2", "toggle")
spawn("chest",20,8,3,0,"chest_2")
chest_2.lock:enable()
spawn("embalmers_boots",20,8,3,0,"embalmers_boots_1")
chest_2.surface:addItem(embalmers_boots_1.item)
spawn("embalmers_pants",20,8,3,0,"embalmers_pants_1")
chest_2.surface:addItem(embalmers_pants_1.item)
spawn("potion_healing",20,8,3,0,"potion_healing_1")
chest_2.surface:addItem(potion_healing_1.item)
spawn("potion_energy",20,8,3,0,"potion_energy_1")
chest_2.surface:addItem(potion_energy_1.item)
chest_2.chest:setLocked(true)
spawn("terracotta_jars_block",19,6,2,0,"terracotta_jars_block_1")
spawn("terracotta_jars_block",18,8,2,0,"terracotta_jars_block_2")
spawn("terracotta_jars_block",16,7,1,0,"terracotta_jars_block_3")
spawn("terracotta_jars_block",16,6,1,0,"terracotta_jars_block_4")
spawn("dungeon_secret_button_large",18,17,2,0,"dungeon_secret_button_large_3")
dungeon_secret_button_large_3.button:setDisableSelf(false)
dungeon_secret_button_large_3.button:addConnector("onActivate", "dungeon_secret_door_1", "open")
spawn("force_field",18,11,2,0,"laboratory_force_field")
laboratory_force_field.sound:disable()
laboratory_force_field.controller:setInitialState("deactivate")
spawn("blooddrop_cap",17,8,2,0,"blooddrop_cap_1")
spawn("blooddrop_cap",18,8,2,0,"blooddrop_cap_2")
spawn("blooddrop_cap",16,6,3,0,"blooddrop_cap_3")
spawn("blooddrop_cap",19,6,1,0,"blooddrop_cap_4")
spawn("blackmoss",16,6,3,0,"blackmoss_1")
spawn("blackmoss",16,6,3,0,"blackmoss_2")
spawn("blackmoss",19,6,1,0,"blackmoss_3")
spawn("blackmoss",19,6,1,0,"blackmoss_4")
spawn("blackmoss",18,8,2,0,"blackmoss_5")
spawn("blackmoss",18,8,2,0,"blackmoss_6")
spawn("blackmoss",17,8,2,0,"blackmoss_7")
spawn("blooddrop_cap",16,7,3,0,"blooddrop_cap_5")
spawn("blooddrop_cap",19,6,0,0,"blooddrop_cap_6")
spawn("blooddrop_cap",19,6,0,0,"blooddrop_cap_7")
spawn("blooddrop_cap",16,6,0,0,"blooddrop_cap_8")
spawn("blooddrop_cap",16,6,0,0,"blooddrop_cap_9")
spawn("etherweed",16,6,3,0,"etherweed_1")
spawn("etherweed",17,8,2,0,"etherweed_2")
spawn("etherweed",18,8,2,0,"etherweed_3")
spawn("etherweed",19,6,1,0,"etherweed_4")
spawn("falconskyre",17,8,2,0,"falconskyre_1")
spawn("mudwort",16,6,3,0,"mudwort_1")
spawn("dungeon_fire_pit",13,15,3,0,"trap_fire")
trap_fire.light:disable()
trap_fire.particle:disable()
trap_fire.sound:disable()
spawn("dungeon_fire_pit",17,6,2,0,"dungeon_fire_pit_2")
spawn("chest",20,16,0,0,"chest_3")
chest_3.lock:enable()
spawn("xafi_khakis",20,16,0,0,"xafi_khakis_1")
chest_3.surface:addItem(xafi_khakis_1.item)
spawn("xafi_robe",20,16,0,0,"xafi_robe_1")
chest_3.surface:addItem(xafi_robe_1.item)
spawn("xafi_shemagh",20,16,0,0,"xafi_shemagh_1")
chest_3.surface:addItem(xafi_shemagh_1.item)
chest_3.chest:setLocked(true)
spawn("timer",11,14,2,0,"trap_start_timer")
trap_start_timer.timer:setTimerInterval(5)
trap_start_timer.timer:setDisableSelf(true)
trap_start_timer.timer:setTriggerOnStart(false)
trap_start_timer.timer:setCurrentLevelOnly(false)
trap_start_timer.timer:addConnector("onActivate", "trap_killing_timer", "start")
trap_start_timer.timer:addConnector("onActivate", "trap_click_timer", "stop")
trap_start_timer.timer:disable()
spawn("timer",11,15,2,0,"trap_killing_timer")
trap_killing_timer.timer:setTimerInterval(5)
trap_killing_timer.timer:setDisableSelf(false)
trap_killing_timer.timer:setTriggerOnStart(true)
trap_killing_timer.timer:setCurrentLevelOnly(false)
trap_killing_timer.timer:addConnector("onActivate", "storage_script", "trapKill")
trap_killing_timer.timer:disable()
spawn("dungeon_wall_text",13,11,3,1,"dungeon_wall_text_2")
dungeon_wall_text_2.walltext:setWallText("House of Balbuino, Alchemist")
spawn("lock_pick",13,14,2,0,"lock_pick_4")
spawn("sound",13,15,3,0,"sound_1")
sound_1.sound:setSound("button")
sound_1.sound:disable()
spawn("timer",11,16,2,0,"trap_click_timer")
trap_click_timer.timer:setTimerInterval(0.5)
trap_click_timer.timer:setDisableSelf(false)
trap_click_timer.timer:setTriggerOnStart(false)
trap_click_timer.timer:setCurrentLevelOnly(false)
trap_click_timer.timer:addConnector("onActivate", "sound_1", "toggle")
trap_click_timer.timer:disable()
spawn("counter",12,14,3,0,"trap_solved_counter")
trap_solved_counter.counter:setValue(1)
trap_solved_counter.counter:addConnector("onActivate", "storage_script", "trapSolved")
spawn("dungeon_fire_pit",18,6,2,0,"dungeon_fire_pit_1")
spawn("dungeon_stairs_up",13,9,0,1,"dungeon_stairs_up_2")
spawn("dungeon_wall_text_long",18,11,1,-1,"dungeon_wall_text_long_2")
dungeon_wall_text_long_2.walltext:setWallText("You can use my laboratory, but do not take away any of my tools!")
spawn("lever",17,11,2,0,"lever_1")
lever_1.clickable:disable()
lever_1.lever:setDisableSelf(false)
lever_1.lever:addConnector("onToggle", "dungeon_secret_door_3", "toggle")
lever_1.lever:addConnector("onToggle", "teleporter_2", "toggle")
spawn("dungeon_secret_door",17,11,0,0,"dungeon_secret_door_3")
spawn("dungeon_wall_chains_hooks_01",18,11,1,-1,"dungeon_wall_chains_hooks_01_1")
spawn("altar",18,12,2,-1,"altar_1")
spawn("mortar",18,12,2,-1,"laboratory_mortar")
altar_1.surface:addItem(laboratory_mortar.item)
altar_1.surface:addConnector("onInsertItem", "laboratory_script", "altarInsertItem")
altar_1.surface:addConnector("onRemoveItem", "laboratory_script", "altarRemoveItem")
spawn("torch_holder",18,12,3,-1,"laboratory_torch_1")
laboratory_torch_1.clickable:disable()
laboratory_torch_1.socket:disable()
laboratory_torch_1.particle:disable()
laboratory_torch_1.light:disable()
laboratory_torch_1.sound:disable()
laboratory_torch_1.controller:setHasTorch(true)
laboratory_torch_1.controller:disable()
spawn("torch_holder",18,12,1,-1,"laboratory_torch_2")
laboratory_torch_2.clickable:disable()
laboratory_torch_2.socket:disable()
laboratory_torch_2.particle:disable()
laboratory_torch_2.light:disable()
laboratory_torch_2.sound:disable()
laboratory_torch_2.controller:setHasTorch(true)
laboratory_torch_2.controller:disable()
spawn("dungeon_wall_chains_01",18,12,2,-1,"dungeon_wall_chains_01_1")
spawn("script_entity",19,11,1,0,"laboratory_script")
laboratory_script.script:setSource("function altarInsertItem(altar, item)\
\9if item.go.id == \"laboratory_mortar\" then\
\9\9deactivateField()\
\9end\
end\
\
function altarRemoveItem(altar, item)\
\9if item.go.id == \"laboratory_mortar\" then\
\9\9activateField()\
\9end\
end\
\
function activateField()\
\9laboratory_force_field.controller:activate()\
\9laboratory_torch_1.particle:enable()\
\9laboratory_torch_1.sound:enable()\
\9laboratory_torch_1.light:enable()\
\9laboratory_torch_2.particle:enable()\
\9laboratory_torch_2.sound:enable()\
\9laboratory_torch_2.light:enable()\
end\
\
function deactivateField()\
\9laboratory_force_field.controller:deactivate()\9\
\9laboratory_torch_1.particle:disable()\
\9laboratory_torch_1.sound:disable()\
\9laboratory_torch_1.light:disable()\
\9laboratory_torch_2.particle:disable()\
\9laboratory_torch_2.sound:disable()\
\9laboratory_torch_2.light:disable()\
end\
\
function alcoveInsertItem(alcove, item)\
\9if item.go.name == \"crystal_flower\" then\
\9\9lever_1.lever:toggle()\
\9end\
end\
\
function alcoveRemoveItem(alcove, item)\
\9if item.go.name == \"crystal_flower\" then\
\9\9lever_1.lever:toggle()\
\9end\
end")
spawn("floor_dirt",18,11,2,-1,"floor_dirt_1")
spawn("crystal_flower",16,11,1,0,"crystal_flower_1")
spawn("dungeon_alcove",15,19,1,0,"dungeon_alcove_5")
spawn("embalmers_headpiece",15,19,1,0,"embalmers_headpiece_1")
dungeon_alcove_5.surface:addItem(embalmers_headpiece_1.item)
spawn("dungeon_alcove",17,6,0,0,"dungeon_alcove_6")
spawn("tome_wisdom",17,6,0,0,"tome_wisdom_1")
dungeon_alcove_6.surface:addItem(tome_wisdom_1.item)
spawn("dungeon_alcove",18,6,0,0,"dungeon_alcove_7")
spawn("tome_moon",18,6,0,0,"tome_moon_1")
dungeon_alcove_7.surface:addItem(tome_moon_1.item)
spawn("dungeon_wall_broken_01",18,11,2,0,"dungeon_wall_broken_01_1")
spawn("lever",13,15,1,0,"lever_3")
lever_3.lever:setDisableSelf(false)
lever_3.lever:addConnector("onActivate", "storage_script", "button")
spawn("dungeon_secret_button_small",14,17,0,0,"dungeon_secret_button_small_1")
dungeon_secret_button_small_1.button:setDisableSelf(false)
dungeon_secret_button_small_1.button:addConnector("onActivate", "storage_portcullis", "open")
spawn("dungeon_wall_text_long",16,15,0,0,"dungeon_wall_text_long_3")
dungeon_wall_text_long_3.walltext:setWallText("Do not waste! It is the blood of our lighthouse.")
spawn("dungeon_pit",7,11,2,0,"dungeon_pit_2")
spawn("spawner",10,7,3,0,"spawner_2")
spawner_2.spawner:setSpawnedEntity("poison_cloud_small")
spawner_2.spawner:setMonsterLevel(1)
spawner_2.spawner:setCooldown(0)
spawner_2.spawner:setDisableSelf(false)
spawn("timer",9,7,1,0,"timer_3")
timer_3.timer:setTimerInterval(12)
timer_3.timer:setDisableSelf(false)
timer_3.timer:setTriggerOnStart(false)
timer_3.timer:setCurrentLevelOnly(false)
timer_3.timer:addConnector("onActivate", "spawner_2", "activate")
spawn("dungeon_pit",10,7,2,0,"dungeon_pit_3")
spawn("dungeon_stairs_up",13,6,2,0,"dungeon_stairs_up_5")
spawn("dungeon_stairs_down",9,9,2,0,"dungeon_stairs_down_3")
spawn("timer",9,6,1,0,"initial_timer")
initial_timer.timer:setTimerInterval(5)
initial_timer.timer:setDisableSelf(true)
initial_timer.timer:setTriggerOnStart(false)
initial_timer.timer:setCurrentLevelOnly(false)
initial_timer.timer:addConnector("onActivate", "spawner_2", "activate")
spawn("dungeon_wall_text",9,7,3,0,"dungeon_wall_text_4")
dungeon_wall_text_4.walltext:setWallText("Sewer vent")
spawn("rat_swarm",21,15,2,0,"rat_swarm_1")
spawn("rat_swarm",20,15,1,0,"rat_swarm_2")
spawn("tiny_rat",17,16,2,0,"tiny_rat_1")
spawn("tiny_rat",14,17,1,0,"tiny_rat_2")
spawn("tiny_rat",16,15,1,0,"tiny_rat_3")
spawn("torch_holder",16,11,2,0,"torch_holder_3")
torch_holder_3.controller:setHasTorch(true)
spawn("torch_holder",16,7,3,0,"torch_holder_4")
torch_holder_4.controller:setHasTorch(true)
spawn("dungeon_secret_button_small",14,11,0,0,"dungeon_secret_button_small_3")
dungeon_secret_button_small_3.button:setDisableSelf(false)
dungeon_secret_button_small_3.button:addConnector("onActivate", "teleporter_3", "activate")
dungeon_secret_button_small_3.button:addConnector("onActivate", "laboratory_teleporter_timer", "start")
spawn("teleporter",15,8,2,0,"teleporter_3")
teleporter_3.teleporter:setTeleportTarget(8,15,11,0)
teleporter_3.teleporter:setSpin("none")
teleporter_3.teleporter:setTriggeredByParty(false)
teleporter_3.teleporter:setTriggeredByMonster(false)
teleporter_3.teleporter:setTriggeredByItem(true)
teleporter_3.teleporter:setTriggeredBySpell(false)
teleporter_3.controller:setInitialState("deactivate")
spawn("timer",14,10,1,0,"laboratory_teleporter_timer")
laboratory_teleporter_timer.timer:setTimerInterval(1)
laboratory_teleporter_timer.timer:setDisableSelf(true)
laboratory_teleporter_timer.timer:setTriggerOnStart(false)
laboratory_teleporter_timer.timer:setCurrentLevelOnly(false)
laboratory_teleporter_timer.timer:addConnector("onActivate", "teleporter_3", "deactivate")
laboratory_teleporter_timer.timer:disable()
spawn("tiny_rat",17,7,3,0,"tiny_rat_4")
spawn("tiny_rat",19,7,3,0,"tiny_rat_5")
spawn("rat_swarm",19,8,3,0,"rat_swarm_3")
spawn("rat_swarm",18,7,1,0,"rat_swarm_4")
spawn("potion_cure_poison",14,12,2,0,"potion_cure_poison_3")
spawn("potion_cure_poison",14,12,2,0,"potion_cure_poison_4")
spawn("potion_poison",14,12,3,0,"potion_poison_1")
spawn("poison_bomb",14,12,1,0,"poison_bomb_3")
spawn("poison_bomb",14,12,1,0,"poison_bomb_4")
spawn("dungeon_wall_height_difference",11,8,2,0,"dungeon_wall_height_difference_2")
spawn("forest_pit",11,9,3,0,"forest_pit_1")
spawn("spawner",11,8,0,0,"spawner_8")
spawner_8.spawner:setSpawnedEntity("rat_swarm")
spawner_8.spawner:setMonsterLevel(1)
spawner_8.spawner:setCooldown(120)
spawner_8.spawner:setDisableSelf(false)
spawn("floor_trigger",9,8,1,0,"floor_trigger_2")
floor_trigger_2.floortrigger:setTriggeredByParty(true)
floor_trigger_2.floortrigger:setTriggeredByMonster(false)
floor_trigger_2.floortrigger:setTriggeredByItem(false)
floor_trigger_2.floortrigger:setTriggeredByDigging(false)
floor_trigger_2.floortrigger:setDisableSelf(false)
floor_trigger_2.floortrigger:addConnector("onActivate", "spawner_8", "activate")
spawn("floor_trigger",11,5,3,0,"floor_trigger_3")
floor_trigger_3.floortrigger:setTriggeredByParty(true)
floor_trigger_3.floortrigger:setTriggeredByMonster(false)
floor_trigger_3.floortrigger:setTriggeredByItem(false)
floor_trigger_3.floortrigger:setTriggeredByDigging(false)
floor_trigger_3.floortrigger:setDisableSelf(false)
floor_trigger_3.floortrigger:addConnector("onActivate", "spawner_8", "activate")
spawn("invisible_wall",11,9,0,0,"invisible_wall_21")
spawn("tiny_rat",11,7,3,0,"tiny_rat_6")
spawn("mine_spell_launcher",17,8,2,0,"mine_spell_launcher_1")
spawn("fire_trap_rune",17,6,0,0,"fire_trap_rune_1")
fire_trap_rune_1.floortrigger:setTriggeredByParty(true)
fire_trap_rune_1.floortrigger:setTriggeredByMonster(true)
fire_trap_rune_1.floortrigger:setTriggeredByItem(false)
fire_trap_rune_1.floortrigger:setTriggeredByDigging(false)
fire_trap_rune_1.floortrigger:setDisableSelf(false)
spawn("fire_trap_rune",18,6,1,0,"fire_trap_rune_2")
fire_trap_rune_2.floortrigger:setTriggeredByParty(true)
fire_trap_rune_2.floortrigger:setTriggeredByMonster(true)
fire_trap_rune_2.floortrigger:setTriggeredByItem(false)
fire_trap_rune_2.floortrigger:setTriggeredByDigging(false)
fire_trap_rune_2.floortrigger:setDisableSelf(false)
spawn("dungeon_wall_grating",17,9,0,0,"dungeon_wall_grating_10")
spawn("dungeon_secret_door",17,10,0,0,"dungeon_secret_door_4")
spawn("dungeon_stairs_up",4,2,1,0,"dungeon_stairs_up_8")
spawn("dungeon_pit",2,2,2,0,"dungeon_pit_1")

--- level 9 ---

newMap{
	name = "Lighthouse sewers",
	width = 32,
	height = 32,
	levelCoord = {0,0,2},
	ambientTrack = "dungeon",
	tiles = {
		"dungeon_floor",
		"dungeon_floor_water",
		"dungeon_wall",
	}
}

loadLayer("floor_elevation", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-2,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("ceiling_elevation", {
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

loadLayer("tiles", {
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,1,3,3,3,3,3,3,3,3,1,1,1,3,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,1,3,3,3,3,3,3,3,1,1,1,2,2,2,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,1,1,1,3,3,3,3,3,1,3,1,1,2,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,1,1,1,3,3,3,2,3,1,3,1,1,2,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,1,1,1,3,3,3,2,1,1,3,1,1,2,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,2,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,2,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,2,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,2,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,2,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
})

spawn("swamp_water",3,0,3,0,"swamp_water_1")
spawn("ladder_metal",15,7,2,-1,"ladder_metal_5")
spawn("ladder_metal",7,13,1,-1,"ladder_metal_6")
spawn("script_entity",15,11,1,0,"sewers_script")
sewers_script.script:setSource("function poisonGas()\
\9spawn(\"poison_cloud_small\", party.level, party.x, party.y, party.facing, party.elevation)\
end\
\
function foundBalbuino()\
\9helper.script.gainExp(1000, \"You have found remains of Balbuino, the alchemist.\")\
end\
\
function escapedLair()\
\9helper.script.gainExp(4000, \"You have made it alive from the lair.\")\
end")
spawn("dungeon_wall_ivy_01",16,8,1,0,"dungeon_wall_ivy_01_1")
spawn("dungeon_wall_ivy_02",14,11,2,0,"dungeon_wall_ivy_02_1")
spawn("spawner",16,8,3,0,"spawner_1")
spawner_1.spawner:setSpawnedEntity("poison_cloud_medium")
spawner_1.spawner:setMonsterLevel(1)
spawner_1.spawner:setCooldown(0)
spawner_1.spawner:setDisableSelf(false)
spawn("timer",18,8,1,0,"timer_1")
timer_1.timer:setTimerInterval(18)
timer_1.timer:setDisableSelf(false)
timer_1.timer:setTriggerOnStart(true)
timer_1.timer:setCurrentLevelOnly(true)
timer_1.timer:addConnector("onActivate", "spawner_1", "activate")
spawn("dungeon_cave_in",17,8,1,0,"dungeon_cave_in_1")
spawn("poison_bomb",16,8,1,0,"poison_bomb_1")
spawn("poison_bomb",16,8,1,0,"poison_bomb_2")
spawn("invisible_wall",17,8,2,0,"invisible_wall_1")
spawn("dungeon_wall_height_difference",16,8,1,0,"dungeon_wall_height_difference_1")
spawn("ladder_metal",17,6,2,-1,"ladder_metal_7")
spawn("brass_key",17,7,1,0,"brass_key_1")
spawn("skull",13,9,1,-1,"skull_1")
spawn("skull",14,7,0,-1,"skull_2")
spawn("skull",17,7,2,0,"skull_3")
spawn("embalmers_robe",17,7,3,0,"embalmers_robe_1")
spawn("timer",18,7,1,0,"timer_2")
timer_2.timer:setTimerInterval(35)
timer_2.timer:setDisableSelf(false)
timer_2.timer:setTriggerOnStart(true)
timer_2.timer:setCurrentLevelOnly(true)
timer_2.timer:addConnector("onActivate", "spawner_3", "activate")
spawn("spawner",17,7,2,0,"spawner_3")
spawner_3.spawner:setSpawnedEntity("poison_cloud_large")
spawner_3.spawner:setMonsterLevel(1)
spawner_3.spawner:setCooldown(0)
spawner_3.spawner:setDisableSelf(false)
spawn("floor_trigger",17,7,3,0,"floor_trigger_1")
floor_trigger_1.floortrigger:setTriggeredByParty(true)
floor_trigger_1.floortrigger:setTriggeredByMonster(true)
floor_trigger_1.floortrigger:setTriggeredByItem(false)
floor_trigger_1.floortrigger:setTriggeredByDigging(false)
floor_trigger_1.floortrigger:setDisableSelf(false)
floor_trigger_1.floortrigger:addConnector("onActivate", "counter_1", "decrement")
spawn("counter",18,6,0,0,"counter_1")
counter_1.counter:setValue(1)
counter_1.counter:addConnector("onActivate", "sewers_script", "foundBalbuino")
spawn("dungeon_stairs_down",9,14,1,0,"dungeon_stairs_down_2")
spawn("dungeon_stairs_up",9,9,0,0,"dungeon_stairs_up_4")
spawn("dungeon_door_portcullis",8,14,1,0,"dungeon_door_portcullis_2")
spawn("dungeon_wall_text",8,13,1,0,"dungeon_wall_text_3")
dungeon_wall_text_3.walltext:setWallText("Lair Of The Beast")
spawn("swamp_dungeon_fog",5,0,3,0,"swamp_dungeon_fog_1")
spawn("spawner",7,9,1,0,"spawner_4")
spawner_4.spawner:setSpawnedEntity("poison_cloud_small")
spawner_4.spawner:setMonsterLevel(1)
spawner_4.spawner:setCooldown(0)
spawner_4.spawner:setDisableSelf(false)
spawn("rat_shank",16,9,3,0,"rat_shank_1")
spawn("rat_shank",12,9,3,0,"rat_shank_2")
spawn("pedestal",11,7,0,0,"pedestal_1")
spawn("nomad_mittens",11,7,0,0,"nomad_mittens_1")
spawn("nomad_boots",16,11,3,0,"nomad_boots_1")
spawn("potion_cure_poison",12,7,3,0,"potion_cure_poison_2")
spawn("arrow",11,8,2,0,"arrow_1")
spawn("pullchain",9,14,3,0,"pullchain_1")
pullchain_1.button:setDisableSelf(false)
pullchain_1.button:addConnector("onActivate", "dungeon_door_portcullis_2", "toggle")
spawn("pullchain",8,10,0,0,"pullchain_2")
pullchain_2.button:setDisableSelf(false)
pullchain_2.button:addConnector("onActivate", "sound_2", "activate")
pullchain_2.button:addConnector("onActivate", "timer_4", "start")
pullchain_2.button:addConnector("onActivate", "dungeon_pit_trapdoor_3", "open")
spawn("sound",7,8,2,0,"sound_2")
sound_2.sound:setSound("water_hit_large")
sound_2.sound:disable()
spawn("timer",8,8,3,0,"timer_4")
timer_4.timer:setTimerInterval(5)
timer_4.timer:setDisableSelf(true)
timer_4.timer:setTriggerOnStart(false)
timer_4.timer:setCurrentLevelOnly(false)
timer_4.timer:addConnector("onActivate", "sound_2", "deactivate")
timer_4.timer:addConnector("onActivate", "dungeon_pit_trapdoor_3", "close")
spawn("dungeon_pit_trapdoor",7,9,3,-2,"dungeon_pit_trapdoor_3")
spawn("ladder_metal",7,9,2,-2,"ladder_metal_9")
spawn("dungeon_wall_text",8,10,0,0,"dungeon_wall_text_5")
dungeon_wall_text_5.walltext:setWallText("Flush")
spawn("timer",6,9,1,0,"timer_9")
timer_9.timer:setTimerInterval(11)
timer_9.timer:setDisableSelf(false)
timer_9.timer:setTriggerOnStart(true)
timer_9.timer:setCurrentLevelOnly(true)
timer_9.timer:addConnector("onActivate", "spawner_4", "activate")
spawn("green_slime",15,10,1,0,"green_slime_1")
spawn("green_slime",14,8,2,0,"green_slime_2")
spawn("green_slime",11,7,2,0,"green_slime_3")
spawn("green_slime",12,9,0,0,"green_slime_4")
spawn("torch",11,11,1,0,"torch_1")
spawn("torch_holder",12,11,2,0,"torch_holder_5")
torch_holder_5.controller:setHasTorch(false)
spawn("dungeon_door_iron_barred",10,11,1,0,"dungeon_door_iron_barred_1")
spawn("mine_ceiling_lantern",12,7,1,0,"mine_ceiling_lantern_1")
spawn("swamp_grass_01",12,8,3,0,"swamp_grass_01_1")
spawn("swamp_heather",16,11,3,0,"swamp_heather_1")
spawn("swamp_heather_low",15,11,0,0,"swamp_heather_low_1")
spawn("swamp_heather_low",16,10,0,0,"swamp_heather_low_2")
spawn("swamp_grass_01",14,11,3,0,"swamp_grass_01_2")
spawn("swamp_grass_01",15,10,3,0,"swamp_grass_01_3")
spawn("swamp_grass_01",16,9,3,0,"swamp_grass_01_4")
spawn("swamp_grass_01",15,9,3,0,"swamp_grass_01_5")
spawn("swamp_grass_01",8,15,3,0,"swamp_grass_01_6")
spawn("swamp_grass_01",12,9,3,0,"swamp_grass_01_7")
spawn("dungeon_wall_text",10,11,2,0,"dungeon_wall_text_6")
dungeon_wall_text_6.walltext:setWallText("Sewers hub")
spawn("floor_trigger",9,14,2,0,"floor_trigger_4")
floor_trigger_4.floortrigger:setTriggeredByParty(true)
floor_trigger_4.floortrigger:setTriggeredByMonster(false)
floor_trigger_4.floortrigger:setTriggeredByItem(false)
floor_trigger_4.floortrigger:setTriggeredByDigging(false)
floor_trigger_4.floortrigger:setDisableSelf(true)
floor_trigger_4.floortrigger:addConnector("onActivate", "sewers_script", "escapedLair")
spawn("lock",11,11,2,0,"lock_1")
lock_1.lock:setOpenedBy("brass_key")
lock_1.lock:addConnector("onActivate", "dungeon_door_iron_barred_1", "open")
spawn("mine_ceiling_lantern",16,11,1,0,"mine_ceiling_lantern_2")
spawn("dungeon_ceiling_shaft_0000",2,2,3,0,"dungeon_ceiling_shaft_0000_2")
spawn("remains_bones",2,2,0,0,"remains_bones_4")
spawn("remains_bones",3,1,2,0,"remains_bones_5")
spawn("pirate_pants",2,2,3,0,"pirate_pants_3")
spawn("dungeon_pit_trapdoor",2,9,3,0,"dungeon_pit_trapdoor_4")
spawn("dungeon_secret_button_large",2,10,2,0,"dungeon_secret_button_large_2")
dungeon_secret_button_large_2.button:setDisableSelf(false)
dungeon_secret_button_large_2.button:addConnector("onActivate", "dungeon_pit_trapdoor_4", "open")
spawn("food_mushroom",17,7,2,0,"food_mushroom_3")
spawn("food_mushroom",17,7,1,0,"food_mushroom_4")

--- level 10 ---

newMap{
	name = "Lighthouse lair",
	width = 32,
	height = 32,
	levelCoord = {0,0,3},
	ambientTrack = "swamp",
	tiles = {
		"dungeon_floor",
		"dungeon_floor_water",
		"dungeon_wall",
	}
}

loadLayer("floor_elevation", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,3,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,2,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,-2,0,0,0,0,-2,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,-2,0,0,0,0,-2,0,0,0,0,-1,-1,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,-2,0,0,0,0,-2,0,0,-1,-1,-1,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,0,2,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,-2,-2,1,1,2,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,6,6,6,6,6,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("ceiling_elevation", {
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,-1,1,1,1,1,-1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,-1,1,1,1,1,-1,1,1,7,7,7,7,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,-1,1,1,1,1,-1,1,1,7,7,7,7,7,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,-1,-1,-1,-1,-1,-1,-1,-1,7,7,7,7,7,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
})

loadLayer("reflection", {
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
})

loadLayer("tiles", {
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,2,3,3,3,3,2,3,3,3,3,1,3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,2,3,3,3,3,2,3,3,1,1,2,2,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,2,3,3,3,3,2,3,3,2,2,2,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,2,2,2,2,2,2,2,2,2,2,2,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,2,2,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
	3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,
})

spawn("swamp_water",4,0,2,0,"swamp_water_2")
spawn("dungeon_stairs_up",9,14,3,6,"dungeon_stairs_up_3")
spawn("ladder_metal",11,11,0,-1,"ladder_metal_13")
spawn("ladder_metal",12,11,1,-1,"ladder_metal_14")
spawn("ladder_metal",13,12,2,0,"ladder_metal_15")
spawn("ladder_metal",13,13,1,1,"ladder_metal_16")
spawn("ladder_metal",14,12,0,2,"ladder_metal_17")
spawn("ladder_metal",15,11,2,3,"ladder_metal_18")
spawn("ladder_metal",15,13,2,4,"ladder_metal_19")
spawn("ladder_metal",14,14,3,5,"ladder_metal_20")
spawn("ladder_metal",11,12,0,-2,"ladder_metal_12")
spawn("swamp_toad",13,12,0,0,"swamp_toad_1")
spawn("forest_underwater_plankton",10,13,3,-2,"forest_underwater_plankton_1")
spawn("forest_underwater_plankton",10,12,3,-2,"forest_underwater_plankton_2")
spawn("forest_underwater_plankton",11,12,3,-2,"forest_underwater_plankton_3")
spawn("forest_underwater_plankton",11,13,3,-2,"forest_underwater_plankton_4")
spawn("forest_underwater_plankton",9,12,3,-2,"forest_underwater_plankton_5")
spawn("forest_underwater_plankton",8,12,3,-2,"forest_underwater_plankton_6")
spawn("forest_underwater_plankton",7,12,3,-2,"forest_underwater_plankton_7")
spawn("forest_underwater_plankton",7,11,3,-2,"forest_underwater_plankton_8")
spawn("forest_underwater_plankton",7,10,3,-2,"forest_underwater_plankton_9")
spawn("potion_cure_poison",11,10,0,0,"potion_cure_poison_1")
spawn("bone_club",10,10,3,0,"bone_club_1")
spawn("floor_dirt",10,10,3,0,"floor_dirt_3")
spawn("arrow",15,12,1,4,"arrow_4")
spawn("skull",13,10,1,-1,"skull_4")
spawn("dungeon_alcove",14,13,2,2,"dungeon_alcove_1")
spawn("potion_cure_poison",14,13,2,2,"potion_cure_poison_5")
potion_cure_poison_5.item:setStackSize(3)
dungeon_alcove_1.surface:addItem(potion_cure_poison_5.item)
spawn("swamp_dungeon_fog",2,0,1,0,"swamp_dungeon_fog_2")
spawn("spawner",11,12,3,0,"spawner_5")
spawner_5.spawner:setSpawnedEntity("poison_cloud_medium")
spawner_5.spawner:setMonsterLevel(1)
spawner_5.spawner:setCooldown(0)
spawner_5.spawner:setDisableSelf(false)
spawn("timer",9,11,0,0,"timer_5")
timer_5.timer:setTimerInterval(15)
timer_5.timer:setDisableSelf(false)
timer_5.timer:setTriggerOnStart(true)
timer_5.timer:setCurrentLevelOnly(true)
timer_5.timer:addConnector("onActivate", "spawner_5", "activate")
spawn("spawner",12,11,2,0,"spawner_6")
spawner_6.spawner:setSpawnedEntity("poison_cloud_small")
spawner_6.spawner:setMonsterLevel(1)
spawner_6.spawner:setCooldown(0)
spawner_6.spawner:setDisableSelf(false)
spawn("timer",9,10,0,0,"timer_6")
timer_6.timer:setTimerInterval(3)
timer_6.timer:setDisableSelf(true)
timer_6.timer:setTriggerOnStart(false)
timer_6.timer:setCurrentLevelOnly(true)
timer_6.timer:addConnector("onActivate", "spawner_5", "activate")
timer_6.timer:addConnector("onActivate", "spawner_7", "activate")
spawn("timer",11,9,0,0,"timer_7")
timer_7.timer:setTimerInterval(17)
timer_7.timer:setDisableSelf(false)
timer_7.timer:setTriggerOnStart(true)
timer_7.timer:setCurrentLevelOnly(true)
timer_7.timer:addConnector("onActivate", "spawner_6", "activate")
spawn("timer",10,9,0,0,"timer_8")
timer_8.timer:setTimerInterval(21)
timer_8.timer:setDisableSelf(false)
timer_8.timer:setTriggerOnStart(true)
timer_8.timer:setCurrentLevelOnly(true)
timer_8.timer:addConnector("onActivate", "spawner_7", "activate")
spawn("spawner",10,13,2,0,"spawner_7")
spawner_7.spawner:setSpawnedEntity("poison_cloud_small")
spawner_7.spawner:setMonsterLevel(1)
spawner_7.spawner:setCooldown(0)
spawner_7.spawner:setDisableSelf(false)
spawn("forest_underwater_plankton",6,12,3,-2,"forest_underwater_plankton_25")
spawn("forest_underwater_plankton",5,12,3,-2,"forest_underwater_plankton_26")
spawn("forest_underwater_plankton",4,12,3,-2,"forest_underwater_plankton_27")
spawn("forest_underwater_plankton",3,12,3,-2,"forest_underwater_plankton_28")
spawn("forest_underwater_plankton",2,12,3,-2,"forest_underwater_plankton_29")
spawn("forest_underwater_plankton",2,11,3,-2,"forest_underwater_plankton_30")
spawn("forest_underwater_plankton",2,10,3,-2,"forest_underwater_plankton_31")
spawn("rock",12,1,2,0,"rock_11")
spawn("rock",12,1,1,0,"rock_12")
spawn("rock",12,1,3,0,"rock_13")
spawn("rock",11,1,0,0,"rock_14")
spawn("rock",10,1,1,0,"rock_15")
spawn("the_beast",14,1,3,3,"the_beast_1")
the_beast_1.monster:setLevel(5)
the_beast_1.monster:setHealth(25000)
the_beast_1.brain:disable()
the_beast_1.basicAttack:disable()
the_beast_1.leapAttack:disable()
spawn("dungeon_pressure_plate",14,3,3,2,"dungeon_pressure_plate_2")
dungeon_pressure_plate_2.floortrigger:setTriggeredByParty(true)
dungeon_pressure_plate_2.floortrigger:setTriggeredByMonster(true)
dungeon_pressure_plate_2.floortrigger:setTriggeredByItem(true)
dungeon_pressure_plate_2.floortrigger:setTriggeredByDigging(false)
dungeon_pressure_plate_2.floortrigger:setDisableSelf(false)
dungeon_pressure_plate_2.floortrigger:addConnector("onToggle", "beast_script", "jump")
spawn("dungeon_pressure_plate",14,1,3,3,"beast_stand_1")
beast_stand_1.floortrigger:setTriggeredByParty(true)
beast_stand_1.floortrigger:setTriggeredByMonster(true)
beast_stand_1.floortrigger:setTriggeredByItem(true)
beast_stand_1.floortrigger:setTriggeredByDigging(false)
beast_stand_1.floortrigger:setDisableSelf(false)
spawn("script_entity",14,2,3,0,"beast_script")
beast_script.script:setSource("stand = 1\
\
function jump()\
\9stand = stand + 1\
\9if stand > 3 then\
\9\9stand = 1\
\9end\
\9local s = findEntity(\"beast_stand_\" .. stand)\
\9the_beast_1.brain:performAction(\"jump\",s.x,s.y,s.elevation)\
end")
spawn("dungeon_pressure_plate",12,6,3,3,"beast_stand_2")
beast_stand_2.floortrigger:setTriggeredByParty(true)
beast_stand_2.floortrigger:setTriggeredByMonster(true)
beast_stand_2.floortrigger:setTriggeredByItem(true)
beast_stand_2.floortrigger:setTriggeredByDigging(false)
beast_stand_2.floortrigger:setDisableSelf(false)
spawn("dungeon_pressure_plate",10,1,3,3,"beast_stand_3")
beast_stand_3.floortrigger:setTriggeredByParty(true)
beast_stand_3.floortrigger:setTriggeredByMonster(true)
beast_stand_3.floortrigger:setTriggeredByItem(true)
beast_stand_3.floortrigger:setTriggeredByDigging(false)
beast_stand_3.floortrigger:setDisableSelf(false)
